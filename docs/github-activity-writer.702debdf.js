parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"KA2S":[function(require,module,exports) {
var define;
var t,r=function(t){"use strict";var r,e=Object.prototype,n=e.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{u({},"")}catch(P){u=function(t,r,e){return t[r]=e}}function h(t,r,e,n){var o=r&&r.prototype instanceof d?r:d,i=Object.create(o.prototype),a=new G(n||[]);return i._invoke=function(t,r,e){var n=l;return function(o,i){if(n===p)throw new Error("Generator is already running");if(n===y){if("throw"===o)throw i;return F()}for(e.method=o,e.arg=i;;){var a=e.delegate;if(a){var c=j(a,e);if(c){if(c===v)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(n===l)throw n=y,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);n=p;var u=f(t,r,e);if("normal"===u.type){if(n=e.done?y:s,u.arg===v)continue;return{value:u.arg,done:e.done}}"throw"===u.type&&(n=y,e.method="throw",e.arg=u.arg)}}}(t,e,a),i}function f(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(P){return{type:"throw",arg:P}}}t.wrap=h;var l="suspendedStart",s="suspendedYield",p="executing",y="completed",v={};function d(){}function g(){}function m(){}var w={};w[i]=function(){return this};var L=Object.getPrototypeOf,x=L&&L(L(N([])));x&&x!==e&&n.call(x,i)&&(w=x);var b=m.prototype=d.prototype=Object.create(w);function E(t){["next","throw","return"].forEach(function(r){u(t,r,function(t){return this._invoke(r,t)})})}function _(t,r){var e;this._invoke=function(o,i){function a(){return new r(function(e,a){!function e(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var h=u.arg,l=h.value;return l&&"object"==typeof l&&n.call(l,"__await")?r.resolve(l.__await).then(function(t){e("next",t,a,c)},function(t){e("throw",t,a,c)}):r.resolve(l).then(function(t){h.value=t,a(h)},function(t){return e("throw",t,a,c)})}c(u.arg)}(o,i,e,a)})}return e=e?e.then(a,a):a()}}function j(t,e){var n=t.iterator[e.method];if(n===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=r,j(t,e),"throw"===e.method))return v;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var o=f(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,v;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=r),e.delegate=null,v):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}function O(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function k(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function G(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function N(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function e(){for(;++o<t.length;)if(n.call(t,o))return e.value=t[o],e.done=!1,e;return e.value=r,e.done=!0,e};return a.next=a}}return{next:F}}function F(){return{value:r,done:!0}}return g.prototype=b.constructor=m,m.constructor=g,g.displayName=u(m,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===g||"GeneratorFunction"===(r.displayName||r.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,u(t,c,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},E(_.prototype),_.prototype[a]=function(){return this},t.AsyncIterator=_,t.async=function(r,e,n,o,i){void 0===i&&(i=Promise);var a=new _(h(r,e,n,o),i);return t.isGeneratorFunction(e)?a:a.next().then(function(t){return t.done?t.value:a.next()})},E(b),u(b,c,"Generator"),b[i]=function(){return this},b.toString=function(){return"[object Generator]"},t.keys=function(t){var r=[];for(var e in t)r.push(e);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,G.prototype={constructor:G,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function o(n,o){return c.type="throw",c.arg=t,e.next=n,o&&(e.method="next",e.arg=r),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),h=n.call(a,"finallyLoc");if(u&&h){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;e>=0;--e){var o=this.tryEntries[e];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=r&&r<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=r,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),v},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),k(e),v}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc===t){var n=e.completion;if("throw"===n.type){var o=n.arg;k(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:N(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=r),v}},t}("object"==typeof module?module.exports:{});try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}
},{}],"SR8d":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Batcher=exports.once=exports.debounce=void 0;const e=(e,t)=>{let s;return()=>{s&&clearTimeout(s),s=setTimeout(()=>e(),t)}};exports.debounce=e;const t=e=>{let t=!1;return(...s)=>{t||e(...s),t=!0}};exports.once=t;class s{constructor(e){this.executor=e,this.items=[]}async process(){const e=this.items;this.items=[],await this.executor(e.map(({item:e})=>e)),e.map(({onProcessed:e})=>e()),this.items.length?this.ongoing=this.process():this.ongoing=void 0}async queue(e){const t=new Promise(t=>this.items.push({item:e,onProcessed:t}));return this.ongoing||(this.ongoing=new Promise(e=>setTimeout(e,15)).then(()=>this.process())),t}}exports.Batcher=s;
},{}],"FRly":[function(require,module,exports) {
"use strict";exports.byteLength=u,exports.toByteArray=i,exports.fromByteArray=d;for(var r=[],t=[],e="undefined"!=typeof Uint8Array?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,a=n.length;o<a;++o)r[o]=n[o],t[n.charCodeAt(o)]=o;function h(r){var t=r.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=r.indexOf("=");return-1===e&&(e=t),[e,e===t?0:4-e%4]}function u(r){var t=h(r),e=t[0],n=t[1];return 3*(e+n)/4-n}function c(r,t,e){return 3*(t+e)/4-e}function i(r){var n,o,a=h(r),u=a[0],i=a[1],f=new e(c(r,u,i)),A=0,d=i>0?u-4:u;for(o=0;o<d;o+=4)n=t[r.charCodeAt(o)]<<18|t[r.charCodeAt(o+1)]<<12|t[r.charCodeAt(o+2)]<<6|t[r.charCodeAt(o+3)],f[A++]=n>>16&255,f[A++]=n>>8&255,f[A++]=255&n;return 2===i&&(n=t[r.charCodeAt(o)]<<2|t[r.charCodeAt(o+1)]>>4,f[A++]=255&n),1===i&&(n=t[r.charCodeAt(o)]<<10|t[r.charCodeAt(o+1)]<<4|t[r.charCodeAt(o+2)]>>2,f[A++]=n>>8&255,f[A++]=255&n),f}function f(t){return r[t>>18&63]+r[t>>12&63]+r[t>>6&63]+r[63&t]}function A(r,t,e){for(var n,o=[],a=t;a<e;a+=3)n=(r[a]<<16&16711680)+(r[a+1]<<8&65280)+(255&r[a+2]),o.push(f(n));return o.join("")}function d(t){for(var e,n=t.length,o=n%3,a=[],h=0,u=n-o;h<u;h+=16383)a.push(A(t,h,h+16383>u?u:h+16383));return 1===o?(e=t[n-1],a.push(r[e>>2]+r[e<<4&63]+"==")):2===o&&(e=(t[n-2]<<8)+t[n-1],a.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),a.join("")}t["-".charCodeAt(0)]=62,t["_".charCodeAt(0)]=63;
},{}],"Quj6":[function(require,module,exports) {
exports.read=function(a,o,t,r,h){var M,p,w=8*h-r-1,f=(1<<w)-1,e=f>>1,i=-7,N=t?h-1:0,n=t?-1:1,s=a[o+N];for(N+=n,M=s&(1<<-i)-1,s>>=-i,i+=w;i>0;M=256*M+a[o+N],N+=n,i-=8);for(p=M&(1<<-i)-1,M>>=-i,i+=r;i>0;p=256*p+a[o+N],N+=n,i-=8);if(0===M)M=1-e;else{if(M===f)return p?NaN:1/0*(s?-1:1);p+=Math.pow(2,r),M-=e}return(s?-1:1)*p*Math.pow(2,M-r)},exports.write=function(a,o,t,r,h,M){var p,w,f,e=8*M-h-1,i=(1<<e)-1,N=i>>1,n=23===h?Math.pow(2,-24)-Math.pow(2,-77):0,s=r?0:M-1,u=r?1:-1,l=o<0||0===o&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(w=isNaN(o)?1:0,p=i):(p=Math.floor(Math.log(o)/Math.LN2),o*(f=Math.pow(2,-p))<1&&(p--,f*=2),(o+=p+N>=1?n/f:n*Math.pow(2,1-N))*f>=2&&(p++,f/=2),p+N>=i?(w=0,p=i):p+N>=1?(w=(o*f-1)*Math.pow(2,h),p+=N):(w=o*Math.pow(2,N-1)*Math.pow(2,h),p=0));h>=8;a[t+s]=255&w,s+=u,w/=256,h-=8);for(p=p<<h|w,e+=h;e>0;a[t+s]=255&p,s+=u,p/=256,e-=8);a[t+s-u]|=128*l};
},{}],"aqZJ":[function(require,module,exports) {
var r={}.toString;module.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)};
},{}],"aMB2":[function(require,module,exports) {

var global = arguments[3];
var t=arguments[3],r=require("base64-js"),e=require("ieee754"),n=require("isarray");function i(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(r){return!1}}function o(){return f.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(t,r){if(o()<r)throw new RangeError("Invalid typed array length");return f.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(r)).__proto__=f.prototype:(null===t&&(t=new f(r)),t.length=r),t}function f(t,r,e){if(!(f.TYPED_ARRAY_SUPPORT||this instanceof f))return new f(t,r,e);if("number"==typeof t){if("string"==typeof r)throw new Error("If encoding is specified then the first argument must be a string");return c(this,t)}return s(this,t,r,e)}function s(t,r,e,n){if("number"==typeof r)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&r instanceof ArrayBuffer?g(t,r,e,n):"string"==typeof r?l(t,r,e):y(t,r)}function h(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function a(t,r,e,n){return h(r),r<=0?u(t,r):void 0!==e?"string"==typeof n?u(t,r).fill(e,n):u(t,r).fill(e):u(t,r)}function c(t,r){if(h(r),t=u(t,r<0?0:0|w(r)),!f.TYPED_ARRAY_SUPPORT)for(var e=0;e<r;++e)t[e]=0;return t}function l(t,r,e){if("string"==typeof e&&""!==e||(e="utf8"),!f.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');var n=0|v(r,e),i=(t=u(t,n)).write(r,e);return i!==n&&(t=t.slice(0,i)),t}function p(t,r){var e=r.length<0?0:0|w(r.length);t=u(t,e);for(var n=0;n<e;n+=1)t[n]=255&r[n];return t}function g(t,r,e,n){if(r.byteLength,e<0||r.byteLength<e)throw new RangeError("'offset' is out of bounds");if(r.byteLength<e+(n||0))throw new RangeError("'length' is out of bounds");return r=void 0===e&&void 0===n?new Uint8Array(r):void 0===n?new Uint8Array(r,e):new Uint8Array(r,e,n),f.TYPED_ARRAY_SUPPORT?(t=r).__proto__=f.prototype:t=p(t,r),t}function y(t,r){if(f.isBuffer(r)){var e=0|w(r.length);return 0===(t=u(t,e)).length?t:(r.copy(t,0,0,e),t)}if(r){if("undefined"!=typeof ArrayBuffer&&r.buffer instanceof ArrayBuffer||"length"in r)return"number"!=typeof r.length||W(r.length)?u(t,0):p(t,r);if("Buffer"===r.type&&n(r.data))return p(t,r.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function w(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function d(t){return+t!=t&&(t=0),f.alloc(+t)}function v(t,r){if(f.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var e=t.length;if(0===e)return 0;for(var n=!1;;)switch(r){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":case void 0:return $(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*e;case"hex":return e>>>1;case"base64":return K(t).length;default:if(n)return $(t).length;r=(""+r).toLowerCase(),n=!0}}function E(t,r,e){var n=!1;if((void 0===r||r<0)&&(r=0),r>this.length)return"";if((void 0===e||e>this.length)&&(e=this.length),e<=0)return"";if((e>>>=0)<=(r>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return x(this,r,e);case"utf8":case"utf-8":return Y(this,r,e);case"ascii":return L(this,r,e);case"latin1":case"binary":return D(this,r,e);case"base64":return S(this,r,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,r,e);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function b(t,r,e){var n=t[r];t[r]=t[e],t[e]=n}function R(t,r,e,n,i){if(0===t.length)return-1;if("string"==typeof e?(n=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,isNaN(e)&&(e=i?0:t.length-1),e<0&&(e=t.length+e),e>=t.length){if(i)return-1;e=t.length-1}else if(e<0){if(!i)return-1;e=0}if("string"==typeof r&&(r=f.from(r,n)),f.isBuffer(r))return 0===r.length?-1:_(t,r,e,n,i);if("number"==typeof r)return r&=255,f.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,r,e):Uint8Array.prototype.lastIndexOf.call(t,r,e):_(t,[r],e,n,i);throw new TypeError("val must be string, number or Buffer")}function _(t,r,e,n,i){var o,u=1,f=t.length,s=r.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||r.length<2)return-1;u=2,f/=2,s/=2,e/=2}function h(t,r){return 1===u?t[r]:t.readUInt16BE(r*u)}if(i){var a=-1;for(o=e;o<f;o++)if(h(t,o)===h(r,-1===a?0:o-a)){if(-1===a&&(a=o),o-a+1===s)return a*u}else-1!==a&&(o-=o-a),a=-1}else for(e+s>f&&(e=f-s),o=e;o>=0;o--){for(var c=!0,l=0;l<s;l++)if(h(t,o+l)!==h(r,l)){c=!1;break}if(c)return o}return-1}function A(t,r,e,n){e=Number(e)||0;var i=t.length-e;n?(n=Number(n))>i&&(n=i):n=i;var o=r.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var u=0;u<n;++u){var f=parseInt(r.substr(2*u,2),16);if(isNaN(f))return u;t[e+u]=f}return u}function m(t,r,e,n){return Q($(r,t.length-e),t,e,n)}function P(t,r,e,n){return Q(G(r),t,e,n)}function T(t,r,e,n){return P(t,r,e,n)}function B(t,r,e,n){return Q(K(r),t,e,n)}function U(t,r,e,n){return Q(H(r,t.length-e),t,e,n)}function S(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function Y(t,r,e){e=Math.min(t.length,e);for(var n=[],i=r;i<e;){var o,u,f,s,h=t[i],a=null,c=h>239?4:h>223?3:h>191?2:1;if(i+c<=e)switch(c){case 1:h<128&&(a=h);break;case 2:128==(192&(o=t[i+1]))&&(s=(31&h)<<6|63&o)>127&&(a=s);break;case 3:o=t[i+1],u=t[i+2],128==(192&o)&&128==(192&u)&&(s=(15&h)<<12|(63&o)<<6|63&u)>2047&&(s<55296||s>57343)&&(a=s);break;case 4:o=t[i+1],u=t[i+2],f=t[i+3],128==(192&o)&&128==(192&u)&&128==(192&f)&&(s=(15&h)<<18|(63&o)<<12|(63&u)<<6|63&f)>65535&&s<1114112&&(a=s)}null===a?(a=65533,c=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),i+=c}return O(n)}exports.Buffer=f,exports.SlowBuffer=d,exports.INSPECT_MAX_BYTES=50,f.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:i(),exports.kMaxLength=o(),f.poolSize=8192,f._augment=function(t){return t.__proto__=f.prototype,t},f.from=function(t,r,e){return s(null,t,r,e)},f.TYPED_ARRAY_SUPPORT&&(f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&f[Symbol.species]===f&&Object.defineProperty(f,Symbol.species,{value:null,configurable:!0})),f.alloc=function(t,r,e){return a(null,t,r,e)},f.allocUnsafe=function(t){return c(null,t)},f.allocUnsafeSlow=function(t){return c(null,t)},f.isBuffer=function(t){return!(null==t||!t._isBuffer)},f.compare=function(t,r){if(!f.isBuffer(t)||!f.isBuffer(r))throw new TypeError("Arguments must be Buffers");if(t===r)return 0;for(var e=t.length,n=r.length,i=0,o=Math.min(e,n);i<o;++i)if(t[i]!==r[i]){e=t[i],n=r[i];break}return e<n?-1:n<e?1:0},f.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(t,r){if(!n(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return f.alloc(0);var e;if(void 0===r)for(r=0,e=0;e<t.length;++e)r+=t[e].length;var i=f.allocUnsafe(r),o=0;for(e=0;e<t.length;++e){var u=t[e];if(!f.isBuffer(u))throw new TypeError('"list" argument must be an Array of Buffers');u.copy(i,o),o+=u.length}return i},f.byteLength=v,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<t;r+=2)b(this,r,r+1);return this},f.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<t;r+=4)b(this,r,r+3),b(this,r+1,r+2);return this},f.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<t;r+=8)b(this,r,r+7),b(this,r+1,r+6),b(this,r+2,r+5),b(this,r+3,r+4);return this},f.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?Y(this,0,t):E.apply(this,arguments)},f.prototype.equals=function(t){if(!f.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===f.compare(this,t)},f.prototype.inspect=function(){var t="",r=exports.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},f.prototype.compare=function(t,r,e,n,i){if(!f.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===r&&(r=0),void 0===e&&(e=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),r<0||e>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&r>=e)return 0;if(n>=i)return-1;if(r>=e)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(n>>>=0),u=(e>>>=0)-(r>>>=0),s=Math.min(o,u),h=this.slice(n,i),a=t.slice(r,e),c=0;c<s;++c)if(h[c]!==a[c]){o=h[c],u=a[c];break}return o<u?-1:u<o?1:0},f.prototype.includes=function(t,r,e){return-1!==this.indexOf(t,r,e)},f.prototype.indexOf=function(t,r,e){return R(this,t,r,e,!0)},f.prototype.lastIndexOf=function(t,r,e){return R(this,t,r,e,!1)},f.prototype.write=function(t,r,e,n){if(void 0===r)n="utf8",e=this.length,r=0;else if(void 0===e&&"string"==typeof r)n=r,e=this.length,r=0;else{if(!isFinite(r))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");r|=0,isFinite(e)?(e|=0,void 0===n&&(n="utf8")):(n=e,e=void 0)}var i=this.length-r;if((void 0===e||e>i)&&(e=i),t.length>0&&(e<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return A(this,t,r,e);case"utf8":case"utf-8":return m(this,t,r,e);case"ascii":return P(this,t,r,e);case"latin1":case"binary":return T(this,t,r,e);case"base64":return B(this,t,r,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,t,r,e);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var I=4096;function O(t){var r=t.length;if(r<=I)return String.fromCharCode.apply(String,t);for(var e="",n=0;n<r;)e+=String.fromCharCode.apply(String,t.slice(n,n+=I));return e}function L(t,r,e){var n="";e=Math.min(t.length,e);for(var i=r;i<e;++i)n+=String.fromCharCode(127&t[i]);return n}function D(t,r,e){var n="";e=Math.min(t.length,e);for(var i=r;i<e;++i)n+=String.fromCharCode(t[i]);return n}function x(t,r,e){var n=t.length;(!r||r<0)&&(r=0),(!e||e<0||e>n)&&(e=n);for(var i="",o=r;o<e;++o)i+=Z(t[o]);return i}function C(t,r,e){for(var n=t.slice(r,e),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function M(t,r,e){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+r>e)throw new RangeError("Trying to access beyond buffer length")}function k(t,r,e,n,i,o){if(!f.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>i||r<o)throw new RangeError('"value" argument is out of bounds');if(e+n>t.length)throw new RangeError("Index out of range")}function N(t,r,e,n){r<0&&(r=65535+r+1);for(var i=0,o=Math.min(t.length-e,2);i<o;++i)t[e+i]=(r&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function z(t,r,e,n){r<0&&(r=4294967295+r+1);for(var i=0,o=Math.min(t.length-e,4);i<o;++i)t[e+i]=r>>>8*(n?i:3-i)&255}function F(t,r,e,n,i,o){if(e+n>t.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function j(t,r,n,i,o){return o||F(t,r,n,4,3.4028234663852886e38,-3.4028234663852886e38),e.write(t,r,n,i,23,4),n+4}function q(t,r,n,i,o){return o||F(t,r,n,8,1.7976931348623157e308,-1.7976931348623157e308),e.write(t,r,n,i,52,8),n+8}f.prototype.slice=function(t,r){var e,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(r=void 0===r?n:~~r)<0?(r+=n)<0&&(r=0):r>n&&(r=n),r<t&&(r=t),f.TYPED_ARRAY_SUPPORT)(e=this.subarray(t,r)).__proto__=f.prototype;else{var i=r-t;e=new f(i,void 0);for(var o=0;o<i;++o)e[o]=this[o+t]}return e},f.prototype.readUIntLE=function(t,r,e){t|=0,r|=0,e||M(t,r,this.length);for(var n=this[t],i=1,o=0;++o<r&&(i*=256);)n+=this[t+o]*i;return n},f.prototype.readUIntBE=function(t,r,e){t|=0,r|=0,e||M(t,r,this.length);for(var n=this[t+--r],i=1;r>0&&(i*=256);)n+=this[t+--r]*i;return n},f.prototype.readUInt8=function(t,r){return r||M(t,1,this.length),this[t]},f.prototype.readUInt16LE=function(t,r){return r||M(t,2,this.length),this[t]|this[t+1]<<8},f.prototype.readUInt16BE=function(t,r){return r||M(t,2,this.length),this[t]<<8|this[t+1]},f.prototype.readUInt32LE=function(t,r){return r||M(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},f.prototype.readUInt32BE=function(t,r){return r||M(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},f.prototype.readIntLE=function(t,r,e){t|=0,r|=0,e||M(t,r,this.length);for(var n=this[t],i=1,o=0;++o<r&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*r)),n},f.prototype.readIntBE=function(t,r,e){t|=0,r|=0,e||M(t,r,this.length);for(var n=r,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*r)),o},f.prototype.readInt8=function(t,r){return r||M(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},f.prototype.readInt16LE=function(t,r){r||M(t,2,this.length);var e=this[t]|this[t+1]<<8;return 32768&e?4294901760|e:e},f.prototype.readInt16BE=function(t,r){r||M(t,2,this.length);var e=this[t+1]|this[t]<<8;return 32768&e?4294901760|e:e},f.prototype.readInt32LE=function(t,r){return r||M(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},f.prototype.readInt32BE=function(t,r){return r||M(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},f.prototype.readFloatLE=function(t,r){return r||M(t,4,this.length),e.read(this,t,!0,23,4)},f.prototype.readFloatBE=function(t,r){return r||M(t,4,this.length),e.read(this,t,!1,23,4)},f.prototype.readDoubleLE=function(t,r){return r||M(t,8,this.length),e.read(this,t,!0,52,8)},f.prototype.readDoubleBE=function(t,r){return r||M(t,8,this.length),e.read(this,t,!1,52,8)},f.prototype.writeUIntLE=function(t,r,e,n){(t=+t,r|=0,e|=0,n)||k(this,t,r,e,Math.pow(2,8*e)-1,0);var i=1,o=0;for(this[r]=255&t;++o<e&&(i*=256);)this[r+o]=t/i&255;return r+e},f.prototype.writeUIntBE=function(t,r,e,n){(t=+t,r|=0,e|=0,n)||k(this,t,r,e,Math.pow(2,8*e)-1,0);var i=e-1,o=1;for(this[r+i]=255&t;--i>=0&&(o*=256);)this[r+i]=t/o&255;return r+e},f.prototype.writeUInt8=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,1,255,0),f.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[r]=255&t,r+1},f.prototype.writeUInt16LE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):N(this,t,r,!0),r+2},f.prototype.writeUInt16BE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):N(this,t,r,!1),r+2},f.prototype.writeUInt32LE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=255&t):z(this,t,r,!0),r+4},f.prototype.writeUInt32BE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):z(this,t,r,!1),r+4},f.prototype.writeIntLE=function(t,r,e,n){if(t=+t,r|=0,!n){var i=Math.pow(2,8*e-1);k(this,t,r,e,i-1,-i)}var o=0,u=1,f=0;for(this[r]=255&t;++o<e&&(u*=256);)t<0&&0===f&&0!==this[r+o-1]&&(f=1),this[r+o]=(t/u>>0)-f&255;return r+e},f.prototype.writeIntBE=function(t,r,e,n){if(t=+t,r|=0,!n){var i=Math.pow(2,8*e-1);k(this,t,r,e,i-1,-i)}var o=e-1,u=1,f=0;for(this[r+o]=255&t;--o>=0&&(u*=256);)t<0&&0===f&&0!==this[r+o+1]&&(f=1),this[r+o]=(t/u>>0)-f&255;return r+e},f.prototype.writeInt8=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,1,127,-128),f.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[r]=255&t,r+1},f.prototype.writeInt16LE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):N(this,t,r,!0),r+2},f.prototype.writeInt16BE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):N(this,t,r,!1),r+2},f.prototype.writeInt32LE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,4,2147483647,-2147483648),f.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24):z(this,t,r,!0),r+4},f.prototype.writeInt32BE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),f.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):z(this,t,r,!1),r+4},f.prototype.writeFloatLE=function(t,r,e){return j(this,t,r,!0,e)},f.prototype.writeFloatBE=function(t,r,e){return j(this,t,r,!1,e)},f.prototype.writeDoubleLE=function(t,r,e){return q(this,t,r,!0,e)},f.prototype.writeDoubleBE=function(t,r,e){return q(this,t,r,!1,e)},f.prototype.copy=function(t,r,e,n){if(e||(e=0),n||0===n||(n=this.length),r>=t.length&&(r=t.length),r||(r=0),n>0&&n<e&&(n=e),n===e)return 0;if(0===t.length||0===this.length)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(e<0||e>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-r<n-e&&(n=t.length-r+e);var i,o=n-e;if(this===t&&e<r&&r<n)for(i=o-1;i>=0;--i)t[i+r]=this[i+e];else if(o<1e3||!f.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+r]=this[i+e];else Uint8Array.prototype.set.call(t,this.subarray(e,e+o),r);return o},f.prototype.fill=function(t,r,e,n){if("string"==typeof t){if("string"==typeof r?(n=r,r=0,e=this.length):"string"==typeof e&&(n=e,e=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!f.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(r<0||this.length<r||this.length<e)throw new RangeError("Out of range index");if(e<=r)return this;var o;if(r>>>=0,e=void 0===e?this.length:e>>>0,t||(t=0),"number"==typeof t)for(o=r;o<e;++o)this[o]=t;else{var u=f.isBuffer(t)?t:$(new f(t,n).toString()),s=u.length;for(o=0;o<e-r;++o)this[o+r]=u[o%s]}return this};var V=/[^+\/0-9A-Za-z-_]/g;function X(t){if((t=J(t).replace(V,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}function J(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Z(t){return t<16?"0"+t.toString(16):t.toString(16)}function $(t,r){var e;r=r||1/0;for(var n=t.length,i=null,o=[],u=0;u<n;++u){if((e=t.charCodeAt(u))>55295&&e<57344){if(!i){if(e>56319){(r-=3)>-1&&o.push(239,191,189);continue}if(u+1===n){(r-=3)>-1&&o.push(239,191,189);continue}i=e;continue}if(e<56320){(r-=3)>-1&&o.push(239,191,189),i=e;continue}e=65536+(i-55296<<10|e-56320)}else i&&(r-=3)>-1&&o.push(239,191,189);if(i=null,e<128){if((r-=1)<0)break;o.push(e)}else if(e<2048){if((r-=2)<0)break;o.push(e>>6|192,63&e|128)}else if(e<65536){if((r-=3)<0)break;o.push(e>>12|224,e>>6&63|128,63&e|128)}else{if(!(e<1114112))throw new Error("Invalid code point");if((r-=4)<0)break;o.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}}return o}function G(t){for(var r=[],e=0;e<t.length;++e)r.push(255&t.charCodeAt(e));return r}function H(t,r){for(var e,n,i,o=[],u=0;u<t.length&&!((r-=2)<0);++u)n=(e=t.charCodeAt(u))>>8,i=e%256,o.push(i),o.push(n);return o}function K(t){return r.toByteArray(X(t))}function Q(t,r,e,n){for(var i=0;i<n&&!(i+e>=r.length||i>=t.length);++i)r[i+e]=t[i];return i}function W(t){return t!=t}
},{"base64-js":"FRly","ieee754":"Quj6","isarray":"aqZJ","buffer":"aMB2"}],"MAgB":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var global = arguments[3];
var e=require("buffer").Buffer,t=arguments[3];!function(t){function r(){}function n(e,t){if(e=void 0===e?"utf-8":e,t=void 0===t?{fatal:!1}:t,-1===i.indexOf(e.toLowerCase()))throw new RangeError("Failed to construct 'TextDecoder': The encoding label provided ('"+e+"') is invalid.");if(t.fatal)throw Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}function o(e){for(var t=0,r=Math.min(65536,e.length+1),n=new Uint16Array(r),o=[],i=0;;){var f=t<e.length;if(!f||i>=r-1){if(o.push(String.fromCharCode.apply(null,n.subarray(0,i))),!f)return o.join("");e=e.subarray(t),i=t=0}if(0==(128&(f=e[t++])))n[i++]=f;else if(192==(224&f)){var a=63&e[t++];n[i++]=(31&f)<<6|a}else if(224==(240&f)){a=63&e[t++];var u=63&e[t++];n[i++]=(31&f)<<12|a<<6|u}else if(240==(248&f)){65535<(f=(7&f)<<18|(a=63&e[t++])<<12|(u=63&e[t++])<<6|63&e[t++])&&(f-=65536,n[i++]=f>>>10&1023|55296,f=56320|1023&f),n[i++]=f}}}if(t.TextEncoder&&t.TextDecoder)return!1;var i=["utf-8","utf8","unicode-1-1-utf-8"];Object.defineProperty(r.prototype,"encoding",{value:"utf-8"}),r.prototype.encode=function(e,t){if((t=void 0===t?{stream:!1}:t).stream)throw Error("Failed to encode: the 'stream' option is unsupported.");t=0;for(var r=e.length,n=0,o=Math.max(32,r+(r>>>1)+7),i=new Uint8Array(o>>>3<<3);t<r;){var f=e.charCodeAt(t++);if(55296<=f&&56319>=f){if(t<r){var a=e.charCodeAt(t);56320==(64512&a)&&(++t,f=((1023&f)<<10)+(1023&a)+65536)}if(55296<=f&&56319>=f)continue}if(n+4>i.length&&(o+=8,o=(o*=1+t/e.length*2)>>>3<<3,(a=new Uint8Array(o)).set(i),i=a),0==(4294967168&f))i[n++]=f;else{if(0==(4294965248&f))i[n++]=f>>>6&31|192;else if(0==(4294901760&f))i[n++]=f>>>12&15|224,i[n++]=f>>>6&63|128;else{if(0!=(4292870144&f))continue;i[n++]=f>>>18&7|240,i[n++]=f>>>12&63|128,i[n++]=f>>>6&63|128}i[n++]=63&f|128}}return i.slice?i.slice(0,n):i.subarray(0,n)},Object.defineProperty(n.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(n.prototype,"fatal",{value:!1}),Object.defineProperty(n.prototype,"ignoreBOM",{value:!1});var f=o;"function"==typeof e&&e.from?f=function(t){return e.from(t.buffer,t.byteOffset,t.byteLength).toString("utf-8")}:"function"==typeof Blob&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&(f=function(e){var t=URL.createObjectURL(new Blob([e],{type:"text/plain;charset=UTF-8"}));try{var r=new XMLHttpRequest;return r.open("GET",t,!1),r.send(),r.responseText}catch(n){return o(e)}finally{URL.revokeObjectURL(t)}}),n.prototype.decode=function(e,t){if((t=void 0===t?{stream:!1}:t).stream)throw Error("Failed to decode: the 'stream' option is unsupported.");return e=e instanceof Uint8Array?e:e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer):new Uint8Array(e),f(e)},t.TextEncoder=r,t.TextDecoder=n}("undefined"!=typeof window?window:void 0!==t?t:this);
},{"buffer":"aMB2"}],"A23F":[function(require,module,exports) {
require("fast-text-encoding"),module.exports={encode:e=>(new TextEncoder).encode(e),decode:e=>(new TextDecoder).decode(e)};
},{"fast-text-encoding":"MAgB"}],"AmNv":[function(require,module,exports) {
module.exports=class{constructor(i){this.type=i.type,this.mode=i.mode,this.size=i.size,this.ino=i.ino,this.mtimeMs=i.mtimeMs,this.ctimeMs=i.ctimeMs||i.mtimeMs,this.uid=1,this.gid=1,this.dev=1}isFile(){return"file"===this.type}isDirectory(){return"dir"===this.type}isSymbolicLink(){return"symlink"===this.type}};
},{}],"TpFc":[function(require,module,exports) {
function e(e){if(0===e.length)return".";let n=t(e);return n=n.reduce(u,[]),r(...n)}function n(...n){let t="";for(let o of n)t=o.startsWith("/")?o:e(r(t,o));return t}function r(...e){if(0===e.length)return"";let n=e.join("/");return n=n.replace(/\/{2,}/g,"/")}function t(e){if(0===e.length)return[];if("/"===e)return["/"];let n=e.split("/");return""===n[n.length-1]&&n.pop(),"/"===e[0]?n[0]="/":"."!==n[0]&&n.unshift("."),n}function o(e){const n=e.lastIndexOf("/");if(-1===n)throw new Error(`Cannot get dirname of "${e}"`);return 0===n?"/":e.slice(0,n)}function i(e){if("/"===e)throw new Error(`Cannot get basename of "${e}"`);const n=e.lastIndexOf("/");return-1===n?e:e.slice(n+1)}function u(e,n){if(0===e.length)return e.push(n),e;if("."===n)return e;if(".."===n){if(1===e.length){if("/"===e[0])throw new Error("Unable to normalize path - traverses above root directory");if("."===e[0])return e.push(n),e}return".."===e[e.length-1]?(e.push(".."),e):(e.pop(),e)}return e.push(n),e}module.exports={join:r,normalize:e,split:t,basename:i,dirname:o,resolve:n};
},{}],"ZWSg":[function(require,module,exports) {
function s(s){return class extends Error{constructor(...E){super(...E),this.code=s,this.message?this.message=s+": "+this.message:this.message=s}}}const E=s("EEXIST"),e=s("ENOENT"),T=s("ENOTDIR"),t=s("ENOTEMPTY"),r=s("ETIMEDOUT");module.exports={EEXIST:E,ENOENT:e,ENOTDIR:T,ENOTEMPTY:t,ETIMEDOUT:r};
},{}],"gNPE":[function(require,module,exports) {
const t=require("./path.js"),{EEXIST:e,ENOENT:n,ENOTDIR:o,ENOTEMPTY:i}=require("./errors.js"),s=0;module.exports=class{constructor(){this._maxInode=0}_makeRoot(t=new Map){return t.set(s,{mode:511,type:"dir",size:0,ino:0,mtimeMs:Date.now()}),t}activate(t=null){this._root=null===t?new Map([["/",this._makeRoot()]]):"string"==typeof t?new Map([["/",this._makeRoot(this.parse(t))]]):t}get activated(){return!!this._root}deactivate(){this._root=void 0}size(){return this._countInodes(this._root.get("/"))-1}_countInodes(t){let e=1;for(let[n,o]of t)n!==s&&(e+=this._countInodes(o));return e}autoinc(){return++this._maxInode}print(t=this._root.get("/")){let e="";const n=(t,o)=>{for(let[i,r]of t){if(0===i)continue;let t=r.get(s),l=t.mode.toString(8);e+=`${"\t".repeat(o)}${i}\t${l}`,"file"===t.type?e+=`\t${t.size}\t${t.mtimeMs}\n`:(e+="\n",n(r,o+1))}};return n(t,0),e}parse(t){let e=0;function n(t){const n=++e,o=1===t.length?"dir":"file";let[i,r,l]=t;return i=parseInt(i,8),r=r?parseInt(r):0,l=l?parseInt(l):Date.now(),new Map([[s,{mode:i,type:o,size:r,mtimeMs:l,ino:n}]])}let o=t.trim().split("\n"),i=this._makeRoot(),r=[{indent:-1,node:i},{indent:0,node:null}];for(let s of o){let t=s.match(/^\t*/)[0].length;s=s.slice(t);let[e,...o]=s.split("\t"),i=n(o);if(t<=r[r.length-1].indent)for(;t<=r[r.length-1].indent;)r.pop();r.push({indent:t,node:i}),r[r.length-2].node.set(e,i)}return i}_lookup(e,o=!0){let i=this._root,r="/",l=t.split(e);for(let a=0;a<l.length;++a){let u=l[a];if(!(i=i.get(u)))throw new n(e);if(o||a<l.length-1){const e=i.get(s);if("symlink"===e.type){let n=t.resolve(r,e.target);i=this._lookup(n)}r=r?t.join(r,u):u}}return i}mkdir(n,{mode:o}){if("/"===n)throw new e;let i=this._lookup(t.dirname(n)),r=t.basename(n);if(i.has(r))throw new e;let l=new Map,a={mode:o,type:"dir",size:0,mtimeMs:Date.now(),ino:this.autoinc()};l.set(s,a),i.set(r,l)}rmdir(e){let n=this._lookup(e);if("dir"!==n.get(s).type)throw new o;if(n.size>1)throw new i;let r=this._lookup(t.dirname(e)),l=t.basename(e);r.delete(l)}readdir(t){let e=this._lookup(t);if("dir"!==e.get(s).type)throw new o;return[...e.keys()].filter(t=>"string"==typeof t)}writeStat(e,n,{mode:o}){let i;try{let t=this.stat(e);null==o&&(o=t.mode),i=t.ino}catch(h){}null==o&&(o=438),null==i&&(i=this.autoinc());let r=this._lookup(t.dirname(e)),l=t.basename(e),a={mode:o,type:"file",size:n,mtimeMs:Date.now(),ino:i},u=new Map;return u.set(s,a),r.set(l,u),a}unlink(e){let n=this._lookup(t.dirname(e)),o=t.basename(e);n.delete(o)}rename(e,n){let o=t.basename(n),i=this._lookup(e);this._lookup(t.dirname(n)).set(o,i),this.unlink(e)}stat(t){return this._lookup(t).get(s)}lstat(t){return this._lookup(t,!1).get(s)}readlink(t){return this._lookup(t,!1).get(s).target}symlink(e,n){let o,i;try{let t=this.stat(n);null===i&&(i=t.mode),o=t.ino}catch(h){}null==i&&(i=40960),null==o&&(o=this.autoinc());let r=this._lookup(t.dirname(n)),l=t.basename(n),a={mode:i,type:"symlink",target:e,size:0,mtimeMs:Date.now(),ino:o},u=new Map;return u.set(s,a),r.set(l,u),a}_du(t){let e=0;for(const[n,o]of t.entries())e+=n===s?o.size:this._du(o);return e}du(t){let e=this._lookup(t);return this._du(e)}};
},{"./path.js":"TpFc","./errors.js":"ZWSg"}],"ogT1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.get=s,exports.set=i,exports.update=u,exports.del=c,exports.clear=a,exports.keys=h,exports.close=d,exports.Store=void 0;var e=require("./utils");class t{constructor(e="keyval-store",t="keyval"){this.storeName=t,this._dbName=e,this._storeName=t,this.id=`dbName:${e};;storeName:${t}`,this._init()}_init(){this._dbp||(this._dbp=new Promise((e,t)=>{const r=indexedDB.open(this._dbName);r.onerror=(()=>t(r.error)),r.onsuccess=(()=>e(r.result)),r.onupgradeneeded=(()=>{r.result.createObjectStore(this._storeName)})}))}_withIDBStore(e,t){return this._init(),this._dbp.then(r=>new Promise((o,s)=>{const n=r.transaction(this.storeName,e);n.oncomplete=(()=>o()),n.onabort=n.onerror=(()=>s(n.error)),t(n.objectStore(this.storeName))}))}_close(){return this._init(),this._dbp.then(e=>{e.close(),this._dbp=void 0})}}let r;function o(){return r||(r=new t),r}function s(e,t=o()){let r;return t._withIDBStore("readwrite",t=>{r=t.get(e)}).then(()=>r.result)}exports.Store=t;const n={};function i(t,r,s=o()){return n[s.id]||(n[s.id]=new e.Batcher(e=>s._withIDBStore("readwrite",t=>{for(const r of e)t.put(r.value,r.key)}))),n[s.id].queue({key:t,value:r})}function u(e,t,r=o()){return r._withIDBStore("readwrite",r=>{const o=r.get(e);o.onsuccess=(()=>{r.put(t(o.result),e)})})}function c(e,t=o()){return t._withIDBStore("readwrite",t=>{t.delete(e)})}function a(e=o()){return e._withIDBStore("readwrite",e=>{e.clear()})}function h(e=o()){const t=[];return e._withIDBStore("readwrite",e=>{(e.openKeyCursor||e.openCursor).call(e).onsuccess=function(){this.result&&(t.push(this.result.key),this.result.continue())}}).then(()=>t)}function d(e=o()){return e._close()}
},{"./utils":"SR8d"}],"xzCB":[function(require,module,exports) {
const e=require("./idb-keyval");module.exports=class{constructor(t,r){this._database=t,this._storename=r,this._store=new e.Store(this._database,this._storename)}saveSuperblock(t){return e.set("!root",t,this._store)}loadSuperblock(){return e.get("!root",this._store)}readFile(t){return e.get(t,this._store)}writeFile(t,r){return e.set(t,r,this._store)}unlink(t){return e.del(t,this._store)}wipe(){return e.clear(this._store)}close(){return e.close(this._store)}};
},{"./idb-keyval":"ogT1"}],"sEGL":[function(require,module,exports) {
module.exports=class{constructor(t){this._url=t}loadSuperblock(){return fetch(this._url+"/.superblock.txt").then(t=>t.ok?t.text():null)}async readFile(t){const r=await fetch(this._url+t);if(200===r.status)return r.arrayBuffer();throw new Error("ENOENT")}async sizeFile(t){const r=await fetch(this._url+t,{method:"HEAD"});if(200===r.status)return r.headers.get("content-length");throw new Error("ENOENT")}};
},{}],"Y2Te":[function(require,module,exports) {
const t=require("./idb-keyval"),e=t=>new Promise(e=>setTimeout(e,t));module.exports=class{constructor(e,i){this._id=Math.random(),this._database=e,this._storename=i,this._store=new t.Store(this._database,this._storename),this._lock=null}async has({margin:t=2e3}={}){if(this._lock&&this._lock.holder===this._id){const e=Date.now();return this._lock.expires>e+t||await this.renew()}return!1}async renew({ttl:e=5e3}={}){let i;return await t.update("lock",t=>{const r=Date.now()+e;return i=t&&t.holder===this._id,this._lock=i?{holder:this._id,expires:r}:t,this._lock},this._store),i}async acquire({ttl:e=5e3}={}){let i,r,o;if(await t.update("lock",t=>{const s=Date.now(),a=s+e;return r=t&&t.expires<s,i=void 0===t||r,o=t&&t.holder===this._id,this._lock=i?{holder:this._id,expires:a}:t,this._lock},this._store),o)throw new Error("Mutex double-locked");return i}async wait({interval:t=100,limit:i=6e3,ttl:r}={}){for(;i--;){if(await this.acquire({ttl:r}))return!0;await e(t)}throw new Error("Mutex timeout")}async release({force:e=!1}={}){let i,r,o;if(await t.update("lock",t=>(i=e||t&&t.holder===this._id,r=void 0===t,o=t&&t.holder!==this._id,this._lock=i?void 0:t,this._lock),this._store),await t.close(this._store),!i&&!e){if(r)throw new Error("Mutex double-freed");if(o)throw new Error("Mutex lost ownership")}return i}};
},{"./idb-keyval":"ogT1"}],"gQJz":[function(require,module,exports) {
module.exports=class{constructor(e){this._id=Math.random(),this._database=e,this._has=!1,this._release=null}async has(){return this._has}async acquire(){return new Promise(e=>{navigator.locks.request(this._database+"_lock",{ifAvailable:!0},s=>(this._has=!!s,e(!!s),new Promise(e=>{this._release=e})))})}async wait({timeout:e=6e5}={}){return new Promise((s,a)=>{const t=new AbortController;setTimeout(()=>{t.abort(),a(new Error("Mutex timeout"))},e),navigator.locks.request(this._database+"_lock",{signal:t.signal},e=>(this._has=!!e,s(!!e),new Promise(e=>{this._release=e})))})}async release({force:e=!1}={}){this._has=!1,this._release?this._release():e&&navigator.locks.request(this._database+"_lock",{steal:!0},e=>!0)}};
},{}],"J3qp":[function(require,module,exports) {
const e="undefined"==typeof window?"worker":"main";module.exports=function(n){return performance.mark(`${n} start`),console.log(`${e}: ${n}`),console.time(`${e}: ${n}`),function(){performance.mark(`${n} end`),console.timeEnd(`${e}: ${n}`),performance.measure(`${n}`,`${n} start`,`${n} end`)}};
},{}],"AU5u":[function(require,module,exports) {
const{encode:t,decode:i}=require("isomorphic-textencoder"),{debounce:e}=require("./utils"),s=require("./Stat.js"),a=require("./CacheFS.js"),{ENOENT:r,ENOTEMPTY:n,ETIMEDOUT:h}=require("./errors.js"),o=require("./IdbBackend.js"),c=require("./HttpBackend.js"),l=require("./Mutex.js"),_=require("./Mutex2.js"),u=require("./path.js"),d=require("./clock.js");function w(t,i){return void 0!==i&&"function"!=typeof i||(i={}),"string"==typeof i&&(i={encoding:i}),[t=u.normalize(t),i]}function m(t,i){return[u.normalize(t),u.normalize(i)]}module.exports=class{constructor(t,i){this.init=this.init.bind(this),this.readFile=this._wrap(this.readFile,!1),this.writeFile=this._wrap(this.writeFile,!0),this.unlink=this._wrap(this.unlink,!0),this.readdir=this._wrap(this.readdir,!1),this.mkdir=this._wrap(this.mkdir,!0),this.rmdir=this._wrap(this.rmdir,!0),this.rename=this._wrap(this.rename,!0),this.stat=this._wrap(this.stat,!1),this.lstat=this._wrap(this.lstat,!1),this.readlink=this._wrap(this.readlink,!1),this.symlink=this._wrap(this.symlink,!0),this.backFile=this._wrap(this.backFile,!0),this.du=this._wrap(this.du,!1),this.saveSuperblock=e(()=>{this._saveSuperblock()},500),this._deactivationPromise=null,this._deactivationTimeout=null,this._activationPromise=null,this._operations=new Set,t&&this.init(t,i)}async init(...t){return this._initPromiseResolve&&await this._initPromise,this._initPromise=this._init(...t),this._initPromise}async _init(t,{wipe:i,url:e,urlauto:s,fileDbName:r=t,fileStoreName:n=t+"_files",lockDbName:h=t+"_lock",lockStoreName:u=t+"_lock",defer:d=!1}={}){await this._gracefulShutdown(),this._name=t,this._idb=new o(r,n),this._mutex=navigator.locks?new _(t):new l(h,u),this._cache=new a(t),this._opts={wipe:i,url:e},this._needsWipe=!!i,e&&(this._http=new c(e),this._urlauto=!!s),this._initPromiseResolve&&(this._initPromiseResolve(),this._initPromiseResolve=null),d||this.stat("/")}async _gracefulShutdown(){this._operations.size>0&&(this._isShuttingDown=!0,await new Promise(t=>this._gracefulShutdownResolve=t),this._isShuttingDown=!1,this._gracefulShutdownResolve=null)}_wrap(t,i){return async(...e)=>{let s={name:t.name,args:e};this._operations.add(s);try{return await this._activate(),await t.apply(this,e)}finally{this._operations.delete(s),i&&this.saveSuperblock(),0===this._operations.size&&(this._deactivationTimeout||clearTimeout(this._deactivationTimeout),this._deactivationTimeout=setTimeout(this._deactivate.bind(this),500))}}}async _activate(){if(this._initPromise||console.warn(new Error(`Attempted to use LightningFS ${this._name} before it was initialized.`)),await this._initPromise,this._deactivationTimeout&&(clearTimeout(this._deactivationTimeout),this._deactivationTimeout=null),this._deactivationPromise&&await this._deactivationPromise,this._deactivationPromise=null,this._activationPromise||(this._activationPromise=this.__activate()),await this._activationPromise,!(await this._mutex.has()))throw new h}async __activate(){if(this._cache.activated)return;this._needsWipe&&(this._needsWipe=!1,await this._idb.wipe(),await this._mutex.release({force:!0})),await this._mutex.has()||await this._mutex.wait();const t=await this._idb.loadSuperblock();if(t)this._cache.activate(t);else if(this._http){const t=await this._http.loadSuperblock();this._cache.activate(t),await this._saveSuperblock()}else this._cache.activate()}async _deactivate(){return this._activationPromise&&await this._activationPromise,this._deactivationPromise||(this._deactivationPromise=this.__deactivate()),this._activationPromise=null,this._gracefulShutdownResolve&&this._gracefulShutdownResolve(),this._deactivationPromise}async __deactivate(){await this._mutex.has()&&await this._saveSuperblock(),this._cache.deactivate();try{await this._mutex.release()}catch(t){console.log(t)}await this._idb.close()}async _saveSuperblock(){this._cache.activated&&(this._lastSavedAt=Date.now(),await this._idb.saveSuperblock(this._cache._root))}async _writeStat(t,i,e){let s=u.split(u.dirname(t)),a=s.shift();for(let n of s){a=u.join(a,n);try{this._cache.mkdir(a,{mode:511})}catch(r){}}return this._cache.writeStat(t,i,e)}async readFile(t,e){[t,e]=w(t,e);const{encoding:s}=e;if(s&&"utf8"!==s)throw new Error('Only "utf8" encoding is supported in readFile');let a=null,n=null;try{n=this._cache.stat(t),a=await this._idb.readFile(n.ino)}catch(h){if(!this._urlauto)throw h}if(!a&&this._http){let i=this._cache.lstat(t);for(;"symlink"===i.type;)t=u.resolve(u.dirname(t),i.target),i=this._cache.lstat(t);a=await this._http.readFile(t)}if(a&&(n&&n.size==a.byteLength||(n=await this._writeStat(t,a.byteLength,{mode:n?n.mode:438}),this.saveSuperblock()),"utf8"===s&&(a=i(a))),!n)throw new r(t);return a}async writeFile(i,e,s){[i,s]=w(i,s);const{mode:a,encoding:r="utf8"}=s;if("string"==typeof e){if("utf8"!==r)throw new Error('Only "utf8" encoding is supported in writeFile');e=t(e)}const n=await this._cache.writeStat(i,e.byteLength,{mode:a});return await this._idb.writeFile(n.ino,e),null}async unlink(t,i){[t,i]=w(t,i);const e=this._cache.lstat(t);return this._cache.unlink(t),"symlink"!==e.type&&await this._idb.unlink(e.ino),null}async readdir(t,i){return[t,i]=w(t,i),this._cache.readdir(t)}async mkdir(t,i){[t,i]=w(t,i);const{mode:e=511}=i;return await this._cache.mkdir(t,{mode:e}),null}async rmdir(t,i){if([t,i]=w(t,i),"/"===t)throw new n;return this._cache.rmdir(t),null}async rename(t,i){return[t,i]=m(t,i),this._cache.rename(t,i),null}async stat(t,i){[t,i]=w(t,i);const e=this._cache.stat(t);return new s(e)}async lstat(t,i){[t,i]=w(t,i);let e=this._cache.lstat(t);return new s(e)}async readlink(t,i){return[t,i]=w(t,i),this._cache.readlink(t)}async symlink(t,i){return[t,i]=m(t,i),this._cache.symlink(t,i),null}async backFile(t,i){[t,i]=w(t,i);let e=await this._http.sizeFile(t);return await this._writeStat(t,e,i),null}async du(t){return this._cache.du(t)}};
},{"isomorphic-textencoder":"A23F","./utils":"SR8d","./Stat.js":"AmNv","./CacheFS.js":"gNPE","./errors.js":"ZWSg","./IdbBackend.js":"xzCB","./HttpBackend.js":"sEGL","./Mutex.js":"Y2Te","./Mutex2.js":"gQJz","./path.js":"TpFc","./clock.js":"J3qp"}],"RXOh":[function(require,module,exports) {
const{once:i}=require("./utils"),t=require("./PromisifiedFS");function s(t,s){"function"==typeof t&&(s=t);return[(...i)=>s(null,...i),s=i(s)]}module.exports=class{constructor(...i){this.promises=new t(...i),this.init=this.init.bind(this),this.readFile=this.readFile.bind(this),this.writeFile=this.writeFile.bind(this),this.unlink=this.unlink.bind(this),this.readdir=this.readdir.bind(this),this.mkdir=this.mkdir.bind(this),this.rmdir=this.rmdir.bind(this),this.rename=this.rename.bind(this),this.stat=this.stat.bind(this),this.lstat=this.lstat.bind(this),this.readlink=this.readlink.bind(this),this.symlink=this.symlink.bind(this),this.backFile=this.backFile.bind(this),this.du=this.du.bind(this)}init(i,t){this.promises.init(i,t)}readFile(i,t,h){const[e,n]=s(t,h);this.promises.readFile(i,t).then(e).catch(n)}writeFile(i,t,h,e){const[n,r]=s(h,e);this.promises.writeFile(i,t,h).then(n).catch(r)}unlink(i,t,h){const[e,n]=s(t,h);this.promises.unlink(i,t).then(e).catch(n)}readdir(i,t,h){const[e,n]=s(t,h);this.promises.readdir(i,t).then(e).catch(n)}mkdir(i,t,h){const[e,n]=s(t,h);this.promises.mkdir(i,t).then(e).catch(n)}rmdir(i,t,h){const[e,n]=s(t,h);this.promises.rmdir(i,t).then(e).catch(n)}rename(i,t,h){const[e,n]=s(h);this.promises.rename(i,t).then(e).catch(n)}stat(i,t,h){const[e,n]=s(t,h);this.promises.stat(i).then(e).catch(n)}lstat(i,t,h){const[e,n]=s(t,h);this.promises.lstat(i).then(e).catch(n)}readlink(i,t,h){const[e,n]=s(t,h);this.promises.readlink(i).then(e).catch(n)}symlink(i,t,h){const[e,n]=s(h);this.promises.symlink(i,t).then(e).catch(n)}backFile(i,t,h){const[e,n]=s(t,h);this.promises.backFile(i,t).then(e).catch(n)}du(i,t){const[h,e]=s(t);this.promises.du(i).then(h).catch(e)}};
},{"./utils":"SR8d","./PromisifiedFS":"AU5u"}],"g5IB":[function(require,module,exports) {

var t,e,n=module.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}function u(t){if(e===clearTimeout)return clearTimeout(t);if((e===o||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(t);try{return e(t)}catch(n){try{return e.call(null,t)}catch(n){return e.call(this,t)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:r}catch(n){t=r}try{e="function"==typeof clearTimeout?clearTimeout:o}catch(n){e=o}}();var c,s=[],l=!1,a=-1;function f(){l&&c&&(l=!1,c.length?s=c.concat(s):a=-1,s.length&&h())}function h(){if(!l){var t=i(f);l=!0;for(var e=s.length;e;){for(c=s,s=[];++a<e;)c&&c[a].run();a=-1,e=s.length}c=null,l=!1,u(t)}}function m(t,e){this.fun=t,this.array=e}function p(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new m(t,e)),1!==s.length||l||i(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0};
},{}],"yffp":[function(require,module,exports) {
var process = require("process");
var e=require("process"),n=function(e){e=e||{},this.Promise=e.Promise||Promise,this.queues=Object.create(null),this.domains=Object.create(null),this.domainReentrant=e.domainReentrant||!1,this.timeout=e.timeout||n.DEFAULT_TIMEOUT,this.maxPending=e.maxPending||n.DEFAULT_MAX_PENDING};n.DEFAULT_TIMEOUT=0,n.DEFAULT_MAX_PENDING=1e3,n.prototype.acquire=function(n,t,i,u){if(Array.isArray(n))return this._acquireBatch(n,t,i,u);if("function"!=typeof t)throw new Error("You must pass a function to execute");var o=null,r=null,s=null;"function"!=typeof i&&(u=i,i=null,s=new this.Promise(function(e,n){o=e,r=n})),u=u||{};var c=!1,a=null,f=this,l=function(e,t,u){e&&(0===f.queues[n].length&&delete f.queues[n],delete f.domains[n]),c||(s?t?r(t):o(u):"function"==typeof i&&i(t,u),c=!0),e&&f.queues[n]&&f.queues[n].length>0&&f.queues[n].shift()()},m=function(i){if(c)return l(i);if(a&&(clearTimeout(a),a=null),i&&(f.domains[n]=e.domain),1===t.length){var u=!1;t(function(e,n){u||(u=!0,l(i,e,n))})}else f._promiseTry(function(){return t()}).then(function(e){l(i,void 0,e)},function(e){l(i,e)})};if(e.domain&&(m=e.domain.bind(m)),f.queues[n])if(f.domainReentrant&&e.domain&&e.domain===f.domains[n])m(!1);else if(f.queues[n].length>=f.maxPending)l(!1,new Error("Too much pending tasks"));else{var h=function(){m(!0)};u.skipQueue?f.queues[n].unshift(h):f.queues[n].push(h);var d=u.timeout||f.timeout;d&&(a=setTimeout(function(){a=null,l(!1,new Error("async-lock timed out"))},d))}else f.queues[n]=[],m(!0);return s||void 0},n.prototype._acquireBatch=function(e,n,t,i){"function"!=typeof t&&(i=t,t=null);var u=this,o=n;if(e.reverse().forEach(function(e){o=function(e,n){return function(t){u.acquire(e,n,t,i)}}(e,o)}),"function"!=typeof t)return new this.Promise(function(e,n){1===o.length?o(function(t,i){t?n(t):e(i)}):e(o())});o(t)},n.prototype.isBusy=function(e){return e?!!this.queues[e]:Object.keys(this.queues).length>0},n.prototype._promiseTry=function(e){try{return this.Promise.resolve(e())}catch(n){return this.Promise.reject(n)}},module.exports=n;
},{"process":"g5IB"}],"WflA":[function(require,module,exports) {
"use strict";module.exports=require("./lib");
},{"./lib":"yffp"}],"oxwV":[function(require,module,exports) {
"function"==typeof Object.create?module.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:module.exports=function(t,e){if(e){t.super_=e;var o=function(){};o.prototype=e.prototype,t.prototype=new o,t.prototype.constructor=t}};
},{}],"gIYa":[function(require,module,exports) {

var r=require("buffer"),e=r.Buffer;function o(r,e){for(var o in r)e[o]=r[o]}function n(r,o,n){return e(r,o,n)}e.from&&e.alloc&&e.allocUnsafe&&e.allocUnsafeSlow?module.exports=r:(o(r,exports),exports.Buffer=n),n.prototype=Object.create(e.prototype),o(e,n),n.from=function(r,o,n){if("number"==typeof r)throw new TypeError("Argument must not be a number");return e(r,o,n)},n.alloc=function(r,o,n){if("number"!=typeof r)throw new TypeError("Argument must be a number");var t=e(r);return void 0!==o?"string"==typeof n?t.fill(o,n):t.fill(o):t.fill(0),t},n.allocUnsafe=function(r){if("number"!=typeof r)throw new TypeError("Argument must be a number");return e(r)},n.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)};
},{"buffer":"aMB2"}],"yzxE":[function(require,module,exports) {

var t=require("safe-buffer").Buffer;function i(i,e){this._block=t.alloc(i),this._finalSize=e,this._blockSize=i,this._len=0}i.prototype.update=function(i,e){"string"==typeof i&&(e=e||"utf8",i=t.from(i,e));for(var s=this._block,o=this._blockSize,l=i.length,h=this._len,r=0;r<l;){for(var _=h%o,n=Math.min(l-r,o-_),c=0;c<n;c++)s[_+c]=i[r+c];r+=n,(h+=n)%o==0&&this._update(s)}return this._len+=l,this},i.prototype.digest=function(t){var i=this._len%this._blockSize;this._block[i]=128,this._block.fill(0,i+1),i>=this._finalSize&&(this._update(this._block),this._block.fill(0));var e=8*this._len;if(e<=4294967295)this._block.writeUInt32BE(e,this._blockSize-4);else{var s=(4294967295&e)>>>0,o=(e-s)/4294967296;this._block.writeUInt32BE(o,this._blockSize-8),this._block.writeUInt32BE(s,this._blockSize-4)}this._update(this._block);var l=this._hash();return t?l.toString(t):l},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},module.exports=i;
},{"safe-buffer":"gIYa"}],"iGWE":[function(require,module,exports) {

var t=require("inherits"),i=require("./hash"),r=require("safe-buffer").Buffer,s=[1518500249,1859775393,-1894007588,-899497514],e=new Array(80);function h(){this.init(),this._w=e,i.call(this,64,56)}function n(t){return t<<1|t>>>31}function _(t){return t<<5|t>>>27}function u(t){return t<<30|t>>>2}function o(t,i,r,s){return 0===t?i&r|~i&s:2===t?i&r|i&s|r&s:i^r^s}t(h,i),h.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},h.prototype._update=function(t){for(var i=this._w,r=0|this._a,e=0|this._b,h=0|this._c,a=0|this._d,f=0|this._e,c=0;c<16;++c)i[c]=t.readInt32BE(4*c);for(;c<80;++c)i[c]=n(i[c-3]^i[c-8]^i[c-14]^i[c-16]);for(var d=0;d<80;++d){var p=~~(d/20),w=_(r)+o(p,e,h,a)+f+i[d]+s[p]|0;f=a,a=h,h=u(e),e=r,r=w}this._a=r+this._a|0,this._b=e+this._b|0,this._c=h+this._c|0,this._d=a+this._d|0,this._e=f+this._e|0},h.prototype._hash=function(){var t=r.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},module.exports=h;
},{"inherits":"oxwV","./hash":"yzxE","safe-buffer":"gIYa"}],"fZgm":[function(require,module,exports) {
var define;
var r,n;!function(t){"undefined"==typeof DO_NOT_EXPORT_CRC?"object"==typeof exports?t(exports):"function"==typeof r&&r.amd?r(function(){var r={};return t(r),r}):t(n={}):t(n={})}(function(r){r.version="1.2.0";var n=function(){for(var r=0,n=new Array(256),t=0;256!=t;++t)r=1&(r=1&(r=1&(r=1&(r=1&(r=1&(r=1&(r=1&(r=t)?-306674912^r>>>1:r>>>1)?-306674912^r>>>1:r>>>1)?-306674912^r>>>1:r>>>1)?-306674912^r>>>1:r>>>1)?-306674912^r>>>1:r>>>1)?-306674912^r>>>1:r>>>1)?-306674912^r>>>1:r>>>1)?-306674912^r>>>1:r>>>1,n[t]=r;return"undefined"!=typeof Int32Array?new Int32Array(n):n}();r.table=n,r.bstr=function(r,t){for(var e=-1^t,o=r.length-1,f=0;f<o;)e=(e=e>>>8^n[255&(e^r.charCodeAt(f++))])>>>8^n[255&(e^r.charCodeAt(f++))];return f===o&&(e=e>>>8^n[255&(e^r.charCodeAt(f))]),-1^e},r.buf=function(r,t){if(r.length>1e4)return function(r,t){for(var e=-1^t,o=r.length-7,f=0;f<o;)e=(e=(e=(e=(e=(e=(e=(e=e>>>8^n[255&(e^r[f++])])>>>8^n[255&(e^r[f++])])>>>8^n[255&(e^r[f++])])>>>8^n[255&(e^r[f++])])>>>8^n[255&(e^r[f++])])>>>8^n[255&(e^r[f++])])>>>8^n[255&(e^r[f++])])>>>8^n[255&(e^r[f++])];for(;f<o+7;)e=e>>>8^n[255&(e^r[f++])];return-1^e}(r,t);for(var e=-1^t,o=r.length-3,f=0;f<o;)e=(e=(e=(e=e>>>8^n[255&(e^r[f++])])>>>8^n[255&(e^r[f++])])>>>8^n[255&(e^r[f++])])>>>8^n[255&(e^r[f++])];for(;f<o+3;)e=e>>>8^n[255&(e^r[f++])];return-1^e},r.str=function(r,t){for(var e,o,f=-1^t,u=0,a=r.length;u<a;)(e=r.charCodeAt(u++))<128?f=f>>>8^n[255&(f^e)]:e<2048?f=(f=f>>>8^n[255&(f^(192|e>>6&31))])>>>8^n[255&(f^(128|63&e))]:e>=55296&&e<57344?(e=64+(1023&e),o=1023&r.charCodeAt(u++),f=(f=(f=(f=f>>>8^n[255&(f^(240|e>>8&7))])>>>8^n[255&(f^(128|e>>2&63))])>>>8^n[255&(f^(128|o>>6&15|(3&e)<<4))])>>>8^n[255&(f^(128|63&o))]):f=(f=(f=f>>>8^n[255&(f^(224|e>>12&15))])>>>8^n[255&(f^(128|e>>6&63))])>>>8^n[255&(f^(128|63&e))];return-1^f}});
},{}],"czUR":[function(require,module,exports) {
"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function t(r,t){return Object.prototype.hasOwnProperty.call(r,t)}exports.assign=function(r){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var a in n)t(n,a)&&(r[a]=n[a])}}return r},exports.shrinkBuf=function(r,t){return r.length===t?r:r.subarray?r.subarray(0,t):(r.length=t,r)};var e={arraySet:function(r,t,e,n,a){if(t.subarray&&r.subarray)r.set(t.subarray(e,e+n),a);else for(var o=0;o<n;o++)r[a+o]=t[e+o]},flattenChunks:function(r){var t,e,n,a,o,s;for(n=0,t=0,e=r.length;t<e;t++)n+=r[t].length;for(s=new Uint8Array(n),a=0,t=0,e=r.length;t<e;t++)o=r[t],s.set(o,a),a+=o.length;return s}},n={arraySet:function(r,t,e,n,a){for(var o=0;o<n;o++)r[a+o]=t[e+o]},flattenChunks:function(r){return[].concat.apply([],r)}};exports.setTyped=function(r){r?(exports.Buf8=Uint8Array,exports.Buf16=Uint16Array,exports.Buf32=Int32Array,exports.assign(exports,e)):(exports.Buf8=Array,exports.Buf16=Array,exports.Buf32=Array,exports.assign(exports,n))},exports.setTyped(r);
},{}],"t6RP":[function(require,module,exports) {
"use strict";var e=require("../utils/common"),t=4,n=0,_=1,r=2;function a(e){for(var t=e.length;--t>=0;)e[t]=0}var i=0,l=1,d=2,f=3,o=258,b=29,s=256,u=s+1+b,c=30,p=19,h=2*u+1,v=15,y=16,x=7,g=256,m=16,w=17,A=18,k=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],q=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],S=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],j=512,B=new Array(2*(u+2));a(B);var C=new Array(2*c);a(C);var D=new Array(j);a(D);var E=new Array(o-f+1);a(E);var F=new Array(b);a(F);var G,H,I,J=new Array(c);function K(e,t,n,_,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=_,this.max_length=r,this.has_stree=e&&e.length}function L(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function M(e){return e<256?D[e]:D[256+(e>>>7)]}function N(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function O(e,t,n){e.bi_valid>y-n?(e.bi_buf|=t<<e.bi_valid&65535,N(e,e.bi_buf),e.bi_buf=t>>y-e.bi_valid,e.bi_valid+=n-y):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function P(e,t,n){O(e,n[2*t],n[2*t+1])}function Q(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function R(e){16===e.bi_valid?(N(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}function T(e,t){var n,_,r,a,i,l,d=t.dyn_tree,f=t.max_code,o=t.stat_desc.static_tree,b=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,u=t.stat_desc.extra_base,c=t.stat_desc.max_length,p=0;for(a=0;a<=v;a++)e.bl_count[a]=0;for(d[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<h;n++)(a=d[2*d[2*(_=e.heap[n])+1]+1]+1)>c&&(a=c,p++),d[2*_+1]=a,_>f||(e.bl_count[a]++,i=0,_>=u&&(i=s[_-u]),l=d[2*_],e.opt_len+=l*(a+i),b&&(e.static_len+=l*(o[2*_+1]+i)));if(0!==p){do{for(a=c-1;0===e.bl_count[a];)a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[c]--,p-=2}while(p>0);for(a=c;0!==a;a--)for(_=e.bl_count[a];0!==_;)(r=e.heap[--n])>f||(d[2*r+1]!==a&&(e.opt_len+=(a-d[2*r+1])*d[2*r],d[2*r+1]=a),_--)}}function U(e,t,n){var _,r,a=new Array(v+1),i=0;for(_=1;_<=v;_++)a[_]=i=i+n[_-1]<<1;for(r=0;r<=t;r++){var l=e[2*r+1];0!==l&&(e[2*r]=Q(a[l]++,l))}}function V(){var e,t,n,_,r,a=new Array(v+1);for(n=0,_=0;_<b-1;_++)for(F[_]=n,e=0;e<1<<k[_];e++)E[n++]=_;for(E[n-1]=_,r=0,_=0;_<16;_++)for(J[_]=r,e=0;e<1<<q[_];e++)D[r++]=_;for(r>>=7;_<c;_++)for(J[_]=r<<7,e=0;e<1<<q[_]-7;e++)D[256+r++]=_;for(t=0;t<=v;t++)a[t]=0;for(e=0;e<=143;)B[2*e+1]=8,e++,a[8]++;for(;e<=255;)B[2*e+1]=9,e++,a[9]++;for(;e<=279;)B[2*e+1]=7,e++,a[7]++;for(;e<=287;)B[2*e+1]=8,e++,a[8]++;for(U(B,u+1,a),e=0;e<c;e++)C[2*e+1]=5,C[2*e]=Q(e,5);G=new K(B,k,s+1,u,v),H=new K(C,q,0,c,v),I=new K(new Array(0),z,0,p,x)}function W(e){var t;for(t=0;t<u;t++)e.dyn_ltree[2*t]=0;for(t=0;t<c;t++)e.dyn_dtree[2*t]=0;for(t=0;t<p;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*g]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function X(e){e.bi_valid>8?N(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function Y(t,n,_,r){X(t),r&&(N(t,_),N(t,~_)),e.arraySet(t.pending_buf,t.window,n,_,t.pending),t.pending+=_}function Z(e,t,n,_){var r=2*t,a=2*n;return e[r]<e[a]||e[r]===e[a]&&_[t]<=_[n]}function $(e,t,n){for(var _=e.heap[n],r=n<<1;r<=e.heap_len&&(r<e.heap_len&&Z(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!Z(t,_,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=_}function ee(e,t,n){var _,r,a,i,l=0;if(0!==e.last_lit)do{_=e.pending_buf[e.d_buf+2*l]<<8|e.pending_buf[e.d_buf+2*l+1],r=e.pending_buf[e.l_buf+l],l++,0===_?P(e,r,t):(P(e,(a=E[r])+s+1,t),0!==(i=k[a])&&O(e,r-=F[a],i),P(e,a=M(--_),n),0!==(i=q[a])&&O(e,_-=J[a],i))}while(l<e.last_lit);P(e,g,t)}function te(e,t){var n,_,r,a=t.dyn_tree,i=t.stat_desc.static_tree,l=t.stat_desc.has_stree,d=t.stat_desc.elems,f=-1;for(e.heap_len=0,e.heap_max=h,n=0;n<d;n++)0!==a[2*n]?(e.heap[++e.heap_len]=f=n,e.depth[n]=0):a[2*n+1]=0;for(;e.heap_len<2;)a[2*(r=e.heap[++e.heap_len]=f<2?++f:0)]=1,e.depth[r]=0,e.opt_len--,l&&(e.static_len-=i[2*r+1]);for(t.max_code=f,n=e.heap_len>>1;n>=1;n--)$(e,a,n);r=d;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],$(e,a,1),_=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=_,a[2*r]=a[2*n]+a[2*_],e.depth[r]=(e.depth[n]>=e.depth[_]?e.depth[n]:e.depth[_])+1,a[2*n+1]=a[2*_+1]=r,e.heap[1]=r++,$(e,a,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],T(e,t),U(a,f,e.bl_count)}function ne(e,t,n){var _,r,a=-1,i=t[1],l=0,d=7,f=4;for(0===i&&(d=138,f=3),t[2*(n+1)+1]=65535,_=0;_<=n;_++)r=i,i=t[2*(_+1)+1],++l<d&&r===i||(l<f?e.bl_tree[2*r]+=l:0!==r?(r!==a&&e.bl_tree[2*r]++,e.bl_tree[2*m]++):l<=10?e.bl_tree[2*w]++:e.bl_tree[2*A]++,l=0,a=r,0===i?(d=138,f=3):r===i?(d=6,f=3):(d=7,f=4))}function _e(e,t,n){var _,r,a=-1,i=t[1],l=0,d=7,f=4;for(0===i&&(d=138,f=3),_=0;_<=n;_++)if(r=i,i=t[2*(_+1)+1],!(++l<d&&r===i)){if(l<f)do{P(e,r,e.bl_tree)}while(0!=--l);else 0!==r?(r!==a&&(P(e,r,e.bl_tree),l--),P(e,m,e.bl_tree),O(e,l-3,2)):l<=10?(P(e,w,e.bl_tree),O(e,l-3,3)):(P(e,A,e.bl_tree),O(e,l-11,7));l=0,a=r,0===i?(d=138,f=3):r===i?(d=6,f=3):(d=7,f=4)}}function re(e){var t;for(ne(e,e.dyn_ltree,e.l_desc.max_code),ne(e,e.dyn_dtree,e.d_desc.max_code),te(e,e.bl_desc),t=p-1;t>=3&&0===e.bl_tree[2*S[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}function ae(e,t,n,_){var r;for(O(e,t-257,5),O(e,n-1,5),O(e,_-4,4),r=0;r<_;r++)O(e,e.bl_tree[2*S[r]+1],3);_e(e,e.dyn_ltree,t-1),_e(e,e.dyn_dtree,n-1)}function ie(e){var t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return n;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return _;for(t=32;t<s;t++)if(0!==e.dyn_ltree[2*t])return _;return n}a(J);var le=!1;function de(e){le||(V(),le=!0),e.l_desc=new L(e.dyn_ltree,G),e.d_desc=new L(e.dyn_dtree,H),e.bl_desc=new L(e.bl_tree,I),e.bi_buf=0,e.bi_valid=0,W(e)}function fe(e,t,n,_){O(e,(i<<1)+(_?1:0),3),Y(e,t,n,!0)}function oe(e){O(e,l<<1,3),P(e,g,B),R(e)}function be(e,n,_,a){var i,f,o=0;e.level>0?(e.strm.data_type===r&&(e.strm.data_type=ie(e)),te(e,e.l_desc),te(e,e.d_desc),o=re(e),i=e.opt_len+3+7>>>3,(f=e.static_len+3+7>>>3)<=i&&(i=f)):i=f=_+5,_+4<=i&&-1!==n?fe(e,n,_,a):e.strategy===t||f===i?(O(e,(l<<1)+(a?1:0),3),ee(e,B,C)):(O(e,(d<<1)+(a?1:0),3),ae(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),ee(e,e.dyn_ltree,e.dyn_dtree)),W(e),a&&X(e)}function se(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(E[n]+s+1)]++,e.dyn_dtree[2*M(t)]++),e.last_lit===e.lit_bufsize-1}exports._tr_init=de,exports._tr_stored_block=fe,exports._tr_flush_block=be,exports._tr_tally=se,exports._tr_align=oe;
},{"../utils/common":"czUR"}],"CRrX":[function(require,module,exports) {
"use strict";function e(e,r,o,t){for(var u=65535&e|0,i=e>>>16&65535|0,n=0;0!==o;){o-=n=o>2e3?2e3:o;do{i=i+(u=u+r[t++]|0)|0}while(--n);u%=65521,i%=65521}return u|i<<16|0}module.exports=e;
},{}],"CwDA":[function(require,module,exports) {
"use strict";function r(){for(var r,o=[],t=0;t<256;t++){r=t;for(var n=0;n<8;n++)r=1&r?3988292384^r>>>1:r>>>1;o[t]=r}return o}var o=r();function t(r,t,n,u){var a=o,e=u+n;r^=-1;for(var f=u;f<e;f++)r=r>>>8^a[255&(r^t[f])];return-1^r}module.exports=t;
},{}],"gN2D":[function(require,module,exports) {
"use strict";module.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};
},{}],"ytoJ":[function(require,module,exports) {
"use strict";var t,a=require("../utils/common"),e=require("./trees"),s=require("./adler32"),i=require("./crc32"),r=require("./messages"),n=0,h=1,l=3,_=4,d=5,o=0,u=1,g=-2,f=-3,c=-5,p=-1,m=1,w=2,v=3,k=4,z=0,b=2,x=8,y=9,B=15,S=8,q=29,I=256,A=I+1+q,C=30,R=19,j=2*A+1,D=15,E=3,H=258,K=H+E+1,N=32,F=42,G=69,J=73,L=91,M=103,O=113,P=666,Q=1,T=2,U=3,V=4,W=3;function X(t,a){return t.msg=r[a],a}function Y(t){return(t<<1)-(t>4?9:0)}function Z(t){for(var a=t.length;--a>=0;)t[a]=0}function $(t){var e=t.state,s=e.pending;s>t.avail_out&&(s=t.avail_out),0!==s&&(a.arraySet(t.output,e.pending_buf,e.pending_out,s,t.next_out),t.next_out+=s,e.pending_out+=s,t.total_out+=s,t.avail_out-=s,e.pending-=s,0===e.pending&&(e.pending_out=0))}function tt(t,a){e._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,a),t.block_start=t.strstart,$(t.strm)}function at(t,a){t.pending_buf[t.pending++]=a}function et(t,a){t.pending_buf[t.pending++]=a>>>8&255,t.pending_buf[t.pending++]=255&a}function st(t,e,r,n){var h=t.avail_in;return h>n&&(h=n),0===h?0:(t.avail_in-=h,a.arraySet(e,t.input,t.next_in,h,r),1===t.state.wrap?t.adler=s(t.adler,e,h,r):2===t.state.wrap&&(t.adler=i(t.adler,e,h,r)),t.next_in+=h,t.total_in+=h,h)}function it(t,a){var e,s,i=t.max_chain_length,r=t.strstart,n=t.prev_length,h=t.nice_match,l=t.strstart>t.w_size-K?t.strstart-(t.w_size-K):0,_=t.window,d=t.w_mask,o=t.prev,u=t.strstart+H,g=_[r+n-1],f=_[r+n];t.prev_length>=t.good_match&&(i>>=2),h>t.lookahead&&(h=t.lookahead);do{if(_[(e=a)+n]===f&&_[e+n-1]===g&&_[e]===_[r]&&_[++e]===_[r+1]){r+=2,e++;do{}while(_[++r]===_[++e]&&_[++r]===_[++e]&&_[++r]===_[++e]&&_[++r]===_[++e]&&_[++r]===_[++e]&&_[++r]===_[++e]&&_[++r]===_[++e]&&_[++r]===_[++e]&&r<u);if(s=H-(u-r),r=u-H,s>n){if(t.match_start=a,n=s,s>=h)break;g=_[r+n-1],f=_[r+n]}}}while((a=o[a&d])>l&&0!=--i);return n<=t.lookahead?n:t.lookahead}function rt(t){var e,s,i,r,n,h=t.w_size;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=h+(h-K)){a.arraySet(t.window,t.window,h,h,0),t.match_start-=h,t.strstart-=h,t.block_start-=h,e=s=t.hash_size;do{i=t.head[--e],t.head[e]=i>=h?i-h:0}while(--s);e=s=h;do{i=t.prev[--e],t.prev[e]=i>=h?i-h:0}while(--s);r+=h}if(0===t.strm.avail_in)break;if(s=st(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=s,t.lookahead+t.insert>=E)for(n=t.strstart-t.insert,t.ins_h=t.window[n],t.ins_h=(t.ins_h<<t.hash_shift^t.window[n+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[n+E-1])&t.hash_mask,t.prev[n&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=n,n++,t.insert--,!(t.lookahead+t.insert<E)););}while(t.lookahead<K&&0!==t.strm.avail_in)}function nt(t,a){var e=65535;for(e>t.pending_buf_size-5&&(e=t.pending_buf_size-5);;){if(t.lookahead<=1){if(rt(t),0===t.lookahead&&a===n)return Q;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var s=t.block_start+e;if((0===t.strstart||t.strstart>=s)&&(t.lookahead=t.strstart-s,t.strstart=s,tt(t,!1),0===t.strm.avail_out))return Q;if(t.strstart-t.block_start>=t.w_size-K&&(tt(t,!1),0===t.strm.avail_out))return Q}return t.insert=0,a===_?(tt(t,!0),0===t.strm.avail_out?U:V):(t.strstart>t.block_start&&(tt(t,!1),t.strm.avail_out),Q)}function ht(t,a){for(var s,i;;){if(t.lookahead<K){if(rt(t),t.lookahead<K&&a===n)return Q;if(0===t.lookahead)break}if(s=0,t.lookahead>=E&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+E-1])&t.hash_mask,s=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==s&&t.strstart-s<=t.w_size-K&&(t.match_length=it(t,s)),t.match_length>=E)if(i=e._tr_tally(t,t.strstart-t.match_start,t.match_length-E),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=E){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+E-1])&t.hash_mask,s=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else i=e._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(tt(t,!1),0===t.strm.avail_out))return Q}return t.insert=t.strstart<E-1?t.strstart:E-1,a===_?(tt(t,!0),0===t.strm.avail_out?U:V):t.last_lit&&(tt(t,!1),0===t.strm.avail_out)?Q:T}function lt(t,a){for(var s,i,r;;){if(t.lookahead<K){if(rt(t),t.lookahead<K&&a===n)return Q;if(0===t.lookahead)break}if(s=0,t.lookahead>=E&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+E-1])&t.hash_mask,s=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=E-1,0!==s&&t.prev_length<t.max_lazy_match&&t.strstart-s<=t.w_size-K&&(t.match_length=it(t,s),t.match_length<=5&&(t.strategy===m||t.match_length===E&&t.strstart-t.match_start>4096)&&(t.match_length=E-1)),t.prev_length>=E&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-E,i=e._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-E),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=r&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+E-1])&t.hash_mask,s=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=E-1,t.strstart++,i&&(tt(t,!1),0===t.strm.avail_out))return Q}else if(t.match_available){if((i=e._tr_tally(t,0,t.window[t.strstart-1]))&&tt(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return Q}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=e._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<E-1?t.strstart:E-1,a===_?(tt(t,!0),0===t.strm.avail_out?U:V):t.last_lit&&(tt(t,!1),0===t.strm.avail_out)?Q:T}function _t(t,a){for(var s,i,r,h,l=t.window;;){if(t.lookahead<=H){if(rt(t),t.lookahead<=H&&a===n)return Q;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=E&&t.strstart>0&&(i=l[r=t.strstart-1])===l[++r]&&i===l[++r]&&i===l[++r]){h=t.strstart+H;do{}while(i===l[++r]&&i===l[++r]&&i===l[++r]&&i===l[++r]&&i===l[++r]&&i===l[++r]&&i===l[++r]&&i===l[++r]&&r<h);t.match_length=H-(h-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=E?(s=e._tr_tally(t,1,t.match_length-E),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(s=e._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),s&&(tt(t,!1),0===t.strm.avail_out))return Q}return t.insert=0,a===_?(tt(t,!0),0===t.strm.avail_out?U:V):t.last_lit&&(tt(t,!1),0===t.strm.avail_out)?Q:T}function dt(t,a){for(var s;;){if(0===t.lookahead&&(rt(t),0===t.lookahead)){if(a===n)return Q;break}if(t.match_length=0,s=e._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,s&&(tt(t,!1),0===t.strm.avail_out))return Q}return t.insert=0,a===_?(tt(t,!0),0===t.strm.avail_out?U:V):t.last_lit&&(tt(t,!1),0===t.strm.avail_out)?Q:T}function ot(t,a,e,s,i){this.good_length=t,this.max_lazy=a,this.nice_length=e,this.max_chain=s,this.func=i}function ut(a){a.window_size=2*a.w_size,Z(a.head),a.max_lazy_match=t[a.level].max_lazy,a.good_match=t[a.level].good_length,a.nice_match=t[a.level].nice_length,a.max_chain_length=t[a.level].max_chain,a.strstart=0,a.block_start=0,a.lookahead=0,a.insert=0,a.match_length=a.prev_length=E-1,a.match_available=0,a.ins_h=0}function gt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=x,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*j),this.dyn_dtree=new a.Buf16(2*(2*C+1)),this.bl_tree=new a.Buf16(2*(2*R+1)),Z(this.dyn_ltree),Z(this.dyn_dtree),Z(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(D+1),this.heap=new a.Buf16(2*A+1),Z(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*A+1),Z(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ft(t){var a;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=b,(a=t.state).pending=0,a.pending_out=0,a.wrap<0&&(a.wrap=-a.wrap),a.status=a.wrap?F:O,t.adler=2===a.wrap?0:1,a.last_flush=n,e._tr_init(a),o):X(t,g)}function ct(t){var a=ft(t);return a===o&&ut(t.state),a}function pt(t,a){return t&&t.state?2!==t.state.wrap?g:(t.state.gzhead=a,o):g}function mt(t,e,s,i,r,n){if(!t)return g;var h=1;if(e===p&&(e=6),i<0?(h=0,i=-i):i>15&&(h=2,i-=16),r<1||r>y||s!==x||i<8||i>15||e<0||e>9||n<0||n>k)return X(t,g);8===i&&(i=9);var l=new gt;return t.state=l,l.strm=t,l.wrap=h,l.gzhead=null,l.w_bits=i,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=r+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+E-1)/E),l.window=new a.Buf8(2*l.w_size),l.head=new a.Buf16(l.hash_size),l.prev=new a.Buf16(l.w_size),l.lit_bufsize=1<<r+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new a.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=e,l.strategy=n,l.method=s,ct(t)}function wt(t,a){return mt(t,a,x,B,S,z)}function vt(a,s){var r,f,p,m;if(!a||!a.state||s>d||s<0)return a?X(a,g):g;if(f=a.state,!a.output||!a.input&&0!==a.avail_in||f.status===P&&s!==_)return X(a,0===a.avail_out?c:g);if(f.strm=a,r=f.last_flush,f.last_flush=s,f.status===F)if(2===f.wrap)a.adler=0,at(f,31),at(f,139),at(f,8),f.gzhead?(at(f,(f.gzhead.text?1:0)+(f.gzhead.hcrc?2:0)+(f.gzhead.extra?4:0)+(f.gzhead.name?8:0)+(f.gzhead.comment?16:0)),at(f,255&f.gzhead.time),at(f,f.gzhead.time>>8&255),at(f,f.gzhead.time>>16&255),at(f,f.gzhead.time>>24&255),at(f,9===f.level?2:f.strategy>=w||f.level<2?4:0),at(f,255&f.gzhead.os),f.gzhead.extra&&f.gzhead.extra.length&&(at(f,255&f.gzhead.extra.length),at(f,f.gzhead.extra.length>>8&255)),f.gzhead.hcrc&&(a.adler=i(a.adler,f.pending_buf,f.pending,0)),f.gzindex=0,f.status=G):(at(f,0),at(f,0),at(f,0),at(f,0),at(f,0),at(f,9===f.level?2:f.strategy>=w||f.level<2?4:0),at(f,W),f.status=O);else{var k=x+(f.w_bits-8<<4)<<8;k|=(f.strategy>=w||f.level<2?0:f.level<6?1:6===f.level?2:3)<<6,0!==f.strstart&&(k|=N),k+=31-k%31,f.status=O,et(f,k),0!==f.strstart&&(et(f,a.adler>>>16),et(f,65535&a.adler)),a.adler=1}if(f.status===G)if(f.gzhead.extra){for(p=f.pending;f.gzindex<(65535&f.gzhead.extra.length)&&(f.pending!==f.pending_buf_size||(f.gzhead.hcrc&&f.pending>p&&(a.adler=i(a.adler,f.pending_buf,f.pending-p,p)),$(a),p=f.pending,f.pending!==f.pending_buf_size));)at(f,255&f.gzhead.extra[f.gzindex]),f.gzindex++;f.gzhead.hcrc&&f.pending>p&&(a.adler=i(a.adler,f.pending_buf,f.pending-p,p)),f.gzindex===f.gzhead.extra.length&&(f.gzindex=0,f.status=J)}else f.status=J;if(f.status===J)if(f.gzhead.name){p=f.pending;do{if(f.pending===f.pending_buf_size&&(f.gzhead.hcrc&&f.pending>p&&(a.adler=i(a.adler,f.pending_buf,f.pending-p,p)),$(a),p=f.pending,f.pending===f.pending_buf_size)){m=1;break}m=f.gzindex<f.gzhead.name.length?255&f.gzhead.name.charCodeAt(f.gzindex++):0,at(f,m)}while(0!==m);f.gzhead.hcrc&&f.pending>p&&(a.adler=i(a.adler,f.pending_buf,f.pending-p,p)),0===m&&(f.gzindex=0,f.status=L)}else f.status=L;if(f.status===L)if(f.gzhead.comment){p=f.pending;do{if(f.pending===f.pending_buf_size&&(f.gzhead.hcrc&&f.pending>p&&(a.adler=i(a.adler,f.pending_buf,f.pending-p,p)),$(a),p=f.pending,f.pending===f.pending_buf_size)){m=1;break}m=f.gzindex<f.gzhead.comment.length?255&f.gzhead.comment.charCodeAt(f.gzindex++):0,at(f,m)}while(0!==m);f.gzhead.hcrc&&f.pending>p&&(a.adler=i(a.adler,f.pending_buf,f.pending-p,p)),0===m&&(f.status=M)}else f.status=M;if(f.status===M&&(f.gzhead.hcrc?(f.pending+2>f.pending_buf_size&&$(a),f.pending+2<=f.pending_buf_size&&(at(f,255&a.adler),at(f,a.adler>>8&255),a.adler=0,f.status=O)):f.status=O),0!==f.pending){if($(a),0===a.avail_out)return f.last_flush=-1,o}else if(0===a.avail_in&&Y(s)<=Y(r)&&s!==_)return X(a,c);if(f.status===P&&0!==a.avail_in)return X(a,c);if(0!==a.avail_in||0!==f.lookahead||s!==n&&f.status!==P){var z=f.strategy===w?dt(f,s):f.strategy===v?_t(f,s):t[f.level].func(f,s);if(z!==U&&z!==V||(f.status=P),z===Q||z===U)return 0===a.avail_out&&(f.last_flush=-1),o;if(z===T&&(s===h?e._tr_align(f):s!==d&&(e._tr_stored_block(f,0,0,!1),s===l&&(Z(f.head),0===f.lookahead&&(f.strstart=0,f.block_start=0,f.insert=0))),$(a),0===a.avail_out))return f.last_flush=-1,o}return s!==_?o:f.wrap<=0?u:(2===f.wrap?(at(f,255&a.adler),at(f,a.adler>>8&255),at(f,a.adler>>16&255),at(f,a.adler>>24&255),at(f,255&a.total_in),at(f,a.total_in>>8&255),at(f,a.total_in>>16&255),at(f,a.total_in>>24&255)):(et(f,a.adler>>>16),et(f,65535&a.adler)),$(a),f.wrap>0&&(f.wrap=-f.wrap),0!==f.pending?o:u)}function kt(t){var a;return t&&t.state?(a=t.state.status)!==F&&a!==G&&a!==J&&a!==L&&a!==M&&a!==O&&a!==P?X(t,g):(t.state=null,a===O?X(t,f):o):g}function zt(t,e){var i,r,n,h,l,_,d,u,f=e.length;if(!t||!t.state)return g;if(2===(h=(i=t.state).wrap)||1===h&&i.status!==F||i.lookahead)return g;for(1===h&&(t.adler=s(t.adler,e,f,0)),i.wrap=0,f>=i.w_size&&(0===h&&(Z(i.head),i.strstart=0,i.block_start=0,i.insert=0),u=new a.Buf8(i.w_size),a.arraySet(u,e,f-i.w_size,i.w_size,0),e=u,f=i.w_size),l=t.avail_in,_=t.next_in,d=t.input,t.avail_in=f,t.next_in=0,t.input=e,rt(i);i.lookahead>=E;){r=i.strstart,n=i.lookahead-(E-1);do{i.ins_h=(i.ins_h<<i.hash_shift^i.window[r+E-1])&i.hash_mask,i.prev[r&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=r,r++}while(--n);i.strstart=r,i.lookahead=E-1,rt(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=E-1,i.match_available=0,t.next_in=_,t.input=d,t.avail_in=l,i.wrap=h,o}t=[new ot(0,0,0,0,nt),new ot(4,4,8,4,ht),new ot(4,5,16,8,ht),new ot(4,6,32,32,ht),new ot(4,4,16,16,lt),new ot(8,16,32,32,lt),new ot(8,16,128,128,lt),new ot(8,32,128,256,lt),new ot(32,128,258,1024,lt),new ot(32,258,258,4096,lt)],exports.deflateInit=wt,exports.deflateInit2=mt,exports.deflateReset=ct,exports.deflateResetKeep=ft,exports.deflateSetHeader=pt,exports.deflate=vt,exports.deflateEnd=kt,exports.deflateSetDictionary=zt,exports.deflateInfo="pako deflate (from Nodeca project)";
},{"../utils/common":"czUR","./trees":"t6RP","./adler32":"CRrX","./crc32":"CwDA","./messages":"gN2D"}],"UO2g":[function(require,module,exports) {
"use strict";var r=require("./common"),n=!0,t=!0;try{String.fromCharCode.apply(null,[0])}catch(u){n=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(u){t=!1}for(var e=new r.Buf8(256),o=0;o<256;o++)e[o]=o>=252?6:o>=248?5:o>=240?4:o>=224?3:o>=192?2:1;function f(e,o){if(o<65534&&(e.subarray&&t||!e.subarray&&n))return String.fromCharCode.apply(null,r.shrinkBuf(e,o));for(var f="",u=0;u<o;u++)f+=String.fromCharCode(e[u]);return f}e[254]=e[254]=1,exports.string2buf=function(n){var t,e,o,f,u,a=n.length,i=0;for(f=0;f<a;f++)55296==(64512&(e=n.charCodeAt(f)))&&f+1<a&&56320==(64512&(o=n.charCodeAt(f+1)))&&(e=65536+(e-55296<<10)+(o-56320),f++),i+=e<128?1:e<2048?2:e<65536?3:4;for(t=new r.Buf8(i),u=0,f=0;u<i;f++)55296==(64512&(e=n.charCodeAt(f)))&&f+1<a&&56320==(64512&(o=n.charCodeAt(f+1)))&&(e=65536+(e-55296<<10)+(o-56320),f++),e<128?t[u++]=e:e<2048?(t[u++]=192|e>>>6,t[u++]=128|63&e):e<65536?(t[u++]=224|e>>>12,t[u++]=128|e>>>6&63,t[u++]=128|63&e):(t[u++]=240|e>>>18,t[u++]=128|e>>>12&63,t[u++]=128|e>>>6&63,t[u++]=128|63&e);return t},exports.buf2binstring=function(r){return f(r,r.length)},exports.binstring2buf=function(n){for(var t=new r.Buf8(n.length),e=0,o=t.length;e<o;e++)t[e]=n.charCodeAt(e);return t},exports.buf2string=function(r,n){var t,o,u,a,i=n||r.length,h=new Array(2*i);for(o=0,t=0;t<i;)if((u=r[t++])<128)h[o++]=u;else if((a=e[u])>4)h[o++]=65533,t+=a-1;else{for(u&=2===a?31:3===a?15:7;a>1&&t<i;)u=u<<6|63&r[t++],a--;a>1?h[o++]=65533:u<65536?h[o++]=u:(u-=65536,h[o++]=55296|u>>10&1023,h[o++]=56320|1023&u)}return f(h,o)},exports.utf8border=function(r,n){var t;for((n=n||r.length)>r.length&&(n=r.length),t=n-1;t>=0&&128==(192&r[t]);)t--;return t<0?n:0===t?n:t+e[r[t]]>n?t:n};
},{"./common":"czUR"}],"XKOj":[function(require,module,exports) {
"use strict";function t(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}module.exports=t;
},{}],"LwLr":[function(require,module,exports) {
"use strict";var t=require("./zlib/deflate"),i=require("./utils/common"),e=require("./utils/strings"),n=require("./zlib/messages"),r=require("./zlib/zstream"),s=Object.prototype.toString,o=0,a=4,u=0,h=1,d=2,l=-1,f=0,p=8;function w(o){if(!(this instanceof w))return new w(o);this.options=i.assign({level:l,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},o||{});var a=this.options;a.raw&&a.windowBits>0?a.windowBits=-a.windowBits:a.gzip&&a.windowBits>0&&a.windowBits<16&&(a.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new r,this.strm.avail_out=0;var h=t.deflateInit2(this.strm,a.level,a.method,a.windowBits,a.memLevel,a.strategy);if(h!==u)throw new Error(n[h]);if(a.header&&t.deflateSetHeader(this.strm,a.header),a.dictionary){var d;if(d="string"==typeof a.dictionary?e.string2buf(a.dictionary):"[object ArrayBuffer]"===s.call(a.dictionary)?new Uint8Array(a.dictionary):a.dictionary,(h=t.deflateSetDictionary(this.strm,d))!==u)throw new Error(n[h]);this._dict_set=!0}}function c(t,i){var e=new w(i);if(e.push(t,!0),e.err)throw e.msg||n[e.err];return e.result}function m(t,i){return(i=i||{}).raw=!0,c(t,i)}function g(t,i){return(i=i||{}).gzip=!0,c(t,i)}w.prototype.push=function(n,r){var l,f,p=this.strm,w=this.options.chunkSize;if(this.ended)return!1;f=r===~~r?r:!0===r?a:o,"string"==typeof n?p.input=e.string2buf(n):"[object ArrayBuffer]"===s.call(n)?p.input=new Uint8Array(n):p.input=n,p.next_in=0,p.avail_in=p.input.length;do{if(0===p.avail_out&&(p.output=new i.Buf8(w),p.next_out=0,p.avail_out=w),(l=t.deflate(p,f))!==h&&l!==u)return this.onEnd(l),this.ended=!0,!1;0!==p.avail_out&&(0!==p.avail_in||f!==a&&f!==d)||("string"===this.options.to?this.onData(e.buf2binstring(i.shrinkBuf(p.output,p.next_out))):this.onData(i.shrinkBuf(p.output,p.next_out)))}while((p.avail_in>0||0===p.avail_out)&&l!==h);return f===a?(l=t.deflateEnd(this.strm),this.onEnd(l),this.ended=!0,l===u):f!==d||(this.onEnd(u),p.avail_out=0,!0)},w.prototype.onData=function(t){this.chunks.push(t)},w.prototype.onEnd=function(t){t===u&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},exports.Deflate=w,exports.deflate=c,exports.deflateRaw=m,exports.gzip=g;
},{"./zlib/deflate":"ytoJ","./utils/common":"czUR","./utils/strings":"UO2g","./zlib/messages":"gN2D","./zlib/zstream":"XKOj"}],"Hbr3":[function(require,module,exports) {
"use strict";var i=30,e=12;module.exports=function(o,a){var t,d,n,l,s,f,r,b,c,u,v,m,w,h,k,_,x,g,p,z,j,q,y,A,B;t=o.state,d=o.next_in,A=o.input,n=d+(o.avail_in-5),l=o.next_out,B=o.output,s=l-(a-o.avail_out),f=l+(o.avail_out-257),r=t.dmax,b=t.wsize,c=t.whave,u=t.wnext,v=t.window,m=t.hold,w=t.bits,h=t.lencode,k=t.distcode,_=(1<<t.lenbits)-1,x=(1<<t.distbits)-1;i:do{w<15&&(m+=A[d++]<<w,w+=8,m+=A[d++]<<w,w+=8),g=h[m&_];e:for(;;){if(m>>>=p=g>>>24,w-=p,0===(p=g>>>16&255))B[l++]=65535&g;else{if(!(16&p)){if(0==(64&p)){g=h[(65535&g)+(m&(1<<p)-1)];continue e}if(32&p){t.mode=e;break i}o.msg="invalid literal/length code",t.mode=i;break i}z=65535&g,(p&=15)&&(w<p&&(m+=A[d++]<<w,w+=8),z+=m&(1<<p)-1,m>>>=p,w-=p),w<15&&(m+=A[d++]<<w,w+=8,m+=A[d++]<<w,w+=8),g=k[m&x];o:for(;;){if(m>>>=p=g>>>24,w-=p,!(16&(p=g>>>16&255))){if(0==(64&p)){g=k[(65535&g)+(m&(1<<p)-1)];continue o}o.msg="invalid distance code",t.mode=i;break i}if(j=65535&g,w<(p&=15)&&(m+=A[d++]<<w,(w+=8)<p&&(m+=A[d++]<<w,w+=8)),(j+=m&(1<<p)-1)>r){o.msg="invalid distance too far back",t.mode=i;break i}if(m>>>=p,w-=p,j>(p=l-s)){if((p=j-p)>c&&t.sane){o.msg="invalid distance too far back",t.mode=i;break i}if(q=0,y=v,0===u){if(q+=b-p,p<z){z-=p;do{B[l++]=v[q++]}while(--p);q=l-j,y=B}}else if(u<p){if(q+=b+u-p,(p-=u)<z){z-=p;do{B[l++]=v[q++]}while(--p);if(q=0,u<z){z-=p=u;do{B[l++]=v[q++]}while(--p);q=l-j,y=B}}}else if(q+=u-p,p<z){z-=p;do{B[l++]=v[q++]}while(--p);q=l-j,y=B}for(;z>2;)B[l++]=y[q++],B[l++]=y[q++],B[l++]=y[q++],z-=3;z&&(B[l++]=y[q++],z>1&&(B[l++]=y[q++]))}else{q=l-j;do{B[l++]=B[q++],B[l++]=B[q++],B[l++]=B[q++],z-=3}while(z>2);z&&(B[l++]=B[q++],z>1&&(B[l++]=B[q++]))}break}}break}}while(d<n&&l<f);d-=z=w>>3,m&=(1<<(w-=z<<3))-1,o.next_in=d,o.next_out=l,o.avail_in=d<n?n-d+5:5-(d-n),o.avail_out=l<f?f-l+257:257-(l-f),t.hold=m,t.bits=w};
},{}],"jhci":[function(require,module,exports) {
"use strict";var r=require("../utils/common"),f=15,i=852,o=592,e=0,u=1,t=2,n=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],b=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];module.exports=function(a,c,m,w,d,v,B,h){var k,p,q,x,g,j,y,z,A,C=h.bits,D=0,E=0,F=0,G=0,H=0,I=0,J=0,K=0,L=0,M=0,N=null,O=0,P=new r.Buf16(f+1),Q=new r.Buf16(f+1),R=null,S=0;for(D=0;D<=f;D++)P[D]=0;for(E=0;E<w;E++)P[c[m+E]]++;for(H=C,G=f;G>=1&&0===P[G];G--);if(H>G&&(H=G),0===G)return d[v++]=20971520,d[v++]=20971520,h.bits=1,0;for(F=1;F<G&&0===P[F];F++);for(H<F&&(H=F),K=1,D=1;D<=f;D++)if(K<<=1,(K-=P[D])<0)return-1;if(K>0&&(a===e||1!==G))return-1;for(Q[1]=0,D=1;D<f;D++)Q[D+1]=Q[D]+P[D];for(E=0;E<w;E++)0!==c[m+E]&&(B[Q[c[m+E]]++]=E);if(a===e?(N=R=B,j=19):a===u?(N=n,O-=257,R=l,S-=257,j=256):(N=s,R=b,j=-1),M=0,E=0,D=F,g=v,I=H,J=0,q=-1,x=(L=1<<H)-1,a===u&&L>i||a===t&&L>o)return 1;for(;;){y=D-J,B[E]<j?(z=0,A=B[E]):B[E]>j?(z=R[S+B[E]],A=N[O+B[E]]):(z=96,A=0),k=1<<D-J,F=p=1<<I;do{d[g+(M>>J)+(p-=k)]=y<<24|z<<16|A|0}while(0!==p);for(k=1<<D-1;M&k;)k>>=1;if(0!==k?(M&=k-1,M+=k):M=0,E++,0==--P[D]){if(D===G)break;D=c[m+B[E]]}if(D>H&&(M&x)!==q){for(0===J&&(J=H),g+=F,K=1<<(I=D-J);I+J<G&&!((K-=P[I+J])<=0);)I++,K<<=1;if(L+=1<<I,a===u&&L>i||a===t&&L>o)return 1;d[q=M&x]=H<<24|I<<16|g-v|0}}return 0!==M&&(d[g+M]=D-J<<24|64<<16|0),h.bits=H,0};
},{"../utils/common":"czUR"}],"NU6N":[function(require,module,exports) {
"use strict";var e=require("../utils/common"),a=require("./adler32"),t=require("./crc32"),i=require("./inffast"),s=require("./inftrees"),n=0,r=1,o=2,d=4,l=5,f=6,c=0,h=1,k=2,b=-2,m=-3,w=-4,u=-5,g=8,v=1,x=2,p=3,_=4,y=5,z=6,B=7,S=8,q=9,C=10,I=11,R=12,j=13,A=14,D=15,E=16,G=17,H=18,K=19,N=20,F=21,J=22,L=23,M=24,O=25,P=26,Q=27,T=28,U=29,V=30,W=31,X=32,Y=852,Z=592,$=15,ee=$;function ae(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function te(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new e.Buf16(320),this.work=new e.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ie(a){var t;return a&&a.state?(t=a.state,a.total_in=a.total_out=t.total=0,a.msg="",t.wrap&&(a.adler=1&t.wrap),t.mode=v,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new e.Buf32(Y),t.distcode=t.distdyn=new e.Buf32(Z),t.sane=1,t.back=-1,c):b}function se(e){var a;return e&&e.state?((a=e.state).wsize=0,a.whave=0,a.wnext=0,ie(e)):b}function ne(e,a){var t,i;return e&&e.state?(i=e.state,a<0?(t=0,a=-a):(t=1+(a>>4),a<48&&(a&=15)),a&&(a<8||a>15)?b:(null!==i.window&&i.wbits!==a&&(i.window=null),i.wrap=t,i.wbits=a,se(e))):b}function re(e,a){var t,i;return e?(i=new te,e.state=i,i.window=null,(t=ne(e,a))!==c&&(e.state=null),t):b}function oe(e){return re(e,ee)}var de,le,fe=!0;function ce(a){if(fe){var t;for(de=new e.Buf32(512),le=new e.Buf32(32),t=0;t<144;)a.lens[t++]=8;for(;t<256;)a.lens[t++]=9;for(;t<280;)a.lens[t++]=7;for(;t<288;)a.lens[t++]=8;for(s(r,a.lens,0,288,de,0,a.work,{bits:9}),t=0;t<32;)a.lens[t++]=5;s(o,a.lens,0,32,le,0,a.work,{bits:5}),fe=!1}a.lencode=de,a.lenbits=9,a.distcode=le,a.distbits=5}function he(a,t,i,s){var n,r=a.state;return null===r.window&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new e.Buf8(r.wsize)),s>=r.wsize?(e.arraySet(r.window,t,i-r.wsize,r.wsize,0),r.wnext=0,r.whave=r.wsize):((n=r.wsize-r.wnext)>s&&(n=s),e.arraySet(r.window,t,i-s,n,r.wnext),(s-=n)?(e.arraySet(r.window,t,i-s,s,0),r.wnext=s,r.whave=r.wsize):(r.wnext+=n,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=n))),0}function ke(Y,Z){var $,ee,te,ie,se,ne,re,oe,de,le,fe,ke,be,me,we,ue,ge,ve,xe,pe,_e,ye,ze,Be,Se=0,qe=new e.Buf8(4),Ce=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Y||!Y.state||!Y.output||!Y.input&&0!==Y.avail_in)return b;($=Y.state).mode===R&&($.mode=j),se=Y.next_out,te=Y.output,re=Y.avail_out,ie=Y.next_in,ee=Y.input,ne=Y.avail_in,oe=$.hold,de=$.bits,le=ne,fe=re,ye=c;e:for(;;)switch($.mode){case v:if(0===$.wrap){$.mode=j;break}for(;de<16;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}if(2&$.wrap&&35615===oe){$.check=0,qe[0]=255&oe,qe[1]=oe>>>8&255,$.check=t($.check,qe,2,0),oe=0,de=0,$.mode=x;break}if($.flags=0,$.head&&($.head.done=!1),!(1&$.wrap)||(((255&oe)<<8)+(oe>>8))%31){Y.msg="incorrect header check",$.mode=V;break}if((15&oe)!==g){Y.msg="unknown compression method",$.mode=V;break}if(de-=4,_e=8+(15&(oe>>>=4)),0===$.wbits)$.wbits=_e;else if(_e>$.wbits){Y.msg="invalid window size",$.mode=V;break}$.dmax=1<<_e,Y.adler=$.check=1,$.mode=512&oe?C:R,oe=0,de=0;break;case x:for(;de<16;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}if($.flags=oe,(255&$.flags)!==g){Y.msg="unknown compression method",$.mode=V;break}if(57344&$.flags){Y.msg="unknown header flags set",$.mode=V;break}$.head&&($.head.text=oe>>8&1),512&$.flags&&(qe[0]=255&oe,qe[1]=oe>>>8&255,$.check=t($.check,qe,2,0)),oe=0,de=0,$.mode=p;case p:for(;de<32;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}$.head&&($.head.time=oe),512&$.flags&&(qe[0]=255&oe,qe[1]=oe>>>8&255,qe[2]=oe>>>16&255,qe[3]=oe>>>24&255,$.check=t($.check,qe,4,0)),oe=0,de=0,$.mode=_;case _:for(;de<16;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}$.head&&($.head.xflags=255&oe,$.head.os=oe>>8),512&$.flags&&(qe[0]=255&oe,qe[1]=oe>>>8&255,$.check=t($.check,qe,2,0)),oe=0,de=0,$.mode=y;case y:if(1024&$.flags){for(;de<16;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}$.length=oe,$.head&&($.head.extra_len=oe),512&$.flags&&(qe[0]=255&oe,qe[1]=oe>>>8&255,$.check=t($.check,qe,2,0)),oe=0,de=0}else $.head&&($.head.extra=null);$.mode=z;case z:if(1024&$.flags&&((ke=$.length)>ne&&(ke=ne),ke&&($.head&&(_e=$.head.extra_len-$.length,$.head.extra||($.head.extra=new Array($.head.extra_len)),e.arraySet($.head.extra,ee,ie,ke,_e)),512&$.flags&&($.check=t($.check,ee,ke,ie)),ne-=ke,ie+=ke,$.length-=ke),$.length))break e;$.length=0,$.mode=B;case B:if(2048&$.flags){if(0===ne)break e;ke=0;do{_e=ee[ie+ke++],$.head&&_e&&$.length<65536&&($.head.name+=String.fromCharCode(_e))}while(_e&&ke<ne);if(512&$.flags&&($.check=t($.check,ee,ke,ie)),ne-=ke,ie+=ke,_e)break e}else $.head&&($.head.name=null);$.length=0,$.mode=S;case S:if(4096&$.flags){if(0===ne)break e;ke=0;do{_e=ee[ie+ke++],$.head&&_e&&$.length<65536&&($.head.comment+=String.fromCharCode(_e))}while(_e&&ke<ne);if(512&$.flags&&($.check=t($.check,ee,ke,ie)),ne-=ke,ie+=ke,_e)break e}else $.head&&($.head.comment=null);$.mode=q;case q:if(512&$.flags){for(;de<16;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}if(oe!==(65535&$.check)){Y.msg="header crc mismatch",$.mode=V;break}oe=0,de=0}$.head&&($.head.hcrc=$.flags>>9&1,$.head.done=!0),Y.adler=$.check=0,$.mode=R;break;case C:for(;de<32;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}Y.adler=$.check=ae(oe),oe=0,de=0,$.mode=I;case I:if(0===$.havedict)return Y.next_out=se,Y.avail_out=re,Y.next_in=ie,Y.avail_in=ne,$.hold=oe,$.bits=de,k;Y.adler=$.check=1,$.mode=R;case R:if(Z===l||Z===f)break e;case j:if($.last){oe>>>=7&de,de-=7&de,$.mode=Q;break}for(;de<3;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}switch($.last=1&oe,de-=1,3&(oe>>>=1)){case 0:$.mode=A;break;case 1:if(ce($),$.mode=N,Z===f){oe>>>=2,de-=2;break e}break;case 2:$.mode=G;break;case 3:Y.msg="invalid block type",$.mode=V}oe>>>=2,de-=2;break;case A:for(oe>>>=7&de,de-=7&de;de<32;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}if((65535&oe)!=(oe>>>16^65535)){Y.msg="invalid stored block lengths",$.mode=V;break}if($.length=65535&oe,oe=0,de=0,$.mode=D,Z===f)break e;case D:$.mode=E;case E:if(ke=$.length){if(ke>ne&&(ke=ne),ke>re&&(ke=re),0===ke)break e;e.arraySet(te,ee,ie,ke,se),ne-=ke,ie+=ke,re-=ke,se+=ke,$.length-=ke;break}$.mode=R;break;case G:for(;de<14;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}if($.nlen=257+(31&oe),oe>>>=5,de-=5,$.ndist=1+(31&oe),oe>>>=5,de-=5,$.ncode=4+(15&oe),oe>>>=4,de-=4,$.nlen>286||$.ndist>30){Y.msg="too many length or distance symbols",$.mode=V;break}$.have=0,$.mode=H;case H:for(;$.have<$.ncode;){for(;de<3;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}$.lens[Ce[$.have++]]=7&oe,oe>>>=3,de-=3}for(;$.have<19;)$.lens[Ce[$.have++]]=0;if($.lencode=$.lendyn,$.lenbits=7,ze={bits:$.lenbits},ye=s(n,$.lens,0,19,$.lencode,0,$.work,ze),$.lenbits=ze.bits,ye){Y.msg="invalid code lengths set",$.mode=V;break}$.have=0,$.mode=K;case K:for(;$.have<$.nlen+$.ndist;){for(;ue=(Se=$.lencode[oe&(1<<$.lenbits)-1])>>>16&255,ge=65535&Se,!((we=Se>>>24)<=de);){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}if(ge<16)oe>>>=we,de-=we,$.lens[$.have++]=ge;else{if(16===ge){for(Be=we+2;de<Be;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}if(oe>>>=we,de-=we,0===$.have){Y.msg="invalid bit length repeat",$.mode=V;break}_e=$.lens[$.have-1],ke=3+(3&oe),oe>>>=2,de-=2}else if(17===ge){for(Be=we+3;de<Be;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}de-=we,_e=0,ke=3+(7&(oe>>>=we)),oe>>>=3,de-=3}else{for(Be=we+7;de<Be;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}de-=we,_e=0,ke=11+(127&(oe>>>=we)),oe>>>=7,de-=7}if($.have+ke>$.nlen+$.ndist){Y.msg="invalid bit length repeat",$.mode=V;break}for(;ke--;)$.lens[$.have++]=_e}}if($.mode===V)break;if(0===$.lens[256]){Y.msg="invalid code -- missing end-of-block",$.mode=V;break}if($.lenbits=9,ze={bits:$.lenbits},ye=s(r,$.lens,0,$.nlen,$.lencode,0,$.work,ze),$.lenbits=ze.bits,ye){Y.msg="invalid literal/lengths set",$.mode=V;break}if($.distbits=6,$.distcode=$.distdyn,ze={bits:$.distbits},ye=s(o,$.lens,$.nlen,$.ndist,$.distcode,0,$.work,ze),$.distbits=ze.bits,ye){Y.msg="invalid distances set",$.mode=V;break}if($.mode=N,Z===f)break e;case N:$.mode=F;case F:if(ne>=6&&re>=258){Y.next_out=se,Y.avail_out=re,Y.next_in=ie,Y.avail_in=ne,$.hold=oe,$.bits=de,i(Y,fe),se=Y.next_out,te=Y.output,re=Y.avail_out,ie=Y.next_in,ee=Y.input,ne=Y.avail_in,oe=$.hold,de=$.bits,$.mode===R&&($.back=-1);break}for($.back=0;ue=(Se=$.lencode[oe&(1<<$.lenbits)-1])>>>16&255,ge=65535&Se,!((we=Se>>>24)<=de);){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}if(ue&&0==(240&ue)){for(ve=we,xe=ue,pe=ge;ue=(Se=$.lencode[pe+((oe&(1<<ve+xe)-1)>>ve)])>>>16&255,ge=65535&Se,!(ve+(we=Se>>>24)<=de);){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}oe>>>=ve,de-=ve,$.back+=ve}if(oe>>>=we,de-=we,$.back+=we,$.length=ge,0===ue){$.mode=P;break}if(32&ue){$.back=-1,$.mode=R;break}if(64&ue){Y.msg="invalid literal/length code",$.mode=V;break}$.extra=15&ue,$.mode=J;case J:if($.extra){for(Be=$.extra;de<Be;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}$.length+=oe&(1<<$.extra)-1,oe>>>=$.extra,de-=$.extra,$.back+=$.extra}$.was=$.length,$.mode=L;case L:for(;ue=(Se=$.distcode[oe&(1<<$.distbits)-1])>>>16&255,ge=65535&Se,!((we=Se>>>24)<=de);){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}if(0==(240&ue)){for(ve=we,xe=ue,pe=ge;ue=(Se=$.distcode[pe+((oe&(1<<ve+xe)-1)>>ve)])>>>16&255,ge=65535&Se,!(ve+(we=Se>>>24)<=de);){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}oe>>>=ve,de-=ve,$.back+=ve}if(oe>>>=we,de-=we,$.back+=we,64&ue){Y.msg="invalid distance code",$.mode=V;break}$.offset=ge,$.extra=15&ue,$.mode=M;case M:if($.extra){for(Be=$.extra;de<Be;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}$.offset+=oe&(1<<$.extra)-1,oe>>>=$.extra,de-=$.extra,$.back+=$.extra}if($.offset>$.dmax){Y.msg="invalid distance too far back",$.mode=V;break}$.mode=O;case O:if(0===re)break e;if(ke=fe-re,$.offset>ke){if((ke=$.offset-ke)>$.whave&&$.sane){Y.msg="invalid distance too far back",$.mode=V;break}ke>$.wnext?(ke-=$.wnext,be=$.wsize-ke):be=$.wnext-ke,ke>$.length&&(ke=$.length),me=$.window}else me=te,be=se-$.offset,ke=$.length;ke>re&&(ke=re),re-=ke,$.length-=ke;do{te[se++]=me[be++]}while(--ke);0===$.length&&($.mode=F);break;case P:if(0===re)break e;te[se++]=$.length,re--,$.mode=F;break;case Q:if($.wrap){for(;de<32;){if(0===ne)break e;ne--,oe|=ee[ie++]<<de,de+=8}if(fe-=re,Y.total_out+=fe,$.total+=fe,fe&&(Y.adler=$.check=$.flags?t($.check,te,fe,se-fe):a($.check,te,fe,se-fe)),fe=re,($.flags?oe:ae(oe))!==$.check){Y.msg="incorrect data check",$.mode=V;break}oe=0,de=0}$.mode=T;case T:if($.wrap&&$.flags){for(;de<32;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}if(oe!==(4294967295&$.total)){Y.msg="incorrect length check",$.mode=V;break}oe=0,de=0}$.mode=U;case U:ye=h;break e;case V:ye=m;break e;case W:return w;case X:default:return b}return Y.next_out=se,Y.avail_out=re,Y.next_in=ie,Y.avail_in=ne,$.hold=oe,$.bits=de,($.wsize||fe!==Y.avail_out&&$.mode<V&&($.mode<Q||Z!==d))&&he(Y,Y.output,Y.next_out,fe-Y.avail_out)?($.mode=W,w):(le-=Y.avail_in,fe-=Y.avail_out,Y.total_in+=le,Y.total_out+=fe,$.total+=fe,$.wrap&&fe&&(Y.adler=$.check=$.flags?t($.check,te,fe,Y.next_out-fe):a($.check,te,fe,Y.next_out-fe)),Y.data_type=$.bits+($.last?64:0)+($.mode===R?128:0)+($.mode===N||$.mode===D?256:0),(0===le&&0===fe||Z===d)&&ye===c&&(ye=u),ye)}function be(e){if(!e||!e.state)return b;var a=e.state;return a.window&&(a.window=null),e.state=null,c}function me(e,a){var t;return e&&e.state?0==(2&(t=e.state).wrap)?b:(t.head=a,a.done=!1,c):b}function we(e,t){var i,s=t.length;return e&&e.state?0!==(i=e.state).wrap&&i.mode!==I?b:i.mode===I&&a(1,t,s,0)!==i.check?m:he(e,t,s,s)?(i.mode=W,w):(i.havedict=1,c):b}exports.inflateReset=se,exports.inflateReset2=ne,exports.inflateResetKeep=ie,exports.inflateInit=oe,exports.inflateInit2=re,exports.inflate=ke,exports.inflateEnd=be,exports.inflateGetHeader=me,exports.inflateSetDictionary=we,exports.inflateInfo="pako inflate (from Nodeca project)";
},{"../utils/common":"czUR","./adler32":"CRrX","./crc32":"CwDA","./inffast":"Hbr3","./inftrees":"jhci"}],"w4f7":[function(require,module,exports) {
"use strict";module.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};
},{}],"pJu6":[function(require,module,exports) {
"use strict";function t(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}module.exports=t;
},{}],"SX0I":[function(require,module,exports) {
"use strict";var t=require("./zlib/inflate"),i=require("./utils/common"),n=require("./utils/strings"),r=require("./zlib/constants"),s=require("./zlib/messages"),o=require("./zlib/zstream"),e=require("./zlib/gzheader"),a=Object.prototype.toString;function u(h){if(!(this instanceof u))return new u(h);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},h||{});var _=this.options;_.raw&&_.windowBits>=0&&_.windowBits<16&&(_.windowBits=-_.windowBits,0===_.windowBits&&(_.windowBits=-15)),!(_.windowBits>=0&&_.windowBits<16)||h&&h.windowBits||(_.windowBits+=32),_.windowBits>15&&_.windowBits<48&&0==(15&_.windowBits)&&(_.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var w=t.inflateInit2(this.strm,_.windowBits);if(w!==r.Z_OK)throw new Error(s[w]);if(this.header=new e,t.inflateGetHeader(this.strm,this.header),_.dictionary&&("string"==typeof _.dictionary?_.dictionary=n.string2buf(_.dictionary):"[object ArrayBuffer]"===a.call(_.dictionary)&&(_.dictionary=new Uint8Array(_.dictionary)),_.raw&&(w=t.inflateSetDictionary(this.strm,_.dictionary))!==r.Z_OK))throw new Error(s[w])}function h(t,i){var n=new u(i);if(n.push(t,!0),n.err)throw n.msg||s[n.err];return n.result}function _(t,i){return(i=i||{}).raw=!0,h(t,i)}u.prototype.push=function(s,o){var e,u,h,_,w,d=this.strm,l=this.options.chunkSize,f=this.options.dictionary,p=!1;if(this.ended)return!1;u=o===~~o?o:!0===o?r.Z_FINISH:r.Z_NO_FLUSH,"string"==typeof s?d.input=n.binstring2buf(s):"[object ArrayBuffer]"===a.call(s)?d.input=new Uint8Array(s):d.input=s,d.next_in=0,d.avail_in=d.input.length;do{if(0===d.avail_out&&(d.output=new i.Buf8(l),d.next_out=0,d.avail_out=l),(e=t.inflate(d,r.Z_NO_FLUSH))===r.Z_NEED_DICT&&f&&(e=t.inflateSetDictionary(this.strm,f)),e===r.Z_BUF_ERROR&&!0===p&&(e=r.Z_OK,p=!1),e!==r.Z_STREAM_END&&e!==r.Z_OK)return this.onEnd(e),this.ended=!0,!1;d.next_out&&(0!==d.avail_out&&e!==r.Z_STREAM_END&&(0!==d.avail_in||u!==r.Z_FINISH&&u!==r.Z_SYNC_FLUSH)||("string"===this.options.to?(h=n.utf8border(d.output,d.next_out),_=d.next_out-h,w=n.buf2string(d.output,h),d.next_out=_,d.avail_out=l-_,_&&i.arraySet(d.output,d.output,h,_,0),this.onData(w)):this.onData(i.shrinkBuf(d.output,d.next_out)))),0===d.avail_in&&0===d.avail_out&&(p=!0)}while((d.avail_in>0||0===d.avail_out)&&e!==r.Z_STREAM_END);return e===r.Z_STREAM_END&&(u=r.Z_FINISH),u===r.Z_FINISH?(e=t.inflateEnd(this.strm),this.onEnd(e),this.ended=!0,e===r.Z_OK):u!==r.Z_SYNC_FLUSH||(this.onEnd(r.Z_OK),d.avail_out=0,!0)},u.prototype.onData=function(t){this.chunks.push(t)},u.prototype.onEnd=function(t){t===r.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},exports.Inflate=u,exports.inflate=h,exports.inflateRaw=_,exports.ungzip=h;
},{"./zlib/inflate":"NU6N","./utils/common":"czUR","./utils/strings":"UO2g","./zlib/constants":"w4f7","./zlib/messages":"gN2D","./zlib/zstream":"XKOj","./zlib/gzheader":"pJu6"}],"VwsR":[function(require,module,exports) {
"use strict";var e=require("./lib/utils/common").assign,i=require("./lib/deflate"),r=require("./lib/inflate"),l=require("./lib/zlib/constants"),s={};e(s,i,r,l),module.exports=s;
},{"./lib/utils/common":"czUR","./lib/deflate":"LwLr","./lib/inflate":"SX0I","./lib/zlib/constants":"w4f7"}],"uWrb":[function(require,module,exports) {

var process = require("process");
var t=require("process");function e(t){return Array.isArray(t)?t:[t]}const r="",n=" ",s="\\",i=/^\s+$/,c=/^\\!/,o=/^\\#/,a=/\r?\n/g,h=/^\.*\/|^\.+$/,u="/",d="undefined"!=typeof Symbol?Symbol.for("node-ignore"):"node-ignore",l=(t,e,r)=>Object.defineProperty(t,e,{value:r}),g=/([0-z])-([0-z])/g,_=t=>t.replace(g,(t,e,r)=>e.charCodeAt(0)<=r.charCodeAt(0)?t:""),p=t=>{const{length:e}=t;return t.slice(0,e-e%2)},f=[[/\\?\s+$/,t=>0===t.indexOf("\\")?" ":""],[/\\\s/g,()=>" "],[/[\\$.|*+(){^]/g,t=>"\\".concat(t)],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/^(?=[^^])/,function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,(t,e,r)=>e+6<r.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)\\\*(?=.+)/g,(t,e)=>"".concat(e,"[^\\/]*")],[/\\\\\\(?=[$.|*+(){^])/g,()=>"\\"],[/\\\\/g,()=>"\\"],[/(\\)?\[([^\]/]*?)(\\*)($|\])/g,(t,e,r,n,s)=>"\\"===e?"\\[".concat(r).concat(p(n)).concat(s):"]"===s&&n.length%2==0?"[".concat(_(r)).concat(n,"]"):"[]"],[/(?:[^*])$/,t=>/\/$/.test(t)?"".concat(t,"$"):"".concat(t,"(?=$|\\/$)")],[/(\^|\\\/)?\\\*$/,(t,e)=>{const r=e?"".concat(e,"[^/]+"):"[^/]*";return"".concat(r,"(?=$|\\/$)")}]],$=Object.create(null),v=(t,e,r)=>{const n=$[t];if(n)return n;const s=f.reduce((e,r)=>e.replace(r[0],r[1].bind(t)),t);return $[t]=r?new RegExp(s,"i"):new RegExp(s)},b=t=>"string"==typeof t,y=t=>t&&b(t)&&!i.test(t)&&0!==t.indexOf("#"),O=t=>t.split(a);class C{constructor(t,e,r,n){this.origin=t,this.pattern=e,this.negative=r,this.regex=n}}const x=(t,e)=>{const r=t;let n=!1;0===t.indexOf("!")&&(n=!0,t=t.substr(1)),t=t.replace(c,"!").replace(o,"#");const s=v(t,0,e);return new C(r,t,n,s)},m=(t,e)=>{throw new e(t)},w=(t,e,r)=>{if(!b(t))return r("path must be a string, but got `".concat(e,"`"),TypeError);if(!t)return r("path must not be empty",TypeError);if(w.isNotRelative(t)){return r("path should be a ".concat("`path.relative()`d",' string, but got "').concat(e,'"'),RangeError)}return!0},E=t=>h.test(t);w.isNotRelative=E,w.convert=(t=>t);class R{constructor({ignorecase:t=!0}={}){this._rules=[],this._ignorecase=t,l(this,d,!0),this._initCache()}_initCache(){this._ignoreCache=Object.create(null),this._testCache=Object.create(null)}_addPattern(t){if(t&&t[d])return this._rules=this._rules.concat(t._rules),void(this._added=!0);if(y(t)){const e=x(t,this._ignorecase);this._added=!0,this._rules.push(e)}}add(t){return this._added=!1,e(b(t)?O(t):t).forEach(this._addPattern,this),this._added&&this._initCache(),this}addPattern(t){return this.add(t)}_testOne(t,e){let r=!1,n=!1;return this._rules.forEach(s=>{const{negative:i}=s;n===i&&r!==n||i&&!r&&!n&&!e||s.regex.test(t)&&(r=!i,n=i)}),{ignored:r,unignored:n}}_test(t,e,r,n){const s=t&&w.convert(t);return w(s,t,m),this._t(s,e,r,n)}_t(t,e,r,n){if(t in e)return e[t];if(n||(n=t.split(u)),n.pop(),!n.length)return e[t]=this._testOne(t,r);const s=this._t(n.join(u)+u,e,r,n);return e[t]=s.ignored?s:this._testOne(t,r)}ignores(t){return this._test(t,this._ignoreCache,!1).ignored}createFilter(){return t=>!this.ignores(t)}filter(t){return e(t).filter(this.createFilter())}test(t){return this._test(t,this._testCache,!0)}}const j=t=>new R(t),P=()=>!1,A=t=>w(t&&w.convert(t),t,P);if(j.isPathValid=A,j.default=j,module.exports=j,void 0!==t&&(t.env,"win32"===t.platform)){const t=t=>/^\\\\\?\\/.test(t)||/["<>|\u0000-\u001F]+/u.test(t)?t:t.replace(/\\/g,"/");w.convert=t;const e=/^[a-z]:\//i;w.isNotRelative=(t=>e.test(t)||E(t))}
},{"process":"g5IB"}],"WsXn":[function(require,module,exports) {
"use strict";function t(r){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(r)}var r=function(t,r){return function(){for(var n=this,o=arguments.length,e=new Array(o),u=0;u<o;u++)e[u]=arguments[u];return new(0,r.promiseModule)(function(o,u){r.multiArgs?e.push(function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];r.errorFirst?n[0]?u(n):(n.shift(),o(n)):o(n)}):r.errorFirst?e.push(function(t,r){t?u(t):o(r)}):e.push(o),t.apply(n,e)})}};module.exports=function(n,o){o=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},o);var e=t(n);if(null===n||"object"!==e&&"function"!==e)throw new TypeError("Expected `input` to be a `Function` or `Object`, got `".concat(null===n?"null":e,"`"));var u,i=function(t){var r=function(r){return"string"==typeof r?t===r:r.test(t)};return o.include?o.include.some(r):!o.exclude.some(r)};for(var c in u="function"===e?function(){for(var t=arguments.length,e=new Array(t),u=0;u<t;u++)e[u]=arguments[u];return o.excludeMain?n.apply(void 0,e):r(n,o).apply(this,e)}:Object.create(Object.getPrototypeOf(n)),n){var f=n[c];u[c]="function"==typeof f&&i(c)?r(f,o):f}return u};
},{}],"HFzr":[function(require,module,exports) {
"use strict";function e(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function r(r,n,t){return n=n instanceof RegExp?n:new RegExp(e(n),"g"),r.replace(n,t)}var n={clean:function(e){if("string"!=typeof e)throw new Error("Expected a string, received: "+e);return e=r(e,"./","/"),e=r(e,"..","."),e=r(e," ","-"),e=r(e,/^[~^:?*\\\-]/g,""),e=r(e,/[~^:?*\\]/g,"-"),e=r(e,/[~^:?*\\\-]$/g,""),e=r(e,"@{","-"),e=r(e,/\.$/g,""),e=r(e,/\/$/g,""),e=r(e,/\.lock$/g,"")}};module.exports=n;
},{}],"nXNU":[function(require,module,exports) {
module.exports=function(n,e){var t,r,o=n,u=e,l=o.length,f=u.length,c=!1,i=null,g=l+1,h=[],a=[],x=[],s="",w=function(n,e,t){return{x:n,y:e,k:t}},E=function(n,e){return{elem:n,t:e}},S=function(n,e,t){var r,c,i;for(r=e>t?h[n-1+g]:h[n+1+g],c=(i=Math.max(e,t))-n;c<l&&i<f&&o[c]===u[i];)++c,++i;return h[n+g]=a.length,a[a.length]=new w(c,i,r),i};return l>=f&&(t=o,r=l,o=u,u=t,l=f,f=r,c=!0,g=l+1),{SES_DELETE:-1,SES_COMMON:0,SES_ADD:1,editdistance:function(){return i},getlcs:function(){return s},getses:function(){return x},compose:function(){var n,e,t,r,y,d,m,v;for(n=f-l,e=l+f+3,t={},m=0;m<e;++m)t[m]=-1,h[m]=-1;r=-1;do{for(v=-++r;v<=n-1;++v)t[v+g]=S(v,t[v-1+g]+1,t[v+1+g]);for(v=n+r;v>=n+1;--v)t[v+g]=S(v,t[v-1+g]+1,t[v+1+g]);t[n+g]=S(n,t[n-1+g]+1,t[n+1+g])}while(t[n+g]!==f);for(i=n+2*r,y=h[n+g],d=[];-1!==y;)d[d.length]=new w(a[y].x,a[y].y,null),y=a[y].k;!function(n){var e,t,r;for(e=t=0,r=n.length-1;r>=0;--r)for(;e<n[r].x||t<n[r].y;)n[r].y-n[r].x>t-e?(x[x.length]=new E(u[t],c?-1:1),++t):n[r].y-n[r].x<t-e?(x[x.length]=new E(o[e],c?1:-1),++e):(x[x.length]=new E(o[e],0),s+=o[e],++e,++t)}(d)}}};
},{}],"P8MV":[function(require,module,exports) {
var n=require("./onp");function e(e,i){var r=new n(e,i);r.compose();for(var l,t,f=r.getses(),a=e.length-1,h=i.length-1,u=f.length-1;u>=0;--u)f[u].t===r.SES_COMMON?(t?(t.chain={file1index:a,file2index:h,chain:null},t=t.chain):t=l={file1index:a,file2index:h,chain:null},a--,h--):f[u].t===r.SES_DELETE?a--:f[u].t===r.SES_ADD&&h--;var o={file1index:-1,file2index:-1,chain:null};return t?(t.chain=o,l):o}function i(n,i){for(var r=[],l=n.length,t=i.length,f=e(n,i);null!==f;f=f.chain){var a=l-f.file1index-1,h=t-f.file2index-1;l=f.file1index,t=f.file2index,(a||h)&&r.push({file1:[l+1,a],file2:[t+1,h]})}return r.reverse(),r}function r(n,e,r){var l,t=i(e,n),f=i(e,r),a=[];function h(n,e){a.push([n.file1[0],e,n.file1[1],n.file2[0],n.file2[1]])}for(l=0;l<t.length;l++)h(t[l],0);for(l=0;l<f.length;l++)h(f[l],2);a.sort(function(n,e){return n[0]-e[0]});var u=[],o=0;function c(n){n>o&&(u.push([1,o,n-o]),o=n)}for(var s=0;s<a.length;s++){for(var v=s,g=a[s],x=g[0],d=x+g[2];s<a.length-1;){var p=a[s+1],m=p[0];if(m>d)break;d=Math.max(d,m+p[2]),s++}if(c(x),v==s)g[4]>0&&u.push([g[1],g[3],g[4]]);else{var M={0:[n.length,-1,e.length,-1],2:[r.length,-1,e.length,-1]};for(l=v;l<=s;l++){var E=M[(g=a[l])[1]],S=g[0],b=S+g[2],D=g[3],I=D+g[4];E[0]=Math.min(D,E[0]),E[1]=Math.max(I,E[1]),E[2]=Math.min(S,E[2]),E[3]=Math.max(b,E[3])}var _=M[0][0]+(x-M[0][2]),k=M[0][1]+(d-M[0][3]),O=M[2][0]+(x-M[2][2]),q=M[2][1]+(d-M[2][3]);u.push([-1,_,k-_,x,d-x,O,q-O])}o=d}return c(e.length),u}function l(n,e,i){var l=[],t=[n,e,i],f=r(n,e,i),a=[];function h(){a.length&&l.push({ok:a}),a=[]}function u(n){for(var e=0;e<n.length;e++)a.push(n[e])}function o(e){if(e[2]!=e[6])return!0;for(var r=e[1],l=e[5],t=0;t<e[2];t++)if(n[t+r]!=i[t+l])return!0;return!1}for(var c=0;c<f.length;c++){var s=f[c],v=s[0];-1==v?o(s)?(h(),l.push({conflict:{a:n.slice(s[1],s[1]+s[2]),aIndex:s[1],o:e.slice(s[3],s[3]+s[4]),oIndex:s[3],b:i.slice(s[5],s[5]+s[6]),bIndex:s[5]}})):u(t[0].slice(s[1],s[1]+s[2])):u(t[v].slice(s[1],s[1]+s[2]))}return h(),l}module.exports=l;
},{"./onp":"nXNU"}],"oKjG":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer;Object.defineProperty(exports,"__esModule",{value:!0}),exports.STAGE=Re,exports.TREE=yr,exports.WORKDIR=_r,exports.add=Mr,exports.addNote=on,exports.addRemote=dn,exports.annotatedTag=vn,exports.branch=wn,exports.checkout=Nn,exports.clone=Oa,exports.commit=Ba,exports.currentBranch=Na,exports.deleteBranch=Ma,exports.deleteRef=Ha,exports.deleteRemote=qa,exports.deleteTag=Va,exports.expandOid=ri,exports.expandRef=ai,exports.fastForward=ki,exports.fetch=yi,exports.findMergeBase=_i,exports.findRoot=Pi,exports.getConfig=Oi,exports.getConfigAll=Ni,exports.getRemoteInfo=Ui,exports.getRemoteInfo2=Fi,exports.hashBlob=Wi,exports.indexPack=Li,exports.init=Zi,exports.isDescendent=Qi,exports.listBranches=ts,exports.listFiles=us,exports.listNotes=ps,exports.listRemotes=ms,exports.listServerRefs=ws,exports.listTags=Rs,exports.log=Bs,exports.merge=Ns,exports.packObjects=zs,exports.pull=Ws,exports.push=tu,exports.readBlob=uu,exports.readCommit=ou,exports.readNote=du,exports.readObject=mu,exports.readTag=bu,exports.readTree=wu,exports.remove=Ru,exports.removeNote=ju,exports.renameBranch=Iu,exports.resetIndex=Du,exports.resolveRef=Tu,exports.setConfig=Fu,exports.status=zu,exports.statusMatrix=Lu,exports.tag=Zu,exports.version=Ju,exports.walk=Xu,exports.writeBlob=ec,exports.writeCommit=ac,exports.writeObject=sc,exports.writeRef=cc,exports.writeTag=lc,exports.writeTree=hc,exports.Errors=exports.default=void 0;var t=o(require("async-lock")),r=o(require("sha.js/sha1.js")),n=o(require("crc-32")),a=o(require("pako")),i=o(require("ignore")),s=o(require("pify")),u=o(require("clean-git-ref")),c=o(require("diff3"));function o(e){return e&&e.__esModule?e:{default:e}}function f(e){return j(e)||v(e)||_(e)||R()}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){h(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var d=regeneratorRuntime.mark(Sn);function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e){return x(e)||v(e)||_(e)||g()}function g(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function x(e){if(Array.isArray(e))return E(e)}function b(e,t,r,n,a,i,s){try{var u=e[i](s),c=u.value}catch(o){return void r(o)}u.done?t(c):Promise.resolve(c).then(n,a)}function k(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var i=e.apply(t,r);function s(e){b(i,n,a,s,u,"next",e)}function u(e){b(i,n,a,s,u,"throw",e)}s(void 0)})}}function w(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=_(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,u=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return s=e.done,e},e:function(e){u=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(u)throw i}}}}function y(e,t){return j(e)||S(e,t)||_(e,t)||R()}function R(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _(e,t){if(e){if("string"==typeof e)return E(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?E(e,t):void 0}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function S(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,a=!1,i=void 0;try{for(var s,u=e[Symbol.iterator]();!(n=(s=u.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(c){a=!0,i=c}finally{try{n||null==u.return||u.return()}finally{if(a)throw i}}return r}}function j(e){if(Array.isArray(e))return e}function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function I(e,t,r){return t&&O(e.prototype,t),r&&O(e,r),e}function B(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}function C(e){var t=M();return function(){var r,n=z(e);if(t){var a=z(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return N(this,r)}}function N(e,t){return!t||"object"!==P(t)&&"function"!=typeof t?D(e):t}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e){var t="function"==typeof Map?new Map:void 0;return(U=function(e){if(null===e||!F(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return T(e,arguments,z(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),H(r,e)})(e)}function T(e,t,r){return(T=M()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var a=new(Function.bind.apply(e,n));return r&&H(a,r.prototype),a}).apply(null,arguments)}function M(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function F(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var G=function(e){B(r,U(Error));var t=C(r);function r(e){var n;return A(this,r),(n=t.call(this,e)).caller="",n}return I(r,[{key:"toJSON",value:function(){return{code:this.code,data:this.data,caller:this.caller,message:this.message,stack:this.stack}}},{key:"fromJSON",value:function(e){var t=new r(e.message);return t.code=e.code,t.data=e.data,t.caller=e.caller,t.stack=e.stack,t}},{key:"isIsomorphicGitError",get:function(){return!0}}]),r}(),W=function(e){B(r,G);var t=C(r);function r(e){var n;return A(this,r),(n=t.call(this,"An internal error caused this command to fail. Please file a bug report at https://github.com/isomorphic-git/isomorphic-git/issues with this error message: ".concat(e))).code=n.name=r.code,n.data={message:e},n}return r}();W.code="InternalError";var q=function(){function e(t){A(this,e),this.buffer=t,this._start=0}return I(e,[{key:"eof",value:function(){return this._start>=this.buffer.length}},{key:"tell",value:function(){return this._start}},{key:"seek",value:function(e){this._start=e}},{key:"slice",value:function(e){var t=this.buffer.slice(this._start,this._start+e);return this._start+=e,t}},{key:"toString",value:function(e,t){var r=this.buffer.toString(e,this._start,this._start+t);return this._start+=t,r}},{key:"write",value:function(e,t,r){var n=this.buffer.write(e,this._start,t,r);return this._start+=t,n}},{key:"copy",value:function(e,t,r){var n=e.copy(this.buffer,this._start,t,r);return this._start+=n,n}},{key:"readUInt8",value:function(){var e=this.buffer.readUInt8(this._start);return this._start+=1,e}},{key:"writeUInt8",value:function(e){var t=this.buffer.writeUInt8(e,this._start);return this._start+=1,t}},{key:"readUInt16BE",value:function(){var e=this.buffer.readUInt16BE(this._start);return this._start+=2,e}},{key:"writeUInt16BE",value:function(e){var t=this.buffer.writeUInt16BE(e,this._start);return this._start+=2,t}},{key:"readUInt32BE",value:function(){var e=this.buffer.readUInt32BE(this._start);return this._start+=4,e}},{key:"writeUInt32BE",value:function(e){var t=this.buffer.writeUInt32BE(e,this._start);return this._start+=4,t}}]),e}();function K(e,t){return-(e<t)||+(e>t)}function $(e,t){return K(e.path,t.path)}function L(e){var t=e>0?e>>12:0;4!==t&&8!==t&&10!==t&&14!==t&&(t=8);var r=511&e;return r=73&r?493:420,8!==t&&(r=0),(t<<12)+r}var V=Math.pow(2,32);function Z(e,t,r,n){if(void 0!==e&&void 0!==t)return[e,t];void 0===r&&(r=n.valueOf());var a=Math.floor(r/1e3);return[a,1e6*(r-1e3*a)]}function Y(e){var t=y(Z(e.ctimeSeconds,e.ctimeNanoseconds,e.ctimeMs,e.ctime),2),r=t[0],n=t[1],a=y(Z(e.mtimeSeconds,e.mtimeNanoseconds,e.mtimeMs,e.mtime),2),i=a[0],s=a[1];return{ctimeSeconds:r%V,ctimeNanoseconds:n%V,mtimeSeconds:i%V,mtimeNanoseconds:s%V,dev:e.dev%V,ino:e.ino%V,mode:L(e.mode%V),uid:e.uid%V,gid:e.gid%V,size:e.size>-1?e.size%V:0}}function J(e){var t,r="",n=w(new Uint8Array(e));try{for(n.s();!(t=n.n()).done;){var a=t.value;a<16&&(r+="0"),r+=a.toString(16)}}catch(i){n.e(i)}finally{n.f()}return r}var X=null;function Q(e){return ee.apply(this,arguments)}function ee(){return(ee=k(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==X){e.next=4;break}return e.next=3,ae();case 3:X=e.sent;case 4:return e.abrupt("return",X?re(t):te(t));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function te(e){return(new r.default).update(e).digest("hex")}function re(e){return ne.apply(this,arguments)}function ne(){return(ne=k(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,crypto.subtle.digest("SHA-1",t);case 2:return r=e.sent,e.abrupt("return",J(r));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ae(){return ie.apply(this,arguments)}function ie(){return(ie=k(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re(new Uint8Array([]));case 3:if("da39a3ee5e6b4b0d3255bfef95601890afd80709"!==e.sent){e.next=6;break}return e.abrupt("return",!0);case 6:e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:return e.abrupt("return",!1);case 11:case"end":return e.stop()}},e,null,[[0,8]])}))).apply(this,arguments)}function se(e){return{assumeValid:Boolean(32768&e),extended:Boolean(16384&e),stage:(12288&e)>>12,nameLength:4095&e}}function ue(t){var r=t.flags;return r.extended=!1,r.nameLength=Math.min(e.from(t.path).length,4095),(r.assumeValid?32768:0)+(r.extended?16384:0)+((3&r.stage)<<12)+(4095&r.nameLength)}var ce=function(){function t(e){A(this,t),this._dirty=!1,this._entries=e||new Map}return I(t,[{key:Symbol.iterator,value:regeneratorRuntime.mark(function e(){var t,r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=w(this.entries),e.prev=1,t.s();case 3:if((r=t.n()).done){e.next=9;break}return n=r.value,e.next=7,n;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}},e,this,[[1,11,14,17]])})},{key:"insert",value:function(t){var r=t.filepath,n=t.stats,a=t.oid;n=Y(n);var i=e.from(r),s={ctimeSeconds:n.ctimeSeconds,ctimeNanoseconds:n.ctimeNanoseconds,mtimeSeconds:n.mtimeSeconds,mtimeNanoseconds:n.mtimeNanoseconds,dev:n.dev,ino:n.ino,mode:n.mode||33188,uid:n.uid,gid:n.gid,size:n.size,path:r,oid:a,flags:{assumeValid:!1,extended:!1,stage:0,nameLength:i.length<4095?i.length:4095}};this._entries.set(s.path,s),this._dirty=!0}},{key:"delete",value:function(e){var t=e.filepath;if(this._entries.has(t))this._entries.delete(t);else{var r,n=w(this._entries.keys());try{for(n.s();!(r=n.n()).done;){var a=r.value;a.startsWith(t+"/")&&this._entries.delete(a)}}catch(i){n.e(i)}finally{n.f()}}this._dirty=!0}},{key:"clear",value:function(){this._entries.clear(),this._dirty=!0}},{key:"render",value:function(){return this.entries.map(function(e){return"".concat(e.mode.toString(8)," ").concat(e.oid,"    ").concat(e.path)}).join("\n")}},{key:"toObject",value:function(){var t=k(regeneratorRuntime.mark(function t(){var r,n,a,i,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.alloc(12),(n=new q(r)).write("DIRC",4,"utf8"),n.writeUInt32BE(2),n.writeUInt32BE(this.entries.length),a=e.concat(this.entries.map(function(t){var r=e.from(t.path),n=8*Math.ceil((62+r.length+1)/8),a=e.alloc(n),i=new q(a),s=Y(t);return i.writeUInt32BE(s.ctimeSeconds),i.writeUInt32BE(s.ctimeNanoseconds),i.writeUInt32BE(s.mtimeSeconds),i.writeUInt32BE(s.mtimeNanoseconds),i.writeUInt32BE(s.dev),i.writeUInt32BE(s.ino),i.writeUInt32BE(s.mode),i.writeUInt32BE(s.uid),i.writeUInt32BE(s.gid),i.writeUInt32BE(s.size),i.write(t.oid,20,"hex"),i.writeUInt16BE(ue(t)),i.write(t.path,r.length,"utf8"),a})),i=e.concat([r,a]),t.next=9,Q(i);case 9:return s=t.sent,t.abrupt("return",e.concat([i,e.from(s,"hex")]));case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"entries",get:function(){return m(this._entries.values()).sort($)}},{key:"entriesMap",get:function(){return this._entries}}],[{key:"from",value:function(){var r=k(regeneratorRuntime.mark(function r(n){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!e.isBuffer(n)){r.next=4;break}return r.abrupt("return",t.fromBuffer(n));case 4:if(null!==n){r.next=8;break}return r.abrupt("return",new t(null));case 8:throw new W("invalid type passed to GitIndex.from");case 9:case"end":return r.stop()}},r)}));return function(e){return r.apply(this,arguments)}}()},{key:"fromBuffer",value:function(){var e=k(regeneratorRuntime.mark(function e(r){var n,a,i,s,u,c,o,f,p,l,d,h,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q(r.slice(0,-20));case 2:if(n=e.sent,(a=r.slice(-20).toString("hex"))===n){e.next=6;break}throw new W("Invalid checksum in GitIndex buffer: expected ".concat(a," but saw ").concat(n));case 6:if(i=new q(r),s=new Map,"DIRC"===(u=i.toString("utf8",4))){e.next=11;break}throw new W("Inavlid dircache magic file number: ".concat(u));case 11:if(2===(c=i.readUInt32BE())){e.next=14;break}throw new W("Unsupported dircache version: ".concat(c));case 14:o=i.readUInt32BE(),f=0;case 16:if(i.eof()||!(f<o)){e.next=51;break}if((p={}).ctimeSeconds=i.readUInt32BE(),p.ctimeNanoseconds=i.readUInt32BE(),p.mtimeSeconds=i.readUInt32BE(),p.mtimeNanoseconds=i.readUInt32BE(),p.dev=i.readUInt32BE(),p.ino=i.readUInt32BE(),p.mode=i.readUInt32BE(),p.uid=i.readUInt32BE(),p.gid=i.readUInt32BE(),p.size=i.readUInt32BE(),p.oid=i.slice(20).toString("hex"),l=i.readUInt16BE(),p.flags=se(l),!((d=r.indexOf(0,i.tell()+1)-i.tell())<1)){e.next=34;break}throw new W("Got a path length of: ".concat(d));case 34:p.path=i.toString("utf8",d),0===(h=8-(i.tell()-12)%8)&&(h=8);case 37:if(!h--){e.next=47;break}if(0===(m=i.readUInt8())){e.next=43;break}throw new W("Expected 1-8 null characters but got '".concat(m,"' after ").concat(p.path));case 43:if(!i.eof()){e.next=45;break}throw new W("Unexpected end of file");case 45:e.next=37;break;case 47:s.set(p.path,p),f++,e.next=16;break;case 51:return e.abrupt("return",new t(s));case 52:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}]),t}();function oe(e,t){var r=Y(e),n=Y(t);return r.mode!==n.mode||r.mtimeSeconds!==n.mtimeSeconds||r.ctimeSeconds!==n.ctimeSeconds||r.uid!==n.uid||r.gid!==n.gid||r.ino!==n.ino||r.size!==n.size}var fe=null;function pe(){return{map:new Map,stats:new Map}}function le(e,t,r){return de.apply(this,arguments)}function de(){return(de=k(regeneratorRuntime.mark(function e(t,r,n){var a,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.lstat(r);case 2:return a=e.sent,e.next=5,t.read(r);case 5:return i=e.sent,e.next=8,ce.from(i);case 8:s=e.sent,n.map.set(r,s),n.stats.set(r,a);case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}function he(e,t,r){return me.apply(this,arguments)}function me(){return(me=k(regeneratorRuntime.mark(function e(t,r,n){var a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(a=n.stats.get(r))){e.next=3;break}return e.abrupt("return",!0);case 3:return e.next=5,t.lstat(r);case 5:if(i=e.sent,null!==a){e.next=8;break}return e.abrupt("return",!1);case 8:if(null!==i){e.next=10;break}return e.abrupt("return",!1);case 10:return e.abrupt("return",oe(a,i));case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}var ge=function(){function e(){A(this,e)}return I(e,null,[{key:"acquire",value:function(){var e=k(regeneratorRuntime.mark(function e(r,n){var a,i,s,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.fs,i=r.gitdir,(s=r.cache).index||(s.index=pe()),u="".concat(i,"/index"),null===fe&&(fe=new t.default({maxPending:1/0})),e.next=6,fe.acquire(u,k(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he(a,u,s.index);case 2:if(!e.sent){e.next=5;break}return e.next=5,le(a,u,s.index);case 5:return t=s.index.map.get(u),e.next=8,n(t);case 8:if(c=e.sent,!t._dirty){e.next=22;break}return e.next=12,t.toObject();case 12:return r=e.sent,e.next=15,a.write(u,r);case 15:return e.t0=s.index.stats,e.t1=u,e.next=19,a.lstat(u);case 19:e.t2=e.sent,e.t0.set.call(e.t0,e.t1,e.t2),t._dirty=!1;case 22:case"end":return e.stop()}},e)})));case 6:return e.abrupt("return",c);case 7:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}()}]),e}();function ve(e){var t=Math.max(e.lastIndexOf("/"),e.lastIndexOf("\\"));return t>-1&&(e=e.slice(t+1)),e}function xe(e){var t=Math.max(e.lastIndexOf("/"),e.lastIndexOf("\\"));return-1===t?".":0===t?"/":e.slice(0,t)}function be(e){var t=new Map,r=function e(r){if(!t.has(r)){var n={type:"tree",fullpath:r,basename:ve(r),metadata:{},children:[]};t.set(r,n),n.parent=e(xe(r)),n.parent&&n.parent!==n&&n.parent.children.push(n)}return t.get(r)},n=function(e,n){if(!t.has(e)){var a={type:"blob",fullpath:e,basename:ve(e),metadata:n,parent:r(xe(e)),children:[]};a.parent&&a.parent.children.push(a),t.set(e,a)}return t.get(e)};r(".");var a,i=w(e);try{for(i.s();!(a=i.n()).done;){var s=a.value;n(s.path,s)}}catch(u){i.e(u)}finally{i.f()}return t}function ke(e){switch(e){case 16384:return"tree";case 33188:case 33261:case 40960:return"blob";case 57344:return"commit"}throw new W("Unexpected GitTree entry mode: ".concat(e.toString(8)))}var we=function(){function e(t){var r=t.fs,n=t.gitdir,a=t.cache;A(this,e),this.treePromise=ge.acquire({fs:r,gitdir:n,cache:a},function(){var e=k(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",be(t.entries));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());var i=this;this.ConstructEntry=function(){function e(t){A(this,e),this._fullpath=t,this._type=!1,this._mode=!1,this._stat=!1,this._oid=!1}return I(e,[{key:"type",value:function(){var e=k(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.type(this));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"mode",value:function(){var e=k(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.mode(this));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"stat",value:function(){var e=k(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.stat(this));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"content",value:function(){var e=k(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.content(this));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"oid",value:function(){var e=k(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.oid(this));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}()}return I(e,[{key:"readdir",value:function(){var e=k(regeneratorRuntime.mark(function e(t){var r,n,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t._fullpath,e.next=3,this.treePromise;case 3:if(n=e.sent,a=n.get(r)){e.next=7;break}return e.abrupt("return",null);case 7:if("blob"!==a.type){e.next=9;break}return e.abrupt("return",null);case 9:if("tree"===a.type){e.next=11;break}throw new Error("ENOTDIR: not a directory, scandir '".concat(r,"'"));case 11:return(i=a.children.map(function(e){return e.fullpath})).sort(K),e.abrupt("return",i);case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"type",value:function(){var e=k(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==t._type){e.next=3;break}return e.next=3,t.stat();case 3:return e.abrupt("return",t._type);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"mode",value:function(){var e=k(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==t._mode){e.next=3;break}return e.next=3,t.stat();case 3:return e.abrupt("return",t._mode);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"stat",value:function(){var e=k(regeneratorRuntime.mark(function e(t){var r,n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==t._stat){e.next=11;break}return e.next=3,this.treePromise;case 3:if(r=e.sent,n=r.get(t._fullpath)){e.next=7;break}throw new Error("ENOENT: no such file or directory, lstat '".concat(t._fullpath,"'"));case 7:a="tree"===n.type?{}:Y(n.metadata),t._type="tree"===n.type?"tree":ke(a.mode),t._mode=a.mode,"tree"===n.type?t._stat=void 0:t._stat=a;case 11:return e.abrupt("return",t._stat);case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"content",value:function(){var e=k(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"oid",value:function(){var e=k(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==t._oid){e.next=6;break}return e.next=3,this.treePromise;case 3:r=e.sent,n=r.get(t._fullpath),t._oid=n.metadata.oid;case 6:return e.abrupt("return",t._oid);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}(),ye=Symbol("GitWalkSymbol");function Re(){var e=Object.create(null);return Object.defineProperty(e,ye,{value:function(e){var t=e.fs,r=e.gitdir,n=e.cache;return new we({fs:t,gitdir:r,cache:n})}}),Object.freeze(e),e}var _e=function(e){B(r,G);var t=C(r);function r(e){var n;return A(this,r),(n=t.call(this,"Could not find ".concat(e,"."))).code=n.name=r.code,n.data={what:e},n}return r}();_e.code="NotFoundError";var Ee=function(e){B(r,G);var t=C(r);function r(e,n,a,i){var s;return A(this,r),(s=t.call(this,"Object ".concat(e," ").concat(i?"at ".concat(i):"","was anticipated to be a ").concat(a," but it is a ").concat(n,"."))).code=s.name=r.code,s.data={oid:e,actual:n,expected:a,filepath:i},s}return r}();Ee.code="ObjectTypeError";var Se=function(e){B(r,G);var t=C(r);function r(e){var n;return A(this,r),(n=t.call(this,'Expected a 40-char hex object id but saw "'.concat(e,'".'))).code=n.name=r.code,n.data={value:e},n}return r}();Se.code="InvalidOidError";var je=function(e){B(r,G);var t=C(r);function r(e){var n;return A(this,r),(n=t.call(this,'Could not find a fetch refspec for remote "'.concat(e,'". Make sure the config file has an entry like the following:\n[remote "').concat(e,'"]\n\tfetch = +refs/heads/*:refs/remotes/origin/*\n'))).code=n.name=r.code,n.data={remote:e},n}return r}();je.code="NoRefspecError";var Pe=function(){function e(t){var r=this;if(A(this,e),this.refs=new Map,this.parsedConfig=[],t){var n=null;this.parsedConfig=t.trim().split("\n").map(function(e){if(/^\s*#/.test(e))return{line:e,comment:!0};var t=e.indexOf(" ");if(e.startsWith("^")){var a=e.slice(1);return r.refs.set(n+"^{}",a),{line:e,ref:n,peeled:a}}var i=e.slice(0,t);return n=e.slice(t+1),r.refs.set(n,i),{line:e,ref:n,oid:i}})}return this}return I(e,[{key:"delete",value:function(e){this.parsedConfig=this.parsedConfig.filter(function(t){return t.ref!==e}),this.refs.delete(e)}},{key:"toString",value:function(){return this.parsedConfig.map(function(e){return e.line}).join("\n")+"\n"}}],[{key:"from",value:function(t){return new e(t)}}]),e}(),Ae=function(){function e(t){var r=t.remotePath,n=t.localPath,a=t.force,i=t.matchPrefix;A(this,e),Object.assign(this,{remotePath:r,localPath:n,force:a,matchPrefix:i})}return I(e,[{key:"translate",value:function(e){if(this.matchPrefix){if(e.startsWith(this.remotePath))return this.localPath+e.replace(this.remotePath,"")}else if(e===this.remotePath)return this.localPath;return null}},{key:"reverseTranslate",value:function(e){if(this.matchPrefix){if(e.startsWith(this.localPath))return this.remotePath+e.replace(this.localPath,"")}else if(e===this.localPath)return this.remotePath;return null}}],[{key:"from",value:function(t){var r=y(t.match(/^(\+?)(.*?)(\*?):(.*?)(\*?)$/).slice(1),5),n=r[0],a=r[1],i=r[2],s=r[3],u="+"===n,c="*"===i;if(c!==("*"===r[4]))throw new W("Invalid refspec");return new e({remotePath:a,localPath:s,force:u,matchPrefix:c})}}]),e}(),Oe=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];A(this,e),this.rules=t}return I(e,[{key:"add",value:function(e){var t=Ae.from(e);this.rules.push(t)}},{key:"translate",value:function(e){var t,r=[],n=w(this.rules);try{for(n.s();!(t=n.n()).done;){var a,i=t.value,s=w(e);try{for(s.s();!(a=s.n()).done;){var u=a.value,c=i.translate(u);c&&r.push([u,c])}}catch(o){s.e(o)}finally{s.f()}}}catch(o){n.e(o)}finally{n.f()}return r}},{key:"translateOne",value:function(e){var t,r=null,n=w(this.rules);try{for(n.s();!(t=n.n()).done;){var a=t.value.translate(e);a&&(r=a)}}catch(i){n.e(i)}finally{n.f()}return r}},{key:"localNamespaces",value:function(){return this.rules.filter(function(e){return e.matchPrefix}).map(function(e){return e.localPath.replace(/\/$/,"")})}}],[{key:"from",value:function(t){var r,n=[],a=w(t);try{for(a.s();!(r=a.n()).done;){var i=r.value;n.push(Ae.from(i))}}catch(s){a.e(s)}finally{a.f()}return new e(n)}}]),e}();function Ie(e,t){var r=e.replace(/\^\{\}$/,""),n=t.replace(/\^\{\}$/,""),a=-(r<n)||+(r>n);return 0===a?e.endsWith("^{}")?1:-1:a}function Be(e){return e.replace(/\/\.\//g,"/").replace(/\/{2,}/g,"/").replace(/^\/\.$/,"/").replace(/^\.\/$/,".").replace(/^\.\//,"").replace(/\/\.$/,"").replace(/(.+)\/$/,"$1").replace(/^$/,".")}function Ce(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Be(t.map(Be).join("/"))}var Ne=function(e){e=e.toLowerCase();var t=parseInt(e);return e.endsWith("k")&&(t*=1024),e.endsWith("m")&&(t*=1048576),e.endsWith("g")&&(t*=1073741824),t},De=function(e){if("true"===(e=e.trim().toLowerCase())||"yes"===e||"on"===e)return!0;if("false"===e||"no"===e||"off"===e)return!1;throw Error("Expected 'true', 'false', 'yes', 'no', 'on', or 'off', but got ".concat(e))},Ue={core:{filemode:De,bare:De,logallrefupdates:De,symlinks:De,ignorecase:De,bigFileThreshold:Ne}},Te=/^\[([A-Za-z0-9-.]+)(?: "(.*)")?\]$/,Me=/^[A-Za-z0-9-.]+$/,Fe=/^([A-Za-z][A-Za-z-]*)(?: *= *(.*))?$/,He=/^[A-Za-z][A-Za-z-]*$/,ze=/^(.*?)( *[#;].*)$/,Ge=function(e){var t=Te.exec(e);if(null!=t){var r=y(t.slice(1),2);return[r[0],r[1]]}return null},We=function(e){var t=Fe.exec(e);if(null!=t){var r=y(t.slice(1),2),n=r[0],a=r[1],i=qe(void 0===a?"true":a);return[n,$e(i)]}return null},qe=function(e){var t=ze.exec(e);if(null==t)return e;var r=y(t.slice(1),2),n=r[0],a=r[1];return Ke(n)&&Ke(a)?"".concat(n).concat(a):n},Ke=function(e){return(e.match(/(?:^|[^\\])"/g)||[]).length%2!=0},$e=function(e){return e.split("").reduce(function(e,t,r,n){var a='"'===t&&"\\"!==n[r-1],i="\\"===t&&'"'===n[r+1];return a||i?e:e+t},"")},Le=function(e){return null!=e?e.toLowerCase():null},Ve=function(e,t,r){return[Le(e),t,Le(r)].filter(function(e){return null!=e}).join(".")},Ze=function(e,t){return e.reduce(function(e,r,n){return t(r)?n:e},-1)},Ye=function(){function e(t){A(this,e);var r=null,n=null;this.parsedConfig=t.split("\n").map(function(e){var t=null,a=null,i=e.trim(),s=Ge(i),u=null!=s;if(u){var c=y(s,2);r=c[0],n=c[1]}else{var o=We(i);if(null!=o){var f=y(o,2);t=f[0],a=f[1]}}var p=Ve(r,n,t);return{line:e,isSection:u,section:r,subsection:n,name:t,value:a,path:p}})}return I(e,[{key:"get",value:function(){var e=k(regeneratorRuntime.mark(function e(t){var r,n,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]&&a[1],n=this.parsedConfig.filter(function(e){return e.path===t.toLowerCase()}).map(function(e){var t=e.section,r=e.name,n=e.value,a=Ue[t]&&Ue[t][r];return a?a(n):n}),e.abrupt("return",r?n:n.pop());case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getall",value:function(){var e=k(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.get(t,!0));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getSubsections",value:function(){var e=k(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.parsedConfig.filter(function(e){return e.section===t&&e.isSection}).map(function(e){return e.subsection}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"deleteSection",value:function(){var e=k(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.parsedConfig=this.parsedConfig.filter(function(e){return!(e.section===t&&e.subsection===r)});case 1:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}()},{key:"append",value:function(){var e=k(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.set(t,r,!0));case 1:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}()},{key:"set",value:function(){var e=k(regeneratorRuntime.mark(function e(t,r){var n,a,i,s,u,c,o,f,p,l,d,h,m,g=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=g.length>2&&void 0!==g[2]&&g[2],a=Ze(this.parsedConfig,function(e){return e.path===t.toLowerCase()}),null==r?-1!==a&&this.parsedConfig.splice(a,1):-1!==a?(i=this.parsedConfig[a],s=Object.assign({},i,{value:r,modified:!0}),n?this.parsedConfig.splice(a+1,0,s):this.parsedConfig[a]=s):(u=t.split(".").slice(0,-1).join(".").toLowerCase(),c=this.parsedConfig.findIndex(function(e){return e.path===u}),o=u.split("."),f=y(o,2),p=f[0],l=f[1],d=t.split(".").pop(),h={section:p,subsection:l,name:d,value:r,modified:!0,path:Ve(p,l,d)},Me.test(p)&&He.test(d)&&(c>=0?this.parsedConfig.splice(c+1,0,h):(m={section:p,subsection:l,modified:!0,path:Ve(p,l,null)},this.parsedConfig.push(m,h))));case 3:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}()},{key:"toString",value:function(){return this.parsedConfig.map(function(e){var t=e.line,r=e.section,n=e.subsection,a=e.name,i=e.value,s=e.modified;return void 0!==s&&s?null!=a&&null!=i?"\t".concat(a," = ").concat(i):null!=n?"[".concat(r,' "').concat(n,'"]'):"[".concat(r,"]"):t}).join("\n")}}],[{key:"from",value:function(t){return new e(t)}}]),e}(),Je=function(){function e(){A(this,e)}return I(e,null,[{key:"get",value:function(){var e=k(regeneratorRuntime.mark(function e(t){var r,n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.gitdir,e.next=3,r.read("".concat(n,"/config"),{encoding:"utf8"});case 3:return a=e.sent,e.abrupt("return",Ye.from(a));case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"save",value:function(){var e=k(regeneratorRuntime.mark(function e(t){var r,n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.gitdir,a=t.config,e.next=3,r.write("".concat(n,"/config"),a.toString(),{encoding:"utf8"});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}]),e}(),Xe=function(e){return["".concat(e),"refs/".concat(e),"refs/tags/".concat(e),"refs/heads/".concat(e),"refs/remotes/".concat(e),"refs/remotes/".concat(e,"/HEAD")]},Qe=["config","description","index","shallow","commondir"],et=function(){function e(){A(this,e)}return I(e,null,[{key:"updateRemoteRefs",value:function(){var t=k(regeneratorRuntime.mark(function t(r){var n,a,i,s,u,c,o,f,p,l,d,h,g,v,x,b,k,R,_,E,S,j,P,A,O,I,B,C,N,D,U,T,M,F,H,z,G,W,q,K,$,L,V,Z,Y,J,X;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=r.fs,a=r.gitdir,i=r.remote,s=r.refs,u=r.symrefs,c=r.tags,o=r.refspecs,f=void 0===o?void 0:o,p=r.prune,l=void 0!==p&&p,d=r.pruneTags,h=void 0!==d&&d,g=w(s.values()),t.prev=2,g.s();case 4:if((v=g.n()).done){t.next=10;break}if((x=v.value).match(/[0-9a-f]{40}/)){t.next=8;break}throw new Se(x);case 8:t.next=4;break;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),g.e(t.t0);case 15:return t.prev=15,g.f(),t.finish(15);case 18:return t.next=20,Je.get({fs:n,gitdir:a});case 20:if(b=t.sent,f){t.next=28;break}return t.next=24,b.getall("remote.".concat(i,".fetch"));case 24:if(0!==(f=t.sent).length){t.next=27;break}throw new je(i);case 27:f.unshift("+HEAD:refs/remotes/".concat(i,"/HEAD"));case 28:if(k=Oe.from(f),R=new Map,!h){t.next=36;break}return t.next=33,e.listRefs({fs:n,gitdir:a,filepath:"refs/tags"});case 33:return _=t.sent,t.next=36,e.deleteRefs({fs:n,gitdir:a,refs:_.map(function(e){return"refs/tags/".concat(e)})});case 36:if(!c){t.next=58;break}E=w(s.keys()),t.prev=38,E.s();case 40:if((S=E.n()).done){t.next=50;break}if(!(j=S.value).startsWith("refs/tags")||j.endsWith("^{}")){t.next=48;break}return t.next=45,e.exists({fs:n,gitdir:a,ref:j});case 45:if(t.sent){t.next=48;break}P=s.get(j+"^{}")||s.get(j),R.set(j,P);case 48:t.next=40;break;case 50:t.next=55;break;case 52:t.prev=52,t.t1=t.catch(38),E.e(t.t1);case 55:return t.prev=55,E.f(),t.finish(55);case 58:A=k.translate(m(s.keys())),O=w(A);try{for(O.s();!(I=O.n()).done;)B=y(I.value,2),C=B[0],N=B[1],D=s.get(C),R.set(N,D)}catch(Q){O.e(Q)}finally{O.f()}U=k.translate(m(u.keys())),T=w(U);try{for(T.s();!(M=T.n()).done;)F=y(M.value,2),H=F[0],z=F[1],G=u.get(H),(W=k.translateOne(G))&&R.set(z,"ref: ".concat(W))}catch(Q){T.e(Q)}finally{T.f()}if(q=[],!l){t.next=85;break}K=w(k.localNamespaces()),t.prev=67,L=regeneratorRuntime.mark(function t(){var r,i,s,u,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=$.value,t.next=3,e.listRefs({fs:n,gitdir:a,filepath:r});case 3:i=t.sent.map(function(e){return"".concat(r,"/").concat(e)}),s=w(i);try{for(s.s();!(u=s.n()).done;)c=u.value,R.has(c)||q.push(c)}catch(Q){s.e(Q)}finally{s.f()}case 6:case"end":return t.stop()}},t)}),K.s();case 70:if(($=K.n()).done){t.next=74;break}return t.delegateYield(L(),"t2",72);case 72:t.next=70;break;case 74:t.next=79;break;case 76:t.prev=76,t.t3=t.catch(67),K.e(t.t3);case 79:return t.prev=79,K.f(),t.finish(79);case 82:if(!(q.length>0)){t.next=85;break}return t.next=85,e.deleteRefs({fs:n,gitdir:a,refs:q});case 85:V=w(R),t.prev=86,V.s();case 88:if((Z=V.n()).done){t.next=94;break}return Y=y(Z.value,2),J=Y[0],X=Y[1],t.next=92,n.write(Ce(a,J),"".concat(X.trim(),"\n"),"utf8");case 92:t.next=88;break;case 94:t.next=99;break;case 96:t.prev=96,t.t4=t.catch(86),V.e(t.t4);case 99:return t.prev=99,V.f(),t.finish(99);case 102:return t.abrupt("return",{pruned:q});case 103:case"end":return t.stop()}},t,null,[[2,12,15,18],[38,52,55,58],[67,76,79,82],[86,96,99,102]])}));return function(e){return t.apply(this,arguments)}}()},{key:"writeRef",value:function(){var e=k(regeneratorRuntime.mark(function e(t){var r,n,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.fs,n=t.gitdir,a=t.ref,(i=t.value).match(/[0-9a-f]{40}/)){e.next=3;break}throw new Se(i);case 3:return e.next=5,r.write(Ce(n,a),"".concat(i.trim(),"\n"),"utf8");case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"writeSymbolicRef",value:function(){var e=k(regeneratorRuntime.mark(function e(t){var r,n,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.gitdir,a=t.ref,i=t.value,e.next=3,r.write(Ce(n,a),"ref: "+"".concat(i.trim(),"\n"),"utf8");case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"deleteRef",value:function(){var t=k(regeneratorRuntime.mark(function t(r){var n,a,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.fs,a=r.gitdir,i=r.ref,t.abrupt("return",e.deleteRefs({fs:n,gitdir:a,refs:[i]}));case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},{key:"deleteRefs",value:function(){var e=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.gitdir,a=t.refs,e.next=3,Promise.all(a.map(function(e){return r.rm(Ce(n,e))}));case 3:return e.next=5,r.read("".concat(n,"/packed-refs"),{encoding:"utf8"});case 5:i=e.sent,s=Pe.from(i),u=s.refs.size,c=w(a);try{for(c.s();!(o=c.n()).done;)f=o.value,s.refs.has(f)&&s.delete(f)}catch(p){c.e(p)}finally{c.f()}if(!(s.refs.size<u)){e.next=14;break}return i=s.toString(),e.next=14,r.write("".concat(n,"/packed-refs"),i,{encoding:"utf8"});case 14:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"resolve",value:function(){var t=k(regeneratorRuntime.mark(function t(r){var n,a,i,s,u,c,o,f,p,l,d;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.fs,a=r.gitdir,i=r.ref,s=r.depth,void 0===(u=void 0===s?void 0:s)){t.next=5;break}if(-1!==--u){t.next=5;break}return t.abrupt("return",i);case 5:if(!i.startsWith("ref: ")){t.next=8;break}return i=i.slice("ref: ".length),t.abrupt("return",e.resolve({fs:n,gitdir:a,ref:i,depth:u}));case 8:if(40!==i.length||!/[0-9a-f]{40}/.test(i)){t.next=10;break}return t.abrupt("return",i);case 10:return t.next=12,e.packedRefs({fs:n,gitdir:a});case 12:o=t.sent,f=Xe(i).filter(function(e){return!Qe.includes(e)}),p=w(f),t.prev=15,p.s();case 17:if((l=p.n()).done){t.next=29;break}return d=l.value,t.next=21,n.read("".concat(a,"/").concat(d),{encoding:"utf8"});case 21:if(t.t0=t.sent,t.t0){t.next=24;break}t.t0=o.get(d);case 24:if(!(c=t.t0)){t.next=27;break}return t.abrupt("return",e.resolve({fs:n,gitdir:a,ref:c.trim(),depth:u}));case 27:t.next=17;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(15),p.e(t.t1);case 34:return t.prev=34,p.f(),t.finish(34);case 37:throw new _e(i);case 38:case"end":return t.stop()}},t,null,[[15,31,34,37]])}));return function(e){return t.apply(this,arguments)}}()},{key:"exists",value:function(){var t=k(regeneratorRuntime.mark(function t(r){var n,a,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.fs,a=r.gitdir,i=r.ref,t.prev=1,t.next=4,e.expand({fs:n,gitdir:a,ref:i});case 4:return t.abrupt("return",!0);case 7:return t.prev=7,t.t0=t.catch(1),t.abrupt("return",!1);case 10:case"end":return t.stop()}},t,null,[[1,7]])}));return function(e){return t.apply(this,arguments)}}()},{key:"expand",value:function(){var t=k(regeneratorRuntime.mark(function t(r){var n,a,i,s,u,c,o,f;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.fs,a=r.gitdir,40!==(i=r.ref).length||!/[0-9a-f]{40}/.test(i)){t.next=3;break}return t.abrupt("return",i);case 3:return t.next=5,e.packedRefs({fs:n,gitdir:a});case 5:s=t.sent,u=Xe(i),c=w(u),t.prev=8,c.s();case 10:if((o=c.n()).done){t.next=20;break}return f=o.value,t.next=14,n.exists("".concat(a,"/").concat(f));case 14:if(!t.sent){t.next=16;break}return t.abrupt("return",f);case 16:if(!s.has(f)){t.next=18;break}return t.abrupt("return",f);case 18:t.next=10;break;case 20:t.next=25;break;case 22:t.prev=22,t.t0=t.catch(8),c.e(t.t0);case 25:return t.prev=25,c.f(),t.finish(25);case 28:throw new _e(i);case 29:case"end":return t.stop()}},t,null,[[8,22,25,28]])}));return function(e){return t.apply(this,arguments)}}()},{key:"expandAgainstMap",value:function(){var e=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t.ref,n=t.map,a=Xe(r),i=w(a),e.prev=3,i.s();case 5:if((s=i.n()).done){e.next=13;break}return u=s.value,e.next=9,n.has(u);case 9:if(!e.sent){e.next=11;break}return e.abrupt("return",u);case 11:e.next=5;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),i.e(e.t0);case 18:return e.prev=18,i.f(),e.finish(18);case 21:throw new _e(r);case 22:case"end":return e.stop()}},e,null,[[3,15,18,21]])}));return function(t){return e.apply(this,arguments)}}()},{key:"resolveAgainstMap",value:function(t){var r=t.ref,n=t.fullref,a=void 0===n?r:n,i=t.depth,s=void 0===i?void 0:i,u=t.map;if(void 0!==s&&-1===--s)return{fullref:a,oid:r};if(r.startsWith("ref: "))return r=r.slice("ref: ".length),e.resolveAgainstMap({ref:r,fullref:a,depth:s,map:u});if(40===r.length&&/[0-9a-f]{40}/.test(r))return{fullref:a,oid:r};var c,o=w(Xe(r));try{for(o.s();!(c=o.n()).done;){var f=c.value,p=u.get(f);if(p)return e.resolveAgainstMap({ref:p.trim(),fullref:f,depth:s,map:u})}}catch(l){o.e(l)}finally{o.f()}throw new _e(r)}},{key:"packedRefs",value:function(){var e=k(regeneratorRuntime.mark(function e(t){var r,n,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.gitdir,e.next=3,r.read("".concat(n,"/packed-refs"),{encoding:"utf8"});case 3:return a=e.sent,i=Pe.from(a),e.abrupt("return",i.refs);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"listRefs",value:function(){var t=k(regeneratorRuntime.mark(function t(r){var n,a,i,s,u,c,o,f;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.fs,a=r.gitdir,i=r.filepath,s=e.packedRefs({fs:n,gitdir:a}),u=null,t.prev=3,t.next=6,n.readdirDeep("".concat(a,"/").concat(i));case 6:u=(u=t.sent).map(function(e){return e.replace("".concat(a,"/").concat(i,"/"),"")}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),u=[];case 13:return t.t1=w,t.next=16,s;case 16:t.t2=t.sent.keys(),c=(0,t.t1)(t.t2);try{for(c.s();!(o=c.n()).done;)(f=o.value).startsWith(i)&&(f=f.replace(i+"/",""),u.includes(f)||u.push(f))}catch(p){c.e(p)}finally{c.f()}return u.sort(Ie),t.abrupt("return",u);case 21:case"end":return t.stop()}},t,null,[[3,10]])}));return function(e){return t.apply(this,arguments)}}()},{key:"listBranches",value:function(){var t=k(regeneratorRuntime.mark(function t(r){var n,a,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.fs,a=r.gitdir,!(i=r.remote)){t.next=5;break}return t.abrupt("return",e.listRefs({fs:n,gitdir:a,filepath:"refs/remotes/".concat(i)}));case 5:return t.abrupt("return",e.listRefs({fs:n,gitdir:a,filepath:"refs/heads"}));case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},{key:"listTags",value:function(){var t=k(regeneratorRuntime.mark(function t(r){var n,a,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.fs,a=r.gitdir,t.next=3,e.listRefs({fs:n,gitdir:a,filepath:"refs/tags"});case 3:return i=t.sent,t.abrupt("return",i.filter(function(e){return!e.endsWith("^{}")}));case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}]),e}();function tt(e,t){return K(rt(e),rt(t))}function rt(e){return"040000"===e.mode?e.path+"/":e.path}function nt(e){switch(e){case"040000":return"tree";case"100644":case"100755":case"120000":return"blob";case"160000":return"commit"}throw new W("Unexpected GitTree entry mode: ".concat(e))}function at(e){for(var t=[],r=0;r<e.length;){var n=e.indexOf(32,r);if(-1===n)throw new W("GitTree: Error parsing buffer at byte location ".concat(r,": Could not find the next space character."));var a=e.indexOf(0,r);if(-1===a)throw new W("GitTree: Error parsing buffer at byte location ".concat(r,": Could not find the next null character."));var i=e.slice(r,n).toString("utf8");"40000"===i&&(i="040000");var s=nt(i),u=e.slice(n+1,a).toString("utf8"),c=e.slice(a+1,a+21).toString("hex");r=a+21,t.push({mode:i,path:u,oid:c,type:s})}return t}function it(e){if("number"==typeof e&&(e=e.toString(8)),e.match(/^0?4.*/))return"040000";if(e.match(/^1006.*/))return"100644";if(e.match(/^1007.*/))return"100755";if(e.match(/^120.*/))return"120000";if(e.match(/^160.*/))return"160000";throw new W("Could not understand file mode: ".concat(e))}function st(e){return!e.oid&&e.sha&&(e.oid=e.sha),e.mode=it(e.mode),e.type||(e.type=nt(e.mode)),e}var ut=function(){function t(r){if(A(this,t),e.isBuffer(r))this._entries=at(r);else{if(!Array.isArray(r))throw new W("invalid type passed to GitTree constructor");this._entries=r.map(st)}this._entries.sort($)}return I(t,[{key:"render",value:function(){return this._entries.map(function(e){return"".concat(e.mode," ").concat(e.type," ").concat(e.oid,"    ").concat(e.path)}).join("\n")}},{key:"toObject",value:function(){var t=m(this._entries);return t.sort(tt),e.concat(t.map(function(t){var r=e.from(t.mode.replace(/^0/,"")),n=e.from(" "),a=e.from(t.path,"utf8"),i=e.from([0]),s=e.from(t.oid,"hex");return e.concat([r,n,a,i,s])}))}},{key:"entries",value:function(){return this._entries}},{key:Symbol.iterator,value:regeneratorRuntime.mark(function e(){var t,r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=w(this._entries),e.prev=1,t.s();case 3:if((r=t.n()).done){e.next=9;break}return n=r.value,e.next=7,n;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}},e,this,[[1,11,14,17]])})}],[{key:"from",value:function(e){return new t(e)}}]),t}(),ct=function(){function t(){A(this,t)}return I(t,null,[{key:"wrap",value:function(t){var r=t.type,n=t.object;return e.concat([e.from("".concat(r," ").concat(n.byteLength.toString(),"\0")),e.from(n)])}},{key:"unwrap",value:function(t){var r=t.indexOf(32),n=t.indexOf(0),a=t.slice(0,r).toString("utf8"),i=t.slice(r+1,n).toString("utf8"),s=t.length-(n+1);if(parseInt(i)!==s)throw new W("Length mismatch: expected ".concat(i," bytes but got ").concat(s," instead."));return{type:a,object:e.from(t.slice(n+1))}}}]),t}();function ot(e){return ft.apply(this,arguments)}function ft(){return(ft=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.gitdir,a=t.oid,i="objects/".concat(a.slice(0,2),"/").concat(a.slice(2)),e.next=4,r.read("".concat(n,"/").concat(i));case 4:if(s=e.sent){e.next=7;break}return e.abrupt("return",null);case 7:return e.abrupt("return",{object:s,format:"deflated",source:i});case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function pt(t,r){var n=new q(t),a=lt(n);if(a!==r.byteLength)throw new W("applyDelta expected source buffer to be ".concat(a," bytes but the provided buffer was ").concat(r.length," bytes"));var i,s=lt(n),u=ht(n,r);if(u.byteLength===s)i=u;else{i=e.alloc(s);var c=new q(i);for(c.copy(u);!n.eof();)c.copy(ht(n,r));var o=c.tell();if(s!==o)throw new W("applyDelta expected target buffer to be ".concat(s," bytes but the resulting buffer was ").concat(o," bytes"))}return i}function lt(e){var t=0,r=0,n=null;do{t|=(127&(n=e.readUInt8()))<<r,r+=7}while(128&n);return t}function dt(e,t,r){for(var n=0,a=0;r--;)1&t&&(n|=e.readUInt8()<<a),t>>=1,a+=8;return n}function ht(e,t){var r=e.readUInt8();if(128&r){var n=dt(e,15&r,4),a=dt(e,(112&r)>>4,3);return 0===a&&(a=65536),t.slice(n,n+a)}return e.slice(r)}function mt(e){var t=[e];return h({next:function(){return Promise.resolve({done:0===t.length,value:t.pop()})},return:function(){return t=[],{}}},Symbol.asyncIterator,function(){return this})}function gt(e){return e[Symbol.asyncIterator]?e[Symbol.asyncIterator]():e[Symbol.iterator]?e[Symbol.iterator]():e.next?e:mt(e)}var vt=function(){function t(e){A(this,t),this.stream=gt(e),this.buffer=null,this.cursor=0,this.undoCursor=0,this.started=!1,this._ended=!1,this._discardedBytes=0}return I(t,[{key:"eof",value:function(){return this._ended&&this.cursor===this.buffer.length}},{key:"tell",value:function(){return this._discardedBytes+this.cursor}},{key:"byte",value:function(){var e=k(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.eof()){e.next=2;break}return e.abrupt("return");case 2:if(this.started){e.next=5;break}return e.next=5,this._init();case 5:if(this.cursor!==this.buffer.length){e.next=10;break}return e.next=8,this._loadnext();case 8:if(!this._ended){e.next=10;break}return e.abrupt("return");case 10:return this._moveCursor(1),e.abrupt("return",this.buffer[this.undoCursor]);case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"chunk",value:function(){var e=k(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.eof()){e.next=2;break}return e.abrupt("return");case 2:if(this.started){e.next=5;break}return e.next=5,this._init();case 5:if(this.cursor!==this.buffer.length){e.next=10;break}return e.next=8,this._loadnext();case 8:if(!this._ended){e.next=10;break}return e.abrupt("return");case 10:return this._moveCursor(this.buffer.length),e.abrupt("return",this.buffer.slice(this.undoCursor,this.cursor));case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=k(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.eof()){e.next=2;break}return e.abrupt("return");case 2:if(this.started){e.next=5;break}return e.next=5,this._init();case 5:if(!(this.cursor+t>this.buffer.length)){e.next=9;break}return this._trim(),e.next=9,this._accumulate(t);case 9:return this._moveCursor(t),e.abrupt("return",this.buffer.slice(this.undoCursor,this.cursor));case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"skip",value:function(){var e=k(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.eof()){e.next=2;break}return e.abrupt("return");case 2:if(this.started){e.next=5;break}return e.next=5,this._init();case 5:if(!(this.cursor+t>this.buffer.length)){e.next=9;break}return this._trim(),e.next=9,this._accumulate(t);case 9:this._moveCursor(t);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"undo",value:function(){var e=k(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.cursor=this.undoCursor;case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_next",value:function(){var t=k(regeneratorRuntime.mark(function t(){var r,n,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.started=!0,t.next=3,this.stream.next();case 3:return r=t.sent,n=r.done,a=r.value,n&&(this._ended=!0),a&&(a=e.from(a)),t.abrupt("return",a);case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"_trim",value:function(){this.buffer=this.buffer.slice(this.undoCursor),this.cursor-=this.undoCursor,this._discardedBytes+=this.undoCursor,this.undoCursor=0}},{key:"_moveCursor",value:function(e){this.undoCursor=this.cursor,this.cursor+=e,this.cursor>this.buffer.length&&(this.cursor=this.buffer.length)}},{key:"_accumulate",value:function(){var t=k(regeneratorRuntime.mark(function t(r){var n,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._ended){t.next=2;break}return t.abrupt("return");case 2:n=[this.buffer];case 3:if(!(this.cursor+r>xt(n))){t.next=12;break}return t.next=6,this._next();case 6:if(a=t.sent,!this._ended){t.next=9;break}return t.abrupt("break",12);case 9:n.push(a),t.next=3;break;case 12:this.buffer=e.concat(n);case 13:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"_loadnext",value:function(){var e=k(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._discardedBytes+=this.buffer.length,this.undoCursor=0,this.cursor=0,e.next=5,this._next();case 5:this.buffer=e.sent;case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_init",value:function(){var e=k(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._next();case 2:this.buffer=e.sent;case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}();function xt(e){return e.reduce(function(e,t){return e+t.length},0)}function bt(e,t){return kt.apply(this,arguments)}function kt(){return(kt=k(regeneratorRuntime.mark(function e(t,r){var n,i,s,u,c,o,f,p,l,d,h,m,g;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new vt(t),e.next=3,n.read(4);case 3:if("PACK"===(i=(i=e.sent).toString("utf8"))){e.next=7;break}throw new W("Invalid PACK header '".concat(i,"'"));case 7:return e.next=9,n.read(4);case 9:if(2===(s=(s=e.sent).readUInt32BE(0))){e.next=13;break}throw new W("Invalid packfile version: ".concat(s));case 13:return e.next=15,n.read(4);case 15:if(!((u=(u=e.sent).readUInt32BE(0))<1)){e.next=19;break}return e.abrupt("return");case 19:if(n.eof()||!u--){e.next=52;break}return c=n.tell(),e.next=23,wt(n);case 23:o=e.sent,f=o.type,p=o.length,l=o.ofs,d=o.reference,h=new a.default.Inflate;case 29:if(h.result){e.next=50;break}return e.next=32,n.chunk();case 32:if(m=e.sent,!n.ended){e.next=35;break}return e.abrupt("break",50);case 35:if(h.push(m,!1),!h.err){e.next=38;break}throw new W("Pako error: ".concat(h.msg));case 38:if(!h.result){e.next=48;break}if(h.result.length===p){e.next=41;break}throw new W("Inflated object size is different from that stated in packfile.");case 41:return e.next=43,n.undo();case 43:return e.next=45,n.read(m.length-h.strm.avail_in);case 45:return g=n.tell(),e.next=48,r({data:h.result,type:f,num:u,offset:c,end:g,reference:d,ofs:l});case 48:e.next=29;break;case 50:e.next=19;break;case 52:case"end":return e.stop()}},e)}))).apply(this,arguments)}function wt(e){return yt.apply(this,arguments)}function yt(){return(yt=k(regeneratorRuntime.mark(function t(r){var n,a,i,s,u,c,o,f,p;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.byte();case 2:if(n=t.sent,a=n>>4&7,i=15&n,!(128&n)){t.next=13;break}s=4;case 7:return t.next=9,r.byte();case 9:n=t.sent,i|=(127&n)<<s,s+=7;case 12:if(128&n){t.next=7;break}case 13:if(6!==a){t.next=25;break}o=0,u=0,f=[];case 17:return t.next=19,r.byte();case 19:n=t.sent,u|=(127&n)<<o,o+=7,f.push(n);case 23:if(128&n){t.next=17;break}case 24:c=e.from(f);case 25:if(7!==a){t.next=30;break}return t.next=28,r.read(20);case 28:p=t.sent,c=p;case 30:return t.abrupt("return",{type:a,length:i,ofs:u,reference:c});case 31:case"end":return t.stop()}},t)}))).apply(this,arguments)}var Rt=!1;function _t(e){return Et.apply(this,arguments)}function Et(){return(Et=k(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return null===Rt&&(Rt=Pt()),e.abrupt("return",Rt?St(t):a.default.inflate(t));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function St(e){return jt.apply(this,arguments)}function jt(){return(jt=k(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=new DecompressionStream("deflate"),n=new Blob([t]).stream().pipeThrough(r),e.t0=Uint8Array,e.next=5,new Response(n).arrayBuffer();case 5:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Pt(){try{if(new DecompressionStream("deflate"))return!0}catch(e){}return!1}function At(e){var t=[],r=0,n=0;do{var a=127&(r=e.readUInt8());t.push(a),n=128&r}while(n);return t.reduce(function(e,t){return e+1<<7|t},-1)}function Ot(e,t){var r=t,n=4,a=null;do{r|=(127&(a=e.readUInt8()))<<n,n+=7}while(128&a);return r}var It=function(){function t(e){A(this,t),Object.assign(this,e),this.offsetCache={}}return I(t,[{key:"toBuffer",value:function(){var t=k(regeneratorRuntime.mark(function t(){var r,n,a,i,s,u,c,o,f,p,l,d,h,m,g,v,x,b,k,y,R,_;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(r=[],(n=function(t,n){r.push(e.from(t,n))})("ff744f63","hex"),n("00000002","hex"),a=new q(e.alloc(1024)),i=0;i<256;i++){s=0,u=w(this.hashes);try{for(u.s();!(c=u.n()).done;)o=c.value,parseInt(o.slice(0,2),16)<=i&&s++}catch(E){u.e(E)}finally{u.f()}a.writeUInt32BE(s)}r.push(a.buffer),f=w(this.hashes);try{for(f.s();!(p=f.n()).done;)l=p.value,n(l,"hex")}catch(E){f.e(E)}finally{f.f()}d=new q(e.alloc(4*this.hashes.length)),h=w(this.hashes);try{for(h.s();!(m=h.n()).done;)g=m.value,d.writeUInt32BE(this.crcs[g])}catch(E){h.e(E)}finally{h.f()}r.push(d.buffer),v=new q(e.alloc(4*this.hashes.length)),x=w(this.hashes);try{for(x.s();!(b=x.n()).done;)k=b.value,v.writeUInt32BE(this.offsets.get(k))}catch(E){x.e(E)}finally{x.f()}return r.push(v.buffer),n(this.packfileSha,"hex"),y=e.concat(r),t.next=21,Q(y);case 21:return R=t.sent,(_=e.alloc(20)).write(R,"hex"),t.abrupt("return",e.concat([y,_]));case 25:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"load",value:function(){var e=k(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t.pack,this.pack=r;case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"unload",value:function(){var e=k(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.pack=null;case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=k(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.oid,this.offsets.get(r)){e.next=8;break}if(!this.getExternalRefDelta){e.next=7;break}return this.externalReadDepth++,e.abrupt("return",this.getExternalRefDelta(r));case 7:throw new W("Could not read object ".concat(r," from packfile"));case 8:return n=this.offsets.get(r),e.abrupt("return",this.readSlice({start:n}));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"readSlice",value:function(){var t=k(regeneratorRuntime.mark(function t(r){var n,a,i,s,u,c,o,f,p,l,d,h,m,g,v,x,b;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.start,!this.offsetCache[n]){t.next=3;break}return t.abrupt("return",Object.assign({},this.offsetCache[n]));case 3:if(this.readDepth++,a={16:"commit",32:"tree",48:"blob",64:"tag",96:"ofs_delta",112:"ref_delta"},this.pack){t.next=7;break}throw new W("Tried to read from a GitPackIndex with no packfile loaded into memory");case 7:return t.next=9,this.pack;case 9:if(i=t.sent.slice(n),s=new q(i),u=s.readUInt8(),void 0!==(o=a[c=112&u])){t.next=16;break}throw new W("Unrecognized type: 0b"+c.toString(2));case 16:if(p=f=15&u,128&u&&(p=Ot(s,f)),l=null,d=null,"ofs_delta"!==o){t.next=30;break}return h=At(s),m=n-h,t.next=27,this.readSlice({start:m});case 27:g=t.sent,l=g.object,o=g.type;case 30:if("ref_delta"!==o){t.next=37;break}return v=s.slice(20).toString("hex"),t.next=34,this.read({oid:v});case 34:x=t.sent,l=x.object,o=x.type;case 37:return b=i.slice(s.tell()),t.t0=e,t.next=41,_t(b);case 41:if(t.t1=t.sent,(d=t.t0.from.call(t.t0,t.t1)).byteLength===p){t.next=45;break}throw new W("Packfile told us object would have length ".concat(p," but it had length ").concat(d.byteLength));case 45:return l&&(d=e.from(pt(d,l))),this.readDepth>3&&(this.offsetCache[n]={type:o,object:d}),t.abrupt("return",{type:o,format:"content",object:d});case 48:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}],[{key:"fromIdx",value:function(){var e=k(regeneratorRuntime.mark(function e(r){var n,a,i,s,u,c,o,f,p,l,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.idx,a=r.getExternalRefDelta,i=new q(n),"ff744f63"===i.slice(4).toString("hex")){e.next=5;break}return e.abrupt("return");case 5:if(2===(s=i.readUInt32BE())){e.next=8;break}throw new W("Unable to read version ".concat(s," packfile IDX. (Only version 2 supported)"));case 8:if(!(n.byteLength>2147483648)){e.next=10;break}throw new W("To keep implementation simple, I haven't implemented the layer 5 feature needed to support packfiles > 2GB in size.");case 10:for(i.seek(i.tell()+1020),u=i.readUInt32BE(),c=[],o=0;o<u;o++)f=i.slice(20).toString("hex"),c[o]=f;for(i.seek(i.tell()+4*u),p=new Map,l=0;l<u;l++)p.set(c[l],i.readUInt32BE());return d=i.slice(20).toString("hex"),e.abrupt("return",new t({hashes:c,crcs:{},offsets:p,packfileSha:d,getExternalRefDelta:a}));case 19:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"fromPack",value:function(){var e=k(regeneratorRuntime.mark(function e(r){var a,i,s,u,c,o,f,p,l,d,h,m,g,v,x,b,R,_,E,S,j,P,A,O,I,B,C,N,D,U;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.pack,i=r.getExternalRefDelta,s=r.onProgress,u={1:"commit",2:"tree",3:"blob",4:"tag",6:"ofs-delta",7:"ref-delta"},c={},o=a.slice(-20).toString("hex"),f=[],p={},l=new Map,d=null,h=null,e.next=11,bt([a],function(){var e=k(regeneratorRuntime.mark(function e(t){var r,n,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.data,r=t.type,t.reference,n=t.offset,a=t.num,null===d&&(d=a),(i=Math.floor(100*(d-a)/d))===h){e.next=7;break}if(!s){e.next=7;break}return e.next=7,s({phase:"Receiving objects",loaded:d-a,total:d});case 7:h=i,["commit","tree","blob","tag"].includes(r=u[r])?c[n]={type:r,offset:n}:"ofs-delta"===r?c[n]={type:r,offset:n}:"ref-delta"===r&&(c[n]={type:r,offset:n});case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 11:m=Object.keys(c).map(Number),g=w(m.entries());try{for(g.s();!(v=g.n()).done;)x=y(v.value,2),b=x[0],R=x[1],_=b+1===m.length?a.byteLength-20:m[b+1],E=c[R],S=n.default.buf(a.slice(R,_))>>>0,E.end=_,E.crc=S}catch(T){g.e(T)}finally{g.f()}j=new t({pack:Promise.resolve(a),packfileSha:o,crcs:p,hashes:f,offsets:l,getExternalRefDelta:i}),h=null,P=0,A=[0,0,0,0,0,0,0,0,0,0,0,0],e.t0=regeneratorRuntime.keys(c);case 19:if((e.t1=e.t0()).done){e.next=54;break}if(O=e.t1.value,O=Number(O),(I=Math.floor(100*P++/d))===h){e.next=27;break}if(!s){e.next=27;break}return e.next=27,s({phase:"Resolving deltas",loaded:P,total:d});case 27:if(h=I,!(B=c[O]).oid){e.next=31;break}return e.abrupt("continue",19);case 31:return e.prev=31,j.readDepth=0,j.externalReadDepth=0,e.next=36,j.readSlice({start:O});case 36:return C=e.sent,N=C.type,D=C.object,A[j.readDepth]+=1,e.next=42,Q(ct.wrap({type:N,object:D}));case 42:U=e.sent,B.oid=U,f.push(U),l.set(U,O),p[U]=B.crc,e.next=52;break;case 49:return e.prev=49,e.t2=e.catch(31),e.abrupt("continue",19);case 52:e.next=19;break;case 54:return f.sort(),e.abrupt("return",j);case 56:case"end":return e.stop()}},e,null,[[31,49]])}));return function(t){return e.apply(this,arguments)}}()}]),t}();function Bt(e){return Ct.apply(this,arguments)}function Ct(){return(Ct=k(regeneratorRuntime.mark(function e(t){var r,n,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.filename,a=t.getExternalRefDelta,t.emitter,t.emitterPrefix,e.next=3,r.read(n);case 3:return i=e.sent,e.abrupt("return",It.fromIdx({idx:i,getExternalRefDelta:a}));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Nt(e){var t=e.fs,r=e.cache,n=e.filename,a=e.getExternalRefDelta,i=e.emitter,s=e.emitterPrefix;r.packfiles||(r.packfiles=new Map);var u=r.packfiles.get(n);return u||(u=Bt({fs:t,filename:n,getExternalRefDelta:a,emitter:i,emitterPrefix:s}),r.packfiles.set(n,u)),u}function Dt(e){return Ut.apply(this,arguments)}function Ut(){return(Ut=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o,f,p,l,d,h,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.cache,a=t.gitdir,i=t.oid,s=t.format,void 0===s?"content":s,u=t.getExternalRefDelta,e.next=3,r.readdir(Ce(a,"objects/pack"));case 3:c=(c=e.sent).filter(function(e){return e.endsWith(".idx")}),o=w(c),e.prev=6,o.s();case 8:if((f=o.n()).done){e.next=26;break}return p=f.value,l="".concat(a,"/objects/pack/").concat(p),e.next=13,Nt({fs:r,cache:n,filename:l,getExternalRefDelta:u});case 13:if(!(d=e.sent).error){e.next=16;break}throw new W(d.error);case 16:if(!d.offsets.has(i)){e.next=24;break}return d.pack||(h=l.replace(/idx$/,"pack"),d.pack=r.read(h)),e.next=20,d.read({oid:i,getExternalRefDelta:u});case 20:return(m=e.sent).format="content",m.source="objects/pack/".concat(p.replace(/idx$/,"pack")),e.abrupt("return",m);case 24:e.next=8;break;case 26:e.next=31;break;case 28:e.prev=28,e.t0=e.catch(6),o.e(e.t0);case 31:return e.prev=31,o.f(),e.finish(31);case 34:return e.abrupt("return",null);case 35:case"end":return e.stop()}},e,null,[[6,28,31,34]])}))).apply(this,arguments)}function Tt(e){return Mt.apply(this,arguments)}function Mt(){return(Mt=k(regeneratorRuntime.mark(function t(r){var n,a,i,s,u,c,o,f,p,l,d,h;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.fs,a=r.cache,i=r.gitdir,s=r.oid,u=r.format,c=void 0===u?"content":u,o=function(e){return Tt({fs:n,cache:a,gitdir:i,oid:e})},"4b825dc642cb6eb9a060e54bf8d69288fbee4904"===s&&(f={format:"wrapped",object:e.from("tree 0\0")}),f){t.next=7;break}return t.next=6,ot({fs:n,gitdir:i,oid:s});case 6:f=t.sent;case 7:if(f){t.next=11;break}return t.next=10,Dt({fs:n,cache:a,gitdir:i,oid:s,getExternalRefDelta:o});case 10:f=t.sent;case 11:if(f){t.next=13;break}throw new _e(s);case 13:if("deflated"!==c){t.next=15;break}return t.abrupt("return",f);case 15:t.t0=f.format,t.next="deflated"===t.t0?18:"wrapped"===t.t0?24:"content"===t.t0?35:38;break;case 18:return t.t1=e,t.next=21,_t(f.object);case 21:t.t2=t.sent,f.object=t.t1.from.call(t.t1,t.t2),f.format="wrapped";case 24:if("wrapped"!==c||"wrapped"!==f.format){t.next=26;break}return t.abrupt("return",f);case 26:return t.next=28,Q(f.object);case 28:if((p=t.sent)===s){t.next=31;break}throw new W("SHA check failed! Expected ".concat(s,", computed ").concat(p));case 31:l=ct.unwrap(f.object),d=l.object,h=l.type,f.type=h,f.object=d,f.format="content";case 35:if("content"!==c){t.next=37;break}return t.abrupt("return",f);case 37:return t.abrupt("break",39);case 38:throw new W('invalid format "'.concat(f.format,'"'));case 39:case"end":return t.stop()}},t)}))).apply(this,arguments)}var Ft=function(e){B(r,G);var t=C(r);function r(e,n){var a,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return A(this,r),(a=t.call(this,"Failed to create ".concat(e," at ").concat(n," because it already exists.").concat(i?" (Hint: use 'force: true' parameter to overwrite existing ".concat(e,".)"):""))).code=a.name=r.code,a.data={noun:e,where:n,canForce:i},a}return r}();Ft.code="AlreadyExistsError";var Ht=function(e){B(r,G);var t=C(r);function r(e,n,a){var i;return A(this,r),(i=t.call(this,"Found multiple ".concat(e,' matching "').concat(n,'" (').concat(a.join(", "),"). Use a longer abbreviation length to disambiguate them."))).code=i.name=r.code,i.data={nouns:e,short:n,matches:a},i}return r}();Ht.code="AmbiguousError";var zt=function(e){B(r,G);var t=C(r);function r(e){var n;return A(this,r),(n=t.call(this,"Your local changes to the following files would be overwritten by checkout: ".concat(e.join(", ")))).code=n.name=r.code,n.data={filepaths:e},n}return r}();zt.code="CheckoutConflictError";var Gt=function(e){B(r,G);var t=C(r);function r(e,n){var a;return A(this,r),(a=t.call(this,'Failed to checkout "'.concat(e,'" because commit ').concat(n," is not available locally. Do a git fetch to make the branch available locally."))).code=a.name=r.code,a.data={ref:e,oid:n},a}return r}();Gt.code="CommitNotFetchedError";var Wt=function(e){B(r,G);var t=C(r);function r(){var e;return A(this,r),(e=t.call(this,"Empty response from git server.")).code=e.name=r.code,e.data={},e}return r}();Wt.code="EmptyServerResponseError";var qt=function(e){B(r,G);var t=C(r);function r(){var e;return A(this,r),(e=t.call(this,"A simple fast-forward merge was not possible.")).code=e.name=r.code,e.data={},e}return r}();qt.code="FastForwardError";var Kt=function(e){B(r,G);var t=C(r);function r(e,n){var a;return A(this,r),(a=t.call(this,"One or more branches were not updated: ".concat(e))).code=a.name=r.code,a.data={prettyDetails:e,result:n},a}return r}();Kt.code="GitPushError";var $t=function(e){B(r,G);var t=C(r);function r(e,n,a){var i;return A(this,r),(i=t.call(this,"HTTP Error: ".concat(e," ").concat(n))).code=i.name=r.code,i.data={statusCode:e,statusMessage:n,response:a},i}return r}();$t.code="HttpError";var Lt=function(e){B(r,G);var t=C(r);function r(e){var n;A(this,r);var a="invalid filepath";return"leading-slash"!==e&&"trailing-slash"!==e||(a='"filepath" parameter should not include leading or trailing directory separators because these can cause problems on some platforms.'),(n=t.call(this,a)).code=n.name=r.code,n.data={reason:e},n}return r}();Lt.code="InvalidFilepathError";var Vt=function(e){B(r,G);var t=C(r);function r(e,n){var a;return A(this,r),(a=t.call(this,'"'.concat(e,'" would be an invalid git reference. (Hint: a valid alternative would be "').concat(n,'".)'))).code=a.name=r.code,a.data={ref:e,suggestion:n},a}return r}();Vt.code="InvalidRefNameError";var Zt=function(e){B(r,G);var t=C(r);function r(e){var n;return A(this,r),(n=t.call(this,"Maximum search depth of ".concat(e," exceeded."))).code=n.name=r.code,n.data={depth:e},n}return r}();Zt.code="MaxDepthError";var Yt=function(e){B(r,G);var t=C(r);function r(){var e;return A(this,r),(e=t.call(this,"Merges with conflicts are not supported yet.")).code=e.name=r.code,e.data={},e}return r}();Yt.code="MergeNotSupportedError";var Jt=function(e){B(r,G);var t=C(r);function r(e){var n;return A(this,r),(n=t.call(this,"No name was provided for ".concat(e," in the argument or in the .git/config file."))).code=n.name=r.code,n.data={role:e},n}return r}();Jt.code="MissingNameError";var Xt=function(e){B(r,G);var t=C(r);function r(e){var n;return A(this,r),(n=t.call(this,'The function requires a "'.concat(e,'" parameter but none was provided.'))).code=n.name=r.code,n.data={parameter:e},n}return r}();Xt.code="MissingParameterError";var Qt=function(e){B(r,G);var t=C(r);function r(e,n){var a;return A(this,r),(a=t.call(this,'Expected "'.concat(e,'" but received "').concat(n,'".'))).code=a.name=r.code,a.data={expected:e,actual:n},a}return r}();Qt.code="ParseError";var er=function(e){B(r,G);var t=C(r);function r(e){var n;A(this,r);var a="";return"not-fast-forward"===e?a=" because it was not a simple fast-forward":"tag-exists"===e&&(a=" because tag already exists"),(n=t.call(this,"Push rejected".concat(a,'. Use "force: true" to override.'))).code=n.name=r.code,n.data={reason:e},n}return r}();er.code="PushRejectedError";var tr=function(e){B(r,G);var t=C(r);function r(e,n){var a;return A(this,r),(a=t.call(this,'Remote does not support the "'.concat(e,'" so the "').concat(n,'" parameter cannot be used.'))).code=a.name=r.code,a.data={capability:e,parameter:n},a}return r}();tr.code="RemoteCapabilityError";var rr=function(e){B(r,G);var t=C(r);function r(e,n){var a;return A(this,r),(a=t.call(this,'Remote did not reply using the "smart" HTTP protocol. Expected "001e# service=git-upload-pack" but received: '.concat(e))).code=a.name=r.code,a.data={preview:e,response:n},a}return r}();rr.code="SmartHttpError";var nr=function(e){B(r,G);var t=C(r);function r(e,n,a){var i;return A(this,r),(i=t.call(this,'Git remote "'.concat(e,'" uses an unrecognized transport protocol: "').concat(n,'"'))).code=i.name=r.code,i.data={url:e,transport:n,suggestion:a},i}return r}();nr.code="UnknownTransportError";var ar=function(e){B(r,G);var t=C(r);function r(e){var n;return A(this,r),(n=t.call(this,'Cannot parse remote URL: "'.concat(e,'"'))).code=n.name=r.code,n.data={url:e},n}return r}();ar.code="UrlParseError";var ir=function(e){B(r,G);var t=C(r);function r(){var e;return A(this,r),(e=t.call(this,"The operation was canceled.")).code=e.name=r.code,e.data={},e}return r}();ir.code="UserCanceledError";var sr=Object.freeze({__proto__:null,AlreadyExistsError:Ft,AmbiguousError:Ht,CheckoutConflictError:zt,CommitNotFetchedError:Gt,EmptyServerResponseError:Wt,FastForwardError:qt,GitPushError:Kt,HttpError:$t,InternalError:W,InvalidFilepathError:Lt,InvalidOidError:Se,InvalidRefNameError:Vt,MaxDepthError:Zt,MergeNotSupportedError:Yt,MissingNameError:Jt,MissingParameterError:Xt,NoRefspecError:je,NotFoundError:_e,ObjectTypeError:Ee,ParseError:Qt,PushRejectedError:er,RemoteCapabilityError:tr,SmartHttpError:rr,UnknownTransportError:nr,UrlParseError:ar,UserCanceledError:ir});function ur(e){var t=e.name,r=e.email,n=e.timestamp,a=e.timezoneOffset;return a=cr(a),"".concat(t," <").concat(r,"> ").concat(n," ").concat(a)}function cr(e){var t=or(fr(e));e=Math.abs(e);var r=Math.floor(e/60);e-=60*r;var n=String(r),a=String(e);return n.length<2&&(n="0"+n),a.length<2&&(a="0"+a),(-1===t?"-":"+")+n+a}function or(e){return Math.sign(e)||(Object.is(e,-0)?-1:1)}function fr(e){return 0===e?e:-e}function pr(e){return e=(e=(e=e.replace(/\r/g,"")).replace(/^\n+/,"")).replace(/\n+$/,"")+"\n"}function lr(e){var t=y(e.match(/^(.*) <(.*)> (.*) (.*)$/),5),r=t[1],n=t[2],a=t[3],i=t[4];return{name:r,email:n,timestamp:Number(a),timezoneOffset:dr(i)}}function dr(e){var t=y(e.match(/(\+|-)(\d\d)(\d\d)/),4),r=t[1],n=t[2],a=t[3];return hr(a=("+"===r?1:-1)*(60*Number(n)+Number(a)))}function hr(e){return 0===e?e:-e}exports.Errors=sr;var mr=function(){function t(r){if(A(this,t),"string"==typeof r)this._tag=r;else if(e.isBuffer(r))this._tag=r.toString("utf8");else{if("object"!==P(r))throw new W("invalid type passed to GitAnnotatedTag constructor");this._tag=t.render(r)}}return I(t,[{key:"justHeaders",value:function(){return this._tag.slice(0,this._tag.indexOf("\n\n"))}},{key:"message",value:function(){var e=this.withoutSignature();return e.slice(e.indexOf("\n\n")+2)}},{key:"parse",value:function(){return Object.assign(this.headers(),{message:this.message(),gpgsig:this.gpgsig()})}},{key:"render",value:function(){return this._tag}},{key:"headers",value:function(){var e,t=this.justHeaders().split("\n"),r=[],n=w(t);try{for(n.s();!(e=n.n()).done;){var a=e.value;" "===a[0]?r[r.length-1]+="\n"+a.slice(1):r.push(a)}}catch(p){n.e(p)}finally{n.f()}for(var i={},s=0,u=r;s<u.length;s++){var c=u[s],o=c.slice(0,c.indexOf(" ")),f=c.slice(c.indexOf(" ")+1);Array.isArray(i[o])?i[o].push(f):i[o]=f}return i.tagger&&(i.tagger=lr(i.tagger)),i.committer&&(i.committer=lr(i.committer)),i}},{key:"withoutSignature",value:function(){var e=pr(this._tag);return-1===e.indexOf("\n-----BEGIN PGP SIGNATURE-----")?e:e.slice(0,e.lastIndexOf("\n-----BEGIN PGP SIGNATURE-----"))}},{key:"gpgsig",value:function(){if(-1!==this._tag.indexOf("\n-----BEGIN PGP SIGNATURE-----"))return pr(this._tag.slice(this._tag.indexOf("-----BEGIN PGP SIGNATURE-----"),this._tag.indexOf("-----END PGP SIGNATURE-----")+"-----END PGP SIGNATURE-----".length))}},{key:"payload",value:function(){return this.withoutSignature()+"\n"}},{key:"toObject",value:function(){return e.from(this._tag,"utf8")}}],[{key:"from",value:function(e){return new t(e)}},{key:"render",value:function(e){return"object ".concat(e.object,"\ntype ").concat(e.type,"\ntag ").concat(e.tag,"\ntagger ").concat(ur(e.tagger),"\n\n").concat(e.message,"\n").concat(e.gpgsig?e.gpgsig:"")}},{key:"sign",value:function(){var e=k(regeneratorRuntime.mark(function e(r,n,a){var i,s,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.payload(),e.next=3,n({payload:i,secretKey:a});case 3:return s=e.sent,u=pr(u=s.signature),c=i+u,e.abrupt("return",t.from(c));case 8:case"end":return e.stop()}},e)}));return function(t,r,n){return e.apply(this,arguments)}}()}]),t}();function gr(e){return e.trim().split("\n").map(function(e){return" "+e}).join("\n")+"\n"}function vr(e){return e.split("\n").map(function(e){return e.replace(/^ /,"")}).join("\n")}var xr=function(){function t(r){if(A(this,t),"string"==typeof r)this._commit=r;else if(e.isBuffer(r))this._commit=r.toString("utf8");else{if("object"!==P(r))throw new W("invalid type passed to GitCommit constructor");this._commit=t.render(r)}}return I(t,[{key:"toObject",value:function(){return e.from(this._commit,"utf8")}},{key:"headers",value:function(){return this.parseHeaders()}},{key:"message",value:function(){return t.justMessage(this._commit)}},{key:"parse",value:function(){return Object.assign({message:this.message()},this.headers())}},{key:"parseHeaders",value:function(){var e,r=[],n=w(t.justHeaders(this._commit).split("\n"));try{for(n.s();!(e=n.n()).done;){var a=e.value;" "===a[0]?r[r.length-1]+="\n"+a.slice(1):r.push(a)}}catch(p){n.e(p)}finally{n.f()}for(var i={parent:[]},s=0,u=r;s<u.length;s++){var c=u[s],o=c.slice(0,c.indexOf(" ")),f=c.slice(c.indexOf(" ")+1);Array.isArray(i[o])?i[o].push(f):i[o]=f}return i.author&&(i.author=lr(i.author)),i.committer&&(i.committer=lr(i.committer)),i}},{key:"render",value:function(){return this._commit}},{key:"withoutSignature",value:function(){var e=pr(this._commit);return-1===e.indexOf("\ngpgsig")?e:pr(e.slice(0,e.indexOf("\ngpgsig"))+"\n"+e.slice(e.indexOf("-----END PGP SIGNATURE-----\n")+"-----END PGP SIGNATURE-----\n".length))}},{key:"isolateSignature",value:function(){return vr(this._commit.slice(this._commit.indexOf("-----BEGIN PGP SIGNATURE-----"),this._commit.indexOf("-----END PGP SIGNATURE-----")+"-----END PGP SIGNATURE-----".length))}}],[{key:"fromPayloadSignature",value:function(e){var r=e.payload,n=e.signature,a=t.justHeaders(r),i=t.justMessage(r);return new t(pr(a+"\ngpgsig"+gr(n)+"\n"+i))}},{key:"from",value:function(e){return new t(e)}},{key:"justMessage",value:function(e){return pr(e.slice(e.indexOf("\n\n")+2))}},{key:"justHeaders",value:function(e){return e.slice(0,e.indexOf("\n\n"))}},{key:"renderHeaders",value:function(e){var t="";if(e.tree?t+="tree ".concat(e.tree,"\n"):t+="tree 4b825dc642cb6eb9a060e54bf8d69288fbee4904\n",e.parent){if(void 0===e.parent.length)throw new W("commit 'parent' property should be an array");var r,n=w(e.parent);try{for(n.s();!(r=n.n()).done;){var a=r.value;t+="parent ".concat(a,"\n")}}catch(u){n.e(u)}finally{n.f()}}var i=e.author;t+="author ".concat(ur(i),"\n");var s=e.committer||e.author;return t+="committer ".concat(ur(s),"\n"),e.gpgsig&&(t+="gpgsig"+gr(e.gpgsig)),t}},{key:"render",value:function(e){return t.renderHeaders(e)+"\n"+pr(e.message)}},{key:"sign",value:function(){var e=k(regeneratorRuntime.mark(function e(r,n,a){var i,s,u,c,o,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.withoutSignature(),s=t.justMessage(r._commit),e.next=4,n({payload:i,secretKey:a});case 4:return u=e.sent,c=pr(c=u.signature),o=t.justHeaders(r._commit),f=o+"\ngpgsig"+gr(c)+"\n"+s,e.abrupt("return",t.from(f));case 10:case"end":return e.stop()}},e)}));return function(t,r,n){return e.apply(this,arguments)}}()}]),t}();function br(e){return kr.apply(this,arguments)}function kr(){return(kr=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.fs,n=t.cache,a=t.gitdir,"4b825dc642cb6eb9a060e54bf8d69288fbee4904"!==(i=t.oid)){e.next=3;break}return e.abrupt("return",{tree:ut.from([]),oid:i});case 3:return e.next=5,Tt({fs:r,cache:n,gitdir:a,oid:i});case 5:if(s=e.sent,u=s.type,c=s.object,"tag"!==u){e.next=11;break}return i=mr.from(c).parse().object,e.abrupt("return",br({fs:r,cache:n,gitdir:a,oid:i}));case 11:if("commit"!==u){e.next=14;break}return i=xr.from(c).parse().tree,e.abrupt("return",br({fs:r,cache:n,gitdir:a,oid:i}));case 14:if("tree"===u){e.next=16;break}throw new Ee(i,u,"tree");case 16:return e.abrupt("return",{tree:ut.from(c),oid:i});case 17:case"end":return e.stop()}},e)}))).apply(this,arguments)}var wr=function(){function e(t){var r=this,n=t.fs,a=t.gitdir,i=t.ref;A(this,e),this.fs=n,this.cache={},this.gitdir=a,this.mapPromise=k(regeneratorRuntime.mark(function e(){var t,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Map,e.prev=1,e.next=4,et.resolve({fs:n,gitdir:a,ref:i});case 4:s=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),e.t0 instanceof _e&&(s="4b825dc642cb6eb9a060e54bf8d69288fbee4904");case 10:return e.next=12,br({fs:n,cache:r.cache,gitdir:a,oid:s});case 12:return(u=e.sent).type="tree",u.mode="40000",t.set(".",u),e.abrupt("return",t);case 17:case"end":return e.stop()}},e,null,[[1,7]])}))();var s=this;this.ConstructEntry=function(){function e(t){A(this,e),this._fullpath=t,this._type=!1,this._mode=!1,this._stat=!1,this._content=!1,this._oid=!1}return I(e,[{key:"type",value:function(){var e=k(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.type(this));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"mode",value:function(){var e=k(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.mode(this));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"stat",value:function(){var e=k(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.stat(this));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"content",value:function(){var e=k(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.content(this));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"oid",value:function(){var e=k(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.oid(this));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}()}return I(e,[{key:"readdir",value:function(){var e=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o,f,p,l,d,h,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t._fullpath,n=this.fs,a=this.cache,i=this.gitdir,e.next=4,this.mapPromise;case 4:if(s=e.sent,u=s.get(r)){e.next=8;break}throw new Error("No obj for ".concat(r));case 8:if(c=u.oid){e.next=11;break}throw new Error("No oid for obj ".concat(JSON.stringify(u)));case 11:if("tree"===u.type){e.next=13;break}return e.abrupt("return",null);case 13:return e.next=15,Tt({fs:n,cache:a,gitdir:i,oid:c});case 15:if(o=e.sent,f=o.type,p=o.object,f===u.type){e.next=20;break}throw new Ee(c,f,u.type);case 20:l=ut.from(p),d=w(l);try{for(d.s();!(h=d.n()).done;)m=h.value,s.set(Ce(r,m.path),m)}catch(g){d.e(g)}finally{d.f()}return e.abrupt("return",l.entries().map(function(e){return Ce(r,e.path)}));case 24:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"type",value:function(){var e=k(regeneratorRuntime.mark(function e(t){var r,n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==t._type){e.next=6;break}return e.next=3,this.mapPromise;case 3:r=e.sent,n=r.get(t._fullpath),a=n.type,t._type=a;case 6:return e.abrupt("return",t._type);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"mode",value:function(){var e=k(regeneratorRuntime.mark(function e(t){var r,n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==t._mode){e.next=6;break}return e.next=3,this.mapPromise;case 3:r=e.sent,n=r.get(t._fullpath),a=n.mode,t._mode=L(parseInt(a,8));case 6:return e.abrupt("return",t._mode);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"stat",value:function(){var e=k(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"content",value:function(){var e=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==t._content){e.next=13;break}return e.next=3,this.mapPromise;case 3:return r=e.sent,n=this.fs,a=this.cache,i=this.gitdir,s=r.get(t._fullpath),u=s.oid,e.next=9,Tt({fs:n,cache:a,gitdir:i,oid:u});case 9:c=e.sent,o=c.type,f=c.object,t._content="blob"!==o?void 0:new Uint8Array(f);case 13:return e.abrupt("return",t._content);case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"oid",value:function(){var e=k(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==t._oid){e.next=6;break}return e.next=3,this.mapPromise;case 3:r=e.sent,n=r.get(t._fullpath),t._oid=n.oid;case 6:return e.abrupt("return",t._oid);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}();function yr(e){var t=e.ref,r=void 0===t?"HEAD":t,n=Object.create(null);return Object.defineProperty(n,ye,{value:function(e){var t=e.fs,n=e.gitdir;return new wr({fs:t,gitdir:n,ref:r})}}),Object.freeze(n),n}var Rr=function(){function e(t){var r=t.fs,n=t.dir,a=t.gitdir,i=t.cache;A(this,e),this.fs=r,this.cache=i,this.dir=n,this.gitdir=a;var s=this;this.ConstructEntry=function(){function e(t){A(this,e),this._fullpath=t,this._type=!1,this._mode=!1,this._stat=!1,this._content=!1,this._oid=!1}return I(e,[{key:"type",value:function(){var e=k(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.type(this));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"mode",value:function(){var e=k(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.mode(this));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"stat",value:function(){var e=k(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.stat(this));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"content",value:function(){var e=k(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.content(this));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"oid",value:function(){var e=k(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.oid(this));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}()}return I(e,[{key:"readdir",value:function(){var e=k(regeneratorRuntime.mark(function e(t){var r,n,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t._fullpath,n=this.fs,a=this.dir,e.next=4,n.readdir(Ce(a,r));case 4:if(null!==(i=e.sent)){e.next=7;break}return e.abrupt("return",null);case 7:return e.abrupt("return",i.map(function(e){return Ce(r,e)}));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"type",value:function(){var e=k(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==t._type){e.next=3;break}return e.next=3,t.stat();case 3:return e.abrupt("return",t._type);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"mode",value:function(){var e=k(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==t._mode){e.next=3;break}return e.next=3,t.stat();case 3:return e.abrupt("return",t._mode);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"stat",value:function(){var e=k(regeneratorRuntime.mark(function e(t){var r,n,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==t._stat){e.next=14;break}return r=this.fs,n=this.dir,e.next=4,r.lstat("".concat(n,"/").concat(t._fullpath));case 4:if(a=e.sent){e.next=7;break}throw new Error("ENOENT: no such file or directory, lstat '".concat(t._fullpath,"'"));case 7:"blob"!==(i=a.isDirectory()?"tree":"blob")||a.isFile()||a.isSymbolicLink()||(i="special"),t._type=i,a=Y(a),t._mode=a.mode,-1===a.size&&t._actualSize&&(a.size=t._actualSize),t._stat=a;case 14:return e.abrupt("return",t._stat);case 15:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"content",value:function(){var e=k(regeneratorRuntime.mark(function e(t){var r,n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==t._content){e.next=15;break}return r=this.fs,n=this.dir,e.next=4,t.type();case 4:if(e.t0=e.sent,"tree"!==e.t0){e.next=9;break}t._content=void 0,e.next=15;break;case 9:return e.next=11,r.read("".concat(n,"/").concat(t._fullpath));case 11:a=e.sent,t._actualSize=a.length,t._stat&&-1===t._stat.size&&(t._stat.size=t._actualSize),t._content=new Uint8Array(a);case 15:return e.abrupt("return",t._content);case 16:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"oid",value:function(){var e=k(regeneratorRuntime.mark(function e(t){var r,n,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==t._oid){e.next=5;break}return r=this.fs,n=this.gitdir,a=this.cache,e.next=4,ge.acquire({fs:r,gitdir:n,cache:a},function(){var e=k(regeneratorRuntime.mark(function e(r){var n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.entriesMap.get(t._fullpath),e.next=3,t.stat();case 3:if(a=e.sent,n&&!oe(a,n)){e.next=25;break}return e.next=7,t.content();case 7:if(void 0!==e.sent){e.next=12;break}i=void 0,e.next=23;break;case 12:return e.t0=Q,e.t1=ct,e.next=16,t.content();case 16:return e.t2=e.sent,e.t3={type:"blob",object:e.t2},e.t4=e.t1.wrap.call(e.t1,e.t3),e.next=21,(0,e.t0)(e.t4);case 21:i=e.sent,n&&i===n.oid&&r.insert({filepath:t._fullpath,stats:a,oid:i});case 23:e.next=26;break;case 25:i=n.oid;case 26:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 4:t._oid=i;case 5:return e.abrupt("return",t._oid);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}();function _r(){var e=Object.create(null);return Object.defineProperty(e,ye,{value:function(e){var t=e.fs,r=e.dir,n=e.gitdir,a=e.cache;return new Rr({fs:t,dir:r,gitdir:n,cache:a})}}),Object.freeze(e),e}var Er=function(){function e(){A(this,e)}return I(e,null,[{key:"isIgnored",value:function(){var e=k(regeneratorRuntime.mark(function e(t){var r,n,a,s,u,c,o,f,p,l,d,h,m,g,v,x;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.fs,n=t.dir,a=t.gitdir,void 0===a?Ce(n,".git"):a,".git"!==ve(s=t.filepath)){e.next=3;break}return e.abrupt("return",!0);case 3:if("."!==s){e.next=5;break}return e.abrupt("return",!1);case 5:for(u=[{gitignore:Ce(n,".gitignore"),filepath:s}],c=s.split("/"),o=1;o<c.length;o++)f=c.slice(0,o).join("/"),p=c.slice(o).join("/"),u.push({gitignore:Ce(n,f,".gitignore"),filepath:p});l=!1,d=0,h=u;case 10:if(!(d<h.length)){e.next=31;break}return m=h[d],g=void 0,e.prev=13,e.next=16,r.read(m.gitignore,"utf8");case 16:g=e.sent,e.next=23;break;case 19:if(e.prev=19,e.t0=e.catch(13),"NOENT"!==e.t0.code){e.next=23;break}return e.abrupt("continue",28);case 23:if(v=(0,i.default)().add(g),"."===(x=xe(m.filepath))||!v.ignores(x)){e.next=27;break}return e.abrupt("return",!0);case 27:l=l?!v.test(m.filepath).unignored:v.test(m.filepath).ignored;case 28:d++,e.next=10;break;case 31:return e.abrupt("return",l);case 32:case"end":return e.stop()}},e,null,[[13,19]])}));return function(t){return e.apply(this,arguments)}}()}]),e}(),Sr=function(){function t(e){if(A(this,t),void 0!==e._original_unwrapped_fs)return e;var r=Object.getOwnPropertyDescriptor(e,"promises");r&&r.enumerable?(this._readFile=e.promises.readFile.bind(e.promises),this._writeFile=e.promises.writeFile.bind(e.promises),this._mkdir=e.promises.mkdir.bind(e.promises),this._rmdir=e.promises.rmdir.bind(e.promises),this._unlink=e.promises.unlink.bind(e.promises),this._stat=e.promises.stat.bind(e.promises),this._lstat=e.promises.lstat.bind(e.promises),this._readdir=e.promises.readdir.bind(e.promises),this._readlink=e.promises.readlink.bind(e.promises),this._symlink=e.promises.symlink.bind(e.promises)):(this._readFile=(0,s.default)(e.readFile.bind(e)),this._writeFile=(0,s.default)(e.writeFile.bind(e)),this._mkdir=(0,s.default)(e.mkdir.bind(e)),this._rmdir=(0,s.default)(e.rmdir.bind(e)),this._unlink=(0,s.default)(e.unlink.bind(e)),this._stat=(0,s.default)(e.stat.bind(e)),this._lstat=(0,s.default)(e.lstat.bind(e)),this._readdir=(0,s.default)(e.readdir.bind(e)),this._readlink=(0,s.default)(e.readlink.bind(e)),this._symlink=(0,s.default)(e.symlink.bind(e))),this._original_unwrapped_fs=e}return I(t,[{key:"exists",value:function(){var e=k(regeneratorRuntime.mark(function e(t){var r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:{},e.prev=1,e.next=4,this._stat(t);case 4:return e.abrupt("return",!0);case 7:if(e.prev=7,e.t0=e.catch(1),"ENOENT"!==e.t0.code&&"ENOTDIR"!==e.t0.code){e.next=13;break}return e.abrupt("return",!1);case 13:throw console.log('Unhandled error in "FileSystem.exists()" function',e.t0),e.t0;case 15:case"end":return e.stop()}},e,this,[[1,7]])}));return function(t){return e.apply(this,arguments)}}()},{key:"read",value:function(){var t=k(regeneratorRuntime.mark(function t(r){var n,a,i=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},t.prev=1,t.next=4,this._readFile(r,n);case 4:return"string"!=typeof(a=t.sent)&&(a=e.from(a)),t.abrupt("return",a);case 9:return t.prev=9,t.t0=t.catch(1),t.abrupt("return",null);case 12:case"end":return t.stop()}},t,this,[[1,9]])}));return function(e){return t.apply(this,arguments)}}()},{key:"write",value:function(){var e=k(regeneratorRuntime.mark(function e(t,r){var n,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>2&&void 0!==a[2]?a[2]:{},e.prev=1,e.next=4,this._writeFile(t,r,n);case 4:return e.abrupt("return");case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this.mkdir(xe(t));case 11:return e.next=13,this._writeFile(t,r,n);case 13:case"end":return e.stop()}},e,this,[[1,7]])}));return function(t,r){return e.apply(this,arguments)}}()},{key:"mkdir",value:function(){var e=k(regeneratorRuntime.mark(function e(t){var r,n,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]&&a[1],e.prev=1,e.next=4,this._mkdir(t);case 4:return e.abrupt("return");case 7:if(e.prev=7,e.t0=e.catch(1),null!==e.t0){e.next=11;break}return e.abrupt("return");case 11:if("EEXIST"!==e.t0.code){e.next=13;break}return e.abrupt("return");case 13:if(!r){e.next=15;break}throw e.t0;case 15:if("ENOENT"!==e.t0.code){e.next=23;break}if("."!==(n=xe(t))&&"/"!==n&&n!==t){e.next=19;break}throw e.t0;case 19:return e.next=21,this.mkdir(n);case 21:return e.next=23,this.mkdir(t,!0);case 23:case"end":return e.stop()}},e,this,[[1,7]])}));return function(t){return e.apply(this,arguments)}}()},{key:"rm",value:function(){var e=k(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._unlink(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),"ENOENT"===e.t0.code){e.next=9;break}throw e.t0;case 9:case"end":return e.stop()}},e,this,[[0,5]])}));return function(t){return e.apply(this,arguments)}}()},{key:"rmdir",value:function(){var e=k(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._rmdir(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),"ENOENT"===e.t0.code){e.next=9;break}throw e.t0;case 9:case"end":return e.stop()}},e,this,[[0,5]])}));return function(t){return e.apply(this,arguments)}}()},{key:"readdir",value:function(){var e=k(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._readdir(t);case 3:return(r=e.sent).sort(K),e.abrupt("return",r);case 8:if(e.prev=8,e.t0=e.catch(0),"ENOTDIR"!==e.t0.code){e.next=12;break}return e.abrupt("return",null);case 12:return e.abrupt("return",[]);case 13:case"end":return e.stop()}},e,this,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()},{key:"readdirDeep",value:function(){var e=k(regeneratorRuntime.mark(function e(t){var r,n,a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._readdir(t);case 2:return r=e.sent,e.next=5,Promise.all(r.map(function(){var e=k(regeneratorRuntime.mark(function e(r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t+"/"+r,e.next=3,a._stat(n);case 3:if(!e.sent.isDirectory()){e.next=7;break}e.t0=a.readdirDeep(n),e.next=8;break;case 7:e.t0=n;case 8:return e.abrupt("return",e.t0);case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 5:return n=e.sent,e.abrupt("return",n.reduce(function(e,t){return e.concat(t)},[]));case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"lstat",value:function(){var e=k(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._lstat(t);case 3:return r=e.sent,e.abrupt("return",r);case 7:if(e.prev=7,e.t0=e.catch(0),"ENOENT"!==e.t0.code){e.next=11;break}return e.abrupt("return",null);case 11:throw e.t0;case 12:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()},{key:"readlink",value:function(){var e=k(regeneratorRuntime.mark(function e(t){var r,n=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{encoding:"buffer"},e.prev=1,e.abrupt("return",this._readlink(t,r));case 5:if(e.prev=5,e.t0=e.catch(1),"ENOENT"!==e.t0.code){e.next=9;break}return e.abrupt("return",null);case 9:throw e.t0;case 10:case"end":return e.stop()}},e,this,[[1,5]])}));return function(t){return e.apply(this,arguments)}}()},{key:"writelink",value:function(){var e=k(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._symlink(r.toString("utf8"),t));case 1:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}()}]),t}();function jr(e){return Pr.apply(this,arguments)}function Pr(){return(Pr=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.fs,n=t.gitdir,a=t.object,i=t.format,s=t.oid,"deflated"===i){e.next=3;break}throw new W("GitObjectStoreLoose expects objects to write to be in deflated format");case 3:return u="objects/".concat(s.slice(0,2),"/").concat(s.slice(2)),c="".concat(n,"/").concat(u),e.next=7,r.exists(c);case 7:if(e.sent){e.next=10;break}return e.next=10,r.write(c,a);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Ar=null;function Or(e){return Ir.apply(this,arguments)}function Ir(){return(Ir=k(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return null===Ar&&(Ar=Nr()),e.abrupt("return",Ar?Br(t):a.default.deflate(t));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Br(e){return Cr.apply(this,arguments)}function Cr(){return(Cr=k(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=new CompressionStream("deflate"),n=new Blob([t]).stream().pipeThrough(r),e.t0=Uint8Array,e.next=5,new Response(n).arrayBuffer();case 5:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Nr(){try{if(new CompressionStream("deflate"))return!0}catch(e){}return!1}function Dr(e){return Ur.apply(this,arguments)}function Ur(){return(Ur=k(regeneratorRuntime.mark(function t(r){var n,a,i,s,u,c,o,f,p,l;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.fs,a=r.gitdir,i=r.type,s=r.object,u=r.format,c=void 0===u?"content":u,o=r.oid,f=void 0===o?void 0:o,p=r.dryRun,l=void 0!==p&&p,"deflated"===c){t.next=11;break}return"wrapped"!==c&&(s=ct.wrap({type:i,object:s})),t.next=5,Q(s);case 5:return f=t.sent,t.t0=e,t.next=9,Or(s);case 9:t.t1=t.sent,s=t.t0.from.call(t.t0,t.t1);case 11:if(l){t.next=14;break}return t.next=14,jr({fs:n,gitdir:a,object:s,format:"deflated",oid:f});case 14:return t.abrupt("return",f);case 15:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Tr(e,t){if(void 0===t)throw new Xt(e)}function Mr(e){return Fr.apply(this,arguments)}function Fr(){return(Fr=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.dir,a=t.gitdir,i=void 0===a?Ce(n,".git"):a,s=t.filepath,e.prev=1,Tr("fs",r),Tr("dir",n),Tr("gitdir",i),Tr("filepath",s),u=new Sr(r),c={},e.next=10,ge.acquire({fs:u,gitdir:i,cache:c},function(){var e=k(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hr({dir:n,gitdir:i,fs:u,filepath:s,index:t});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 10:e.next=16;break;case 12:throw e.prev=12,e.t0=e.catch(1),e.t0.caller="git.add",e.t0;case 16:case"end":return e.stop()}},e,null,[[1,12]])}))).apply(this,arguments)}function Hr(e){return zr.apply(this,arguments)}function zr(){return(zr=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o,f,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dir,n=t.gitdir,a=t.fs,i=t.filepath,s=t.index,e.next=3,Er.isIgnored({fs:a,dir:r,gitdir:n,filepath:i});case 3:if(!e.sent){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,a.lstat(Ce(r,i));case 8:if(u=e.sent){e.next=11;break}throw new _e(i);case 11:if(!u.isDirectory()){e.next=20;break}return e.next=14,a.readdir(Ce(r,i));case 14:return c=e.sent,o=c.map(function(e){return Hr({dir:r,gitdir:n,fs:a,filepath:Ce(i,e),index:s})}),e.next=18,Promise.all(o);case 18:e.next=36;break;case 20:if(!u.isSymbolicLink()){e.next=26;break}return e.next=23,a.readlink(Ce(r,i));case 23:e.t0=e.sent,e.next=29;break;case 26:return e.next=28,a.read(Ce(r,i));case 28:e.t0=e.sent;case 29:if(null!==(f=e.t0)){e.next=32;break}throw new _e(i);case 32:return e.next=34,Dr({fs:a,gitdir:n,type:"blob",object:f});case 34:p=e.sent,s.insert({filepath:i,stats:u,oid:p});case 36:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Gr(e){return Wr.apply(this,arguments)}function Wr(){return(Wr=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o,f,p,l,d,h,m,g;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.fs,n=t.cache,a=t.onSign,i=t.gitdir,s=t.message,u=t.author,c=t.committer,o=t.signingKey,f=t.dryRun,p=void 0!==f&&f,l=t.noUpdateBranch,d=void 0!==l&&l,h=t.ref,m=t.parent,g=t.tree,h){e.next=5;break}return e.next=4,et.resolve({fs:r,gitdir:i,ref:"HEAD",depth:2});case 4:h=e.sent;case 5:return e.abrupt("return",ge.acquire({fs:r,gitdir:i,cache:n},function(){var e=k(regeneratorRuntime.mark(function e(t){var n,f,l,v;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=be(t.entries),f=n.get("."),g){e.next=6;break}return e.next=5,qr({fs:r,gitdir:i,inode:f,dryRun:p});case 5:g=e.sent;case 6:if(m){e.next=17;break}return e.prev=7,e.next=10,et.resolve({fs:r,gitdir:i,ref:h});case 10:e.t0=e.sent,m=[e.t0],e.next=17;break;case 14:e.prev=14,e.t1=e.catch(7),m=[];case 17:if(l=xr.from({tree:g,parent:m,author:u,committer:c,message:s}),!o){e.next=22;break}return e.next=21,xr.sign(l,a,o);case 21:l=e.sent;case 22:return e.next=24,Dr({fs:r,gitdir:i,type:"commit",object:l.toObject(),dryRun:p});case 24:if(v=e.sent,d||p){e.next=28;break}return e.next=28,et.writeRef({fs:r,gitdir:i,ref:h,value:v});case 28:return e.abrupt("return",v);case 29:case"end":return e.stop()}},e,null,[[7,14]])}));return function(t){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function qr(e){return Kr.apply(this,arguments)}function Kr(){return(Kr=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o,f,p,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t.fs,n=t.gitdir,a=t.inode,i=t.dryRun,s=a.children,u=w(s),e.prev=3,u.s();case 5:if((c=u.n()).done){e.next=14;break}if("tree"!==(o=c.value).type){e.next=12;break}return o.metadata.mode="040000",e.next=11,qr({fs:r,gitdir:n,inode:o,dryRun:i});case 11:o.metadata.oid=e.sent;case 12:e.next=5;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(3),u.e(e.t0);case 19:return e.prev=19,u.f(),e.finish(19);case 22:return f=s.map(function(e){return{mode:e.metadata.mode,path:e.basename,oid:e.metadata.oid,type:e.type}}),p=ut.from(f),e.next=26,Dr({fs:r,gitdir:n,type:"tree",object:p.toObject(),dryRun:i});case 26:return l=e.sent,e.abrupt("return",l);case 28:case"end":return e.stop()}},e,null,[[3,16,19,22]])}))).apply(this,arguments)}function $r(e){return Lr.apply(this,arguments)}function Lr(){return(Lr=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.fs,n=t.cache,a=t.gitdir,i=t.oid,!(s=t.filepath).startsWith("/")){e.next=5;break}throw new Lt("leading-slash");case 5:if(!s.endsWith("/")){e.next=7;break}throw new Lt("trailing-slash");case 7:return u=i,e.next=10,br({fs:r,cache:n,gitdir:a,oid:i});case 10:if(c=e.sent,o=c.tree,""!==s){e.next=16;break}i=c.oid,e.next=20;break;case 16:return f=s.split("/"),e.next=19,Vr({fs:r,cache:n,gitdir:a,tree:o,pathArray:f,oid:u,filepath:s});case 19:i=e.sent;case 20:return e.abrupt("return",i);case 21:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Vr(e){return Zr.apply(this,arguments)}function Zr(){return(Zr=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o,f,p,l,d,h,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t.fs,n=t.cache,a=t.gitdir,i=t.tree,s=t.pathArray,u=t.oid,c=t.filepath,o=s.shift(),f=w(i),e.prev=3,f.s();case 5:if((p=f.n()).done){e.next=23;break}if((l=p.value).path!==o){e.next=21;break}if(0!==s.length){e.next=12;break}return e.abrupt("return",l.oid);case 12:return e.next=14,Tt({fs:r,cache:n,gitdir:a,oid:l.oid});case 14:if(d=e.sent,h=d.type,m=d.object,"tree"===h){e.next=19;break}throw new Ee(u,h,"blob",c);case 19:return i=ut.from(m),e.abrupt("return",Vr({fs:r,cache:n,gitdir:a,tree:i,pathArray:s,oid:u,filepath:c}));case 21:e.next=5;break;case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(3),f.e(e.t0);case 28:return e.prev=28,f.f(),e.finish(28);case 31:throw new _e('file or directory found at "'.concat(u,":").concat(c,'"'));case 32:case"end":return e.stop()}},e,null,[[3,25,28,31]])}))).apply(this,arguments)}function Yr(e){return Jr.apply(this,arguments)}function Jr(){return(Jr=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o,f,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.fs,n=t.cache,a=t.gitdir,i=t.oid,s=t.filepath,void 0===(u=void 0===s?void 0:s)){e.next=5;break}return e.next=4,$r({fs:r,cache:n,gitdir:a,oid:i,filepath:u});case 4:i=e.sent;case 5:return e.next=7,br({fs:r,cache:n,gitdir:a,oid:i});case 7:return c=e.sent,o=c.tree,f=c.oid,p={oid:f,tree:o.entries()},e.abrupt("return",p);case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Xr(e){return Qr.apply(this,arguments)}function Qr(){return(Qr=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.gitdir,a=t.tree,i=ut.from(a).toObject(),e.next=4,Dr({fs:r,gitdir:n,type:"tree",object:i,format:"content"});case 4:return s=e.sent,e.abrupt("return",s);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function en(e){return tn.apply(this,arguments)}function tn(){return(tn=k(regeneratorRuntime.mark(function t(r){var n,a,i,s,u,c,o,f,p,l,d,h,m,g,v,x,b,k,y;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.fs,a=r.cache,i=r.onSign,s=r.gitdir,u=r.ref,c=r.oid,o=r.note,f=r.force,p=r.author,l=r.committer,d=r.signingKey,t.prev=1,t.next=4,et.resolve({gitdir:s,fs:n,ref:u});case 4:h=t.sent,t.next=11;break;case 7:if(t.prev=7,t.t0=t.catch(1),t.t0 instanceof _e){t.next=11;break}throw t.t0;case 11:return t.next=13,Yr({fs:n,cache:a,gitdir:s,oid:h||"4b825dc642cb6eb9a060e54bf8d69288fbee4904"});case 13:if(m=t.sent,g=m.tree,!f){t.next=19;break}g=g.filter(function(e){return e.path!==c}),t.next=36;break;case 19:v=w(g),t.prev=20,v.s();case 22:if((x=v.n()).done){t.next=28;break}if(x.value.path!==c){t.next=26;break}throw new Ft("note",c);case 26:t.next=22;break;case 28:t.next=33;break;case 30:t.prev=30,t.t1=t.catch(20),v.e(t.t1);case 33:return t.prev=33,v.f(),t.finish(33);case 36:return"string"==typeof o&&(o=e.from(o,"utf8")),t.next=39,Dr({fs:n,gitdir:s,type:"blob",object:o,format:"content"});case 39:return b=t.sent,g.push({mode:"100644",path:c,oid:b,type:"blob"}),t.next=43,Xr({fs:n,gitdir:s,tree:g});case 43:return k=t.sent,t.next=46,Gr({fs:n,cache:a,onSign:i,gitdir:s,ref:u,tree:k,parent:h&&[h],message:"Note added by 'isomorphic-git addNote'\n",author:p,committer:l,signingKey:d});case 46:return y=t.sent,t.abrupt("return",y);case 48:case"end":return t.stop()}},t,null,[[1,7],[20,30,33,36]])}))).apply(this,arguments)}function rn(e){return nn.apply(this,arguments)}function nn(){return(nn=k(regeneratorRuntime.mark(function e(t){var r,n,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.gitdir,a=t.path,e.next=3,Je.get({fs:r,gitdir:n});case 3:return i=e.sent,e.abrupt("return",i.get(a));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function an(e){return sn.apply(this,arguments)}function sn(){return(sn=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.fs,n=t.gitdir,a=t.author,s=(i=void 0===a?{}:a).name,u=i.email,c=i.timestamp,o=i.timezoneOffset,e.t0=s,e.t0){e.next=7;break}return e.next=6,rn({fs:r,gitdir:n,path:"user.name"});case 6:e.t0=e.sent;case 7:if(s=e.t0,e.t2=u,e.t2){e.next=13;break}return e.next=12,rn({fs:r,gitdir:n,path:"user.email"});case 12:e.t2=e.sent;case 13:if(e.t1=e.t2,e.t1){e.next=16;break}e.t1="";case 16:if(u=e.t1,void 0!==s){e.next=19;break}return e.abrupt("return",void 0);case 19:return c=null!=c?c:Math.floor(Date.now()/1e3),o=null!=o?o:new Date(1e3*c).getTimezoneOffset(),e.abrupt("return",{name:s,email:u,timestamp:c,timezoneOffset:o});case 22:case"end":return e.stop()}},e)}))).apply(this,arguments)}function un(e){return cn.apply(this,arguments)}function cn(){return(cn=k(regeneratorRuntime.mark(function e(t){var r,n,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.gitdir,a=t.author,i=t.committer,i=Object.assign({},i||a),a&&(i.timestamp=i.timestamp||a.timestamp,i.timezoneOffset=i.timezoneOffset||a.timezoneOffset),e.next=5,an({fs:r,gitdir:n,author:i});case 5:return i=e.sent,e.abrupt("return",i);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function on(e){return fn.apply(this,arguments)}function fn(){return(fn=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o,f,p,l,d,h,m,g,v,x;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.onSign,a=t.dir,i=t.gitdir,s=void 0===i?Ce(a,".git"):i,u=t.ref,c=void 0===u?"refs/notes/commits":u,o=t.oid,f=t.note,p=t.force,l=t.author,d=t.committer,h=t.signingKey,e.prev=1,Tr("fs",r),Tr("gitdir",s),Tr("oid",o),Tr("note",f),h&&Tr("onSign",n),m=new Sr(r),g={},e.next=11,an({fs:m,gitdir:s,author:l});case 11:if(v=e.sent){e.next=14;break}throw new Jt("author");case 14:return e.next=16,un({fs:m,gitdir:s,author:v,committer:d});case 16:if(x=e.sent){e.next=19;break}throw new Jt("committer");case 19:return e.next=21,en({fs:new Sr(m),cache:g,onSign:n,gitdir:s,ref:c,oid:o,note:f,force:p,author:v,committer:x,signingKey:h});case 21:return e.abrupt("return",e.sent);case 24:throw e.prev=24,e.t0=e.catch(1),e.t0.caller="git.addNote",e.t0;case 28:case"end":return e.stop()}},e,null,[[1,24]])}))).apply(this,arguments)}function pn(e){return ln.apply(this,arguments)}function ln(){return(ln=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.fs,n=t.gitdir,a=t.remote,i=t.url,s=t.force,a===u.default.clean(a)){e.next=3;break}throw new Vt(a,u.default.clean(a));case 3:return e.next=5,Je.get({fs:r,gitdir:n});case 5:if(c=e.sent,s){e.next=17;break}return e.next=9,c.getSubsections("remote");case 9:if(!e.sent.includes(a)){e.next=17;break}return e.t0=i,e.next=14,c.get("remote.".concat(a,".url"));case 14:if(e.t1=e.sent,e.t0===e.t1){e.next=17;break}throw new Ft("remote",a);case 17:return e.next=19,c.set("remote.".concat(a,".url"),i);case 19:return e.next=21,c.set("remote.".concat(a,".fetch"),"+refs/heads/*:refs/remotes/".concat(a,"/*"));case 21:return e.next=23,Je.save({fs:r,gitdir:n,config:c});case 23:case"end":return e.stop()}},e)}))).apply(this,arguments)}function dn(e){return hn.apply(this,arguments)}function hn(){return(hn=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.dir,a=t.gitdir,i=void 0===a?Ce(n,".git"):a,s=t.remote,u=t.url,c=t.force,o=void 0!==c&&c,e.prev=1,Tr("fs",r),Tr("gitdir",i),Tr("remote",s),Tr("url",u),e.next=8,pn({fs:new Sr(r),gitdir:i,remote:s,url:u,force:o});case 8:return e.abrupt("return",e.sent);case 11:throw e.prev=11,e.t0=e.catch(1),e.t0.caller="git.addRemote",e.t0;case 15:case"end":return e.stop()}},e,null,[[1,11]])}))).apply(this,arguments)}function mn(e){return gn.apply(this,arguments)}function gn(){return(gn=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o,f,p,l,d,h,m,g,v,x,b;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.fs,n=t.cache,a=t.onSign,i=t.gitdir,s=t.ref,u=t.tagger,c=t.message,o=void 0===c?s:c,f=t.gpgsig,p=t.object,l=t.signingKey,d=t.force,h=void 0!==d&&d,s=s.startsWith("refs/tags/")?s:"refs/tags/".concat(s),e.t0=!h,!e.t0){e.next=7;break}return e.next=6,et.exists({fs:r,gitdir:i,ref:s});case 6:e.t0=e.sent;case 7:if(!e.t0){e.next=9;break}throw new Ft("tag",s);case 9:return e.next=11,et.resolve({fs:r,gitdir:i,ref:p||"HEAD"});case 11:return m=e.sent,e.next=14,Tt({fs:r,cache:n,gitdir:i,oid:m});case 14:if(g=e.sent,v=g.type,x=mr.from({object:m,type:v,tag:s.replace("refs/tags/",""),tagger:u,message:o,gpgsig:f}),!l){e.next=21;break}return e.next=20,mr.sign(x,a,l);case 20:x=e.sent;case 21:return e.next=23,Dr({fs:r,gitdir:i,type:"tag",object:x.toObject()});case 23:return b=e.sent,e.next=26,et.writeRef({fs:r,gitdir:i,ref:s,value:b});case 26:case"end":return e.stop()}},e)}))).apply(this,arguments)}function vn(e){return xn.apply(this,arguments)}function xn(){return(xn=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o,f,p,l,d,h,m,g,v;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.onSign,a=t.dir,i=t.gitdir,s=void 0===i?Ce(a,".git"):i,u=t.ref,c=t.tagger,o=t.message,f=void 0===o?u:o,p=t.gpgsig,l=t.object,d=t.signingKey,h=t.force,m=void 0!==h&&h,e.prev=1,Tr("fs",r),Tr("gitdir",s),Tr("ref",u),d&&Tr("onSign",n),g=new Sr(r),e.next=9,an({fs:g,gitdir:s,author:c});case 9:if(v=e.sent){e.next=12;break}throw new Jt("tagger");case 12:return e.next=14,mn({fs:g,cache:{},onSign:n,gitdir:s,ref:u,tagger:v,message:f,gpgsig:p,object:l,signingKey:d,force:m});case 14:return e.abrupt("return",e.sent);case 17:throw e.prev=17,e.t0=e.catch(1),e.t0.caller="git.annotatedTag",e.t0;case 21:case"end":return e.stop()}},e,null,[[1,17]])}))).apply(this,arguments)}function bn(e){return kn.apply(this,arguments)}function kn(){return(kn=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,c,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.fs,n=t.gitdir,a=t.ref,i=t.checkout,s=void 0!==i&&i,a===u.default.clean(a)){e.next=3;break}throw new Vt(a,u.default.clean(a));case 3:return c="refs/heads/".concat(a),e.next=6,et.exists({fs:r,gitdir:n,ref:c});case 6:if(!e.sent){e.next=9;break}throw new Ft("branch",a,!1);case 9:return e.prev=9,e.next=12,et.resolve({fs:r,gitdir:n,ref:"HEAD"});case 12:o=e.sent,e.next=17;break;case 15:e.prev=15,e.t0=e.catch(9);case 17:if(!o){e.next=20;break}return e.next=20,et.writeRef({fs:r,gitdir:n,ref:c,value:o});case 20:if(!s){e.next=23;break}return e.next=23,et.writeSymbolicRef({fs:r,gitdir:n,ref:"HEAD",value:c});case 23:case"end":return e.stop()}},e,null,[[9,15]])}))).apply(this,arguments)}function wn(e){return yn.apply(this,arguments)}function yn(){return(yn=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.dir,a=t.gitdir,i=void 0===a?Ce(n,".git"):a,s=t.ref,u=t.checkout,c=void 0!==u&&u,e.prev=1,Tr("fs",r),Tr("gitdir",i),Tr("ref",s),e.next=7,bn({fs:new Sr(r),gitdir:i,ref:s,checkout:c});case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(1),e.t0.caller="git.branch",e.t0;case 14:case"end":return e.stop()}},e,null,[[1,10]])}))).apply(this,arguments)}function Rn(e,t){var r=t-e;return Array.from({length:r},function(t,r){return e+r})}var _n=void 0===Array.prototype.flat?function(e){return e.reduce(function(e,t){return e.concat(t)},[])}:function(e){return e.flat()},En=function(){function e(){A(this,e),this.value=null}return I(e,[{key:"consider",value:function(e){null!=e&&(null===this.value?this.value=e:e<this.value&&(this.value=e))}},{key:"reset",value:function(){this.value=null}}]),e}();function Sn(e){var t,r,n,a,i,s,u;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:for(t=new En,n=[],a=e.length,i=0;i<a;i++)n[i]=e[i].next().value,void 0!==n[i]&&t.consider(n[i]);if(null!==t.value){c.next=6;break}return c.abrupt("return");case 6:for(s=[],r=t.value,t.reset(),u=0;u<a;u++)void 0!==n[u]&&n[u]===r?(s[u]=n[u],n[u]=e[u].next().value):s[u]=null,void 0!==n[u]&&t.consider(n[u]);return c.next=13,s;case 13:if(null!==t.value){c.next=15;break}return c.abrupt("return");case 15:c.next=6;break;case 17:case"end":return c.stop()}},d)}function jn(e){return Pn.apply(this,arguments)}function Pn(){return(Pn=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o,f,p,l,d,h,g,v,x;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.cache,a=t.dir,i=t.gitdir,s=t.trees,u=t.map,c=void 0===u?function(){var e=k(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r);case 1:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}():u,o=t.reduce,f=void 0===o?function(){var e=k(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=_n(r),void 0!==t&&n.unshift(t),e.abrupt("return",n);case 3:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}():o,p=t.iterate,l=void 0===p?function(e,t){return Promise.all(m(t).map(e))}:p,d=s.map(function(e){return e[ye]({fs:r,dir:a,gitdir:i,cache:n})}),h=new Array(d.length).fill("."),g=Rn(0,d.length),v=function(){var e=k(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return g.map(function(e){t[e]=t[e]&&new d[e].ConstructEntry(t[e])}),e.next=3,Promise.all(g.map(function(e){return t[e]?d[e].readdir(t[e]):[]}));case 3:return r=e.sent,n=r.map(function(e){return null===e?[]:e}).map(function(e){return e[Symbol.iterator]()}),e.abrupt("return",{entries:t,children:Sn(n)});case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t);case 2:return r=e.sent,n=r.entries,a=r.children,i=n.find(function(e){return e&&e._fullpath})._fullpath,e.next=8,c(i,n);case 8:if(null===(s=e.sent)){e.next=15;break}return e.next=12,l(x,a);case 12:return u=(u=e.sent).filter(function(e){return void 0!==e}),e.abrupt("return",f(s,u));case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),e.abrupt("return",x(h));case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}var An=function(e,t){return"."===e||null==t||0===t.length||"."===t||(t.length>=e.length?t.startsWith(e):e.startsWith(t))};function On(e){return In.apply(this,arguments)}function In(){return(In=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o,f,p,l,d,h,m,g,v,x,b,R,_,E;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.cache,a=t.onProgress,i=t.dir,s=t.gitdir,u=t.remote,c=t.ref,o=t.filepaths,f=t.noCheckout,p=t.noUpdateHead,l=t.dryRun,d=t.force,e.prev=1,e.next=4,et.resolve({fs:r,gitdir:s,ref:c});case 4:h=e.sent,e.next=26;break;case 7:if(e.prev=7,e.t0=e.catch(1),"HEAD"!==c){e.next=11;break}throw e.t0;case 11:return m="".concat(u,"/").concat(c),e.next=14,et.resolve({fs:r,gitdir:s,ref:m});case 14:return h=e.sent,e.next=17,Je.get({fs:r,gitdir:s});case 17:return g=e.sent,e.next=20,g.set("branch.".concat(c,".remote"),u);case 20:return e.next=22,g.set("branch.".concat(c,".merge"),"refs/heads/".concat(c));case 22:return e.next=24,Je.save({fs:r,gitdir:s,config:g});case 24:return e.next=26,et.writeRef({fs:r,gitdir:s,ref:"refs/heads/".concat(c),value:h});case 26:if(f){e.next=58;break}return e.prev=27,e.next=30,Bn({fs:r,cache:n,onProgress:a,dir:i,gitdir:s,ref:c,force:d,filepaths:o});case 30:v=e.sent,e.next=40;break;case 33:if(e.prev=33,e.t1=e.catch(27),!(e.t1 instanceof _e&&e.t1.data.what===h)){e.next=39;break}throw new Gt(c,h);case 39:throw e.t1;case 40:if(!((x=v.filter(function(e){return"conflict"===y(e,1)[0]}).map(function(e){var t=y(e,2);t[0];return t[1]})).length>0)){e.next=43;break}throw new zt(x);case 43:if(!((b=v.filter(function(e){return"error"===y(e,1)[0]}).map(function(e){var t=y(e,2);t[0];return t[1]})).length>0)){e.next=46;break}throw new W(b.join(", "));case 46:if(!l){e.next=48;break}return e.abrupt("return");case 48:return R=0,_=v.length,e.next=52,ge.acquire({fs:r,gitdir:s,cache:n},function(){var e=k(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(v.filter(function(e){var t=y(e,1)[0];return"delete"===t||"delete-index"===t}).map(function(){var e=k(regeneratorRuntime.mark(function e(n){var s,u,c,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=y(n,2),u=s[0],c=s[1],o="".concat(i,"/").concat(c),"delete"!==u){e.next=5;break}return e.next=5,r.rm(o);case 5:if(t.delete({filepath:c}),!a){e.next=9;break}return e.next=9,a({phase:"Updating workdir",loaded:++R,total:_});case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 52:return e.next=54,ge.acquire({fs:r,gitdir:s,cache:n},function(){var e=k(regeneratorRuntime.mark(function e(t){var n,s,u,c,o,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=w(v),e.prev=1,n.s();case 3:if((s=n.n()).done){e.next=25;break}if(u=y(s.value,2),c=u[0],o=u[1],"rmdir"!==c&&"rmdir-index"!==c){e.next=23;break}return f="".concat(i,"/").concat(o),e.prev=7,"rmdir-index"===c&&t.delete({filepath:o}),e.next=11,r.rmdir(f);case 11:if(!a){e.next=14;break}return e.next=14,a({phase:"Updating workdir",loaded:++R,total:_});case 14:e.next=23;break;case 16:if(e.prev=16,e.t0=e.catch(7),"ENOTEMPTY"!==e.t0.code){e.next=22;break}console.log("Did not delete ".concat(o," because directory is not empty")),e.next=23;break;case 22:throw e.t0;case 23:e.next=3;break;case 25:e.next=30;break;case 27:e.prev=27,e.t1=e.catch(1),n.e(e.t1);case 30:return e.prev=30,n.f(),e.finish(30);case 33:case"end":return e.stop()}},e,null,[[1,27,30,33],[7,16]])}));return function(t){return e.apply(this,arguments)}}());case 54:return e.next=56,Promise.all(v.filter(function(e){var t=y(e,1)[0];return"mkdir"===t||"mkdir-index"===t}).map(function(){var e=k(regeneratorRuntime.mark(function e(t){var n,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=y(t,2),n[0],s=n[1],u="".concat(i,"/").concat(s),e.next=4,r.mkdir(u);case 4:if(!a){e.next=7;break}return e.next=7,a({phase:"Updating workdir",loaded:++R,total:_});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 56:return e.next=58,ge.acquire({fs:r,gitdir:s,cache:n},function(){var e=k(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(v.filter(function(e){var t=y(e,1)[0];return"create"===t||"create-index"===t||"update"===t||"mkdir-index"===t}).map(function(){var e=k(regeneratorRuntime.mark(function e(u){var c,o,f,p,l,d,h,m,g,v;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c=y(u,5),o=c[0],f=c[1],p=c[2],l=c[3],d=c[4],h="".concat(i,"/").concat(f),e.prev=2,"create-index"===o||"mkdir-index"===o){e.next=27;break}return e.next=6,Tt({fs:r,cache:n,gitdir:s,oid:p});case 6:if(m=e.sent,g=m.object,!d){e.next=11;break}return e.next=11,r.rm(h);case 11:if(33188!==l){e.next=16;break}return e.next=14,r.write(h,g);case 14:e.next=27;break;case 16:if(33261!==l){e.next=21;break}return e.next=19,r.write(h,g,{mode:511});case 19:e.next=27;break;case 21:if(40960!==l){e.next=26;break}return e.next=24,r.writelink(h,g);case 24:e.next=27;break;case 26:throw new W("Invalid mode 0o".concat(l.toString(8)," detected in blob ").concat(p));case 27:return e.next=29,r.lstat(h);case 29:if(v=e.sent,33261===l&&(v.mode=493),"mkdir-index"===o&&(v.mode=57344),t.insert({filepath:f,stats:v,oid:p}),!a){e.next=36;break}return e.next=36,a({phase:"Updating workdir",loaded:++R,total:_});case 36:e.next=41;break;case 38:e.prev=38,e.t0=e.catch(2),console.log(e.t0);case 41:case"end":return e.stop()}},e,null,[[2,38]])}));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 58:if(p){e.next=69;break}return e.next=61,et.expand({fs:r,gitdir:s,ref:c});case 61:if(!(E=e.sent).startsWith("refs/heads")){e.next=67;break}return e.next=65,et.writeSymbolicRef({fs:r,gitdir:s,ref:"HEAD",value:E});case 65:e.next=69;break;case 67:return e.next=69,et.writeRef({fs:r,gitdir:s,ref:"HEAD",value:h});case 69:case"end":return e.stop()}},e,null,[[1,7],[27,33]])}))).apply(this,arguments)}function Bn(e){return Cn.apply(this,arguments)}function Cn(){return(Cn=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.cache,a=t.onProgress,i=t.dir,s=t.gitdir,u=t.ref,c=t.force,o=t.filepaths,f=0,e.abrupt("return",jn({fs:r,cache:n,dir:i,gitdir:s,trees:[yr({ref:u}),_r(),Re()],map:function(){var e=k(regeneratorRuntime.mark(function e(t,r){var n,i,s,u,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=y(r,3),i=n[0],s=n[1],u=n[2],"."!==t){e.next=3;break}return e.abrupt("return");case 3:if(!o||o.some(function(e){return An(t,e)})){e.next=5;break}return e.abrupt("return",null);case 5:if(!a){e.next=8;break}return e.next=8,a({phase:"Analyzing workdir",loaded:++f});case 8:p=[!!u,!!i,!!s].map(Number).join(""),e.t0=p,e.next="000"===e.t0?12:"001"===e.t0?13:"010"===e.t0?16:"011"===e.t0?44:"100"===e.t0?117:"101"===e.t0?118:"110"===e.t0?146:"111"===e.t0?146:289;break;case 12:return e.abrupt("return");case 13:if(!(c&&o&&o.includes(t))){e.next=15;break}return e.abrupt("return",["delete",t]);case 15:return e.abrupt("return");case 16:return e.next=18,i.type();case 18:e.t1=e.sent,e.next="tree"===e.t1?21:"blob"===e.t1?22:"commit"===e.t1?30:38;break;case 21:return e.abrupt("return",["mkdir",t]);case 22:return e.t2=t,e.next=25,i.oid();case 25:return e.t3=e.sent,e.next=28,i.mode();case 28:return e.t4=e.sent,e.abrupt("return",["create",e.t2,e.t3,e.t4]);case 30:return e.t5=t,e.next=33,i.oid();case 33:return e.t6=e.sent,e.next=36,i.mode();case 36:return e.t7=e.sent,e.abrupt("return",["mkdir-index",e.t5,e.t6,e.t7]);case 38:return e.t8="new entry Unhandled type ",e.next=41,i.type();case 41:return e.t9=e.sent,e.t10=e.t8.concat.call(e.t8,e.t9),e.abrupt("return",["error",e.t10]);case 44:return e.t13="",e.next=47,i.type();case 47:return e.t14=e.sent,e.t12=e.t13.concat.call(e.t13,e.t14,"-"),e.next=51,s.type();case 51:e.t15=e.sent,e.t11=e.t12.concat.call(e.t12,e.t15),e.next="tree-tree"===e.t11?55:"tree-blob"===e.t11?56:"blob-tree"===e.t11?56:"blob-blob"===e.t11?57:"commit-tree"===e.t11?114:"commit-blob"===e.t11?115:116;break;case 55:return e.abrupt("return");case 56:return e.abrupt("return",["conflict",t]);case 57:return e.next=59,i.oid();case 59:return e.t16=e.sent,e.next=62,s.oid();case 62:if(e.t17=e.sent,e.t16===e.t17){e.next=85;break}if(!c){e.next=82;break}return e.t18=t,e.next=68,i.oid();case 68:return e.t19=e.sent,e.next=71,i.mode();case 71:return e.t20=e.sent,e.next=74,i.mode();case 74:return e.t21=e.sent,e.next=77,s.mode();case 77:return e.t22=e.sent,e.t23=e.t21!==e.t22,e.abrupt("return",["update",e.t18,e.t19,e.t20,e.t23]);case 82:return e.abrupt("return",["conflict",t]);case 83:e.next=114;break;case 85:return e.next=87,i.mode();case 87:return e.t24=e.sent,e.next=90,s.mode();case 90:if(e.t25=e.sent,e.t24===e.t25){e.next=106;break}if(!c){e.next=103;break}return e.t26=t,e.next=96,i.oid();case 96:return e.t27=e.sent,e.next=99,i.mode();case 99:return e.t28=e.sent,e.abrupt("return",["update",e.t26,e.t27,e.t28,!0]);case 103:return e.abrupt("return",["conflict",t]);case 104:e.next=114;break;case 106:return e.t29=t,e.next=109,i.oid();case 109:return e.t30=e.sent,e.next=112,i.mode();case 112:return e.t31=e.sent,e.abrupt("return",["create-index",e.t29,e.t30,e.t31]);case 114:return e.abrupt("return");case 115:return e.abrupt("return",["conflict",t]);case 116:return e.abrupt("return",["error","new entry Unhandled type ".concat(i.type)]);case 117:return e.abrupt("return",["delete-index",t]);case 118:return e.next=120,u.type();case 120:e.t32=e.sent,e.next="tree"===e.t32?123:"blob"===e.t32?124:"commit"===e.t32?139:140;break;case 123:return e.abrupt("return",["rmdir",t]);case 124:return e.next=126,u.oid();case 126:return e.t33=e.sent,e.next=129,s.oid();case 129:if(e.t34=e.sent,e.t33===e.t34){e.next=138;break}if(!c){e.next=135;break}return e.abrupt("return",["delete",t]);case 135:return e.abrupt("return",["conflict",t]);case 136:e.next=139;break;case 138:return e.abrupt("return",["delete",t]);case 139:return e.abrupt("return",["rmdir-index",t]);case 140:return e.t35="delete entry Unhandled type ",e.next=143,u.type();case 143:return e.t36=e.sent,e.t37=e.t35.concat.call(e.t35,e.t36),e.abrupt("return",["error",e.t37]);case 146:return e.t40="",e.next=149,u.type();case 149:return e.t41=e.sent,e.t39=e.t40.concat.call(e.t40,e.t41,"-"),e.next=153,i.type();case 153:e.t42=e.sent,e.t38=e.t39.concat.call(e.t39,e.t42),e.next="tree-tree"===e.t38?157:"blob-blob"===e.t38?158:"tree-blob"===e.t38?265:"blob-tree"===e.t38?270:"commit-commit"===e.t38?271:279;break;case 157:return e.abrupt("return");case 158:return e.next=160,u.oid();case 160:return e.t45=e.sent,e.next=163,i.oid();case 163:if(e.t46=e.sent,e.t44=e.t45===e.t46,!e.t44){e.next=173;break}return e.next=168,u.mode();case 168:return e.t47=e.sent,e.next=171,i.mode();case 171:e.t48=e.sent,e.t44=e.t47===e.t48;case 173:if(e.t43=e.t44,!e.t43){e.next=176;break}e.t43=!c;case 176:if(!e.t43){e.next=178;break}return e.abrupt("return");case 178:if(!s){e.next=216;break}return e.next=181,s.oid();case 181:return e.t50=e.sent,e.next=184,u.oid();case 184:if(e.t51=e.sent,e.t49=e.t50!==e.t51,!e.t49){e.next=194;break}return e.next=189,s.oid();case 189:return e.t52=e.sent,e.next=192,i.oid();case 192:e.t53=e.sent,e.t49=e.t52!==e.t53;case 194:if(!e.t49){e.next=214;break}if(!c){e.next=213;break}return e.t54=t,e.next=199,i.oid();case 199:return e.t55=e.sent,e.next=202,i.mode();case 202:return e.t56=e.sent,e.next=205,i.mode();case 205:return e.t57=e.sent,e.next=208,s.mode();case 208:return e.t58=e.sent,e.t59=e.t57!==e.t58,e.abrupt("return",["update",e.t54,e.t55,e.t56,e.t59]);case 213:return e.abrupt("return",["conflict",t]);case 214:e.next=232;break;case 216:if(!c){e.next=232;break}return e.t60=t,e.next=220,i.oid();case 220:return e.t61=e.sent,e.next=223,i.mode();case 223:return e.t62=e.sent,e.next=226,i.mode();case 226:return e.t63=e.sent,e.next=229,u.mode();case 229:return e.t64=e.sent,e.t65=e.t63!==e.t64,e.abrupt("return",["update",e.t60,e.t61,e.t62,e.t65]);case 232:return e.next=234,i.mode();case 234:return e.t66=e.sent,e.next=237,u.mode();case 237:if(e.t67=e.sent,e.t66===e.t67){e.next=247;break}return e.t68=t,e.next=242,i.oid();case 242:return e.t69=e.sent,e.next=245,i.mode();case 245:return e.t70=e.sent,e.abrupt("return",["update",e.t68,e.t69,e.t70,!0]);case 247:return e.next=249,i.oid();case 249:return e.t71=e.sent,e.next=252,u.oid();case 252:if(e.t72=e.sent,e.t71===e.t72){e.next=264;break}return e.t73=t,e.next=257,i.oid();case 257:return e.t74=e.sent,e.next=260,i.mode();case 260:return e.t75=e.sent,e.abrupt("return",["update",e.t73,e.t74,e.t75,!1]);case 264:return e.abrupt("return");case 265:return e.t76=t,e.next=268,i.oid();case 268:return e.t77=e.sent,e.abrupt("return",["update-dir-to-blob",e.t76,e.t77]);case 270:return e.abrupt("return",["update-blob-to-tree",t]);case 271:return e.t78=t,e.next=274,i.oid();case 274:return e.t79=e.sent,e.next=277,i.mode();case 277:return e.t80=e.sent,e.abrupt("return",["mkdir-index",e.t78,e.t79,e.t80]);case 279:return e.t82="update entry Unhandled type ",e.next=282,u.type();case 282:return e.t83=e.sent,e.t81=e.t82.concat.call(e.t82,e.t83,"-"),e.next=286,i.type();case 286:return e.t84=e.sent,e.t85=e.t81.concat.call(e.t81,e.t84),e.abrupt("return",["error",e.t85]);case 289:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}(),reduce:function(){var e=k(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=_n(r),t){e.next=5;break}return e.abrupt("return",r);case 5:if(!t||"rmdir"!==t[0]){e.next=10;break}return r.push(t),e.abrupt("return",r);case 10:return r.unshift(t),e.abrupt("return",r);case 12:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}()}));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Nn(e){return Dn.apply(this,arguments)}function Dn(){return(Dn=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o,f,p,l,d,h,m,g,v,x,b;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.onProgress,a=t.dir,i=t.gitdir,s=void 0===i?Ce(a,".git"):i,u=t.remote,c=void 0===u?"origin":u,o=t.ref,f=t.filepaths,p=t.noCheckout,l=void 0!==p&&p,d=t.noUpdateHead,h=void 0===d?void 0===o:d,m=t.dryRun,g=void 0!==m&&m,v=t.force,x=void 0!==v&&v,e.prev=1,Tr("fs",r),Tr("dir",a),Tr("gitdir",s),b=o||"HEAD",e.next=8,On({fs:new Sr(r),cache:{},onProgress:n,dir:a,gitdir:s,remote:c,ref:b,filepaths:f,noCheckout:l,noUpdateHead:h,dryRun:g,force:x});case 8:return e.abrupt("return",e.sent);case 11:throw e.prev=11,e.t0=e.catch(1),e.t0.caller="git.checkout",e.t0;case 15:case"end":return e.stop()}},e,null,[[1,11]])}))).apply(this,arguments)}var Un=new RegExp("^refs/(heads/|tags/|remotes/)?(.*)");function Tn(e){var t=Un.exec(e);return t?"remotes/"===t[1]&&e.endsWith("/HEAD")?t[2].slice(0,-5):t[2]:e}function Mn(e){return Fn.apply(this,arguments)}function Fn(){return(Fn=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.gitdir,a=t.fullname,i=void 0!==a&&a,s=t.test,u=void 0!==s&&s,e.next=3,et.resolve({fs:r,gitdir:n,ref:"HEAD",depth:2});case 3:if(c=e.sent,!u){e.next=13;break}return e.prev=5,e.next=8,et.resolve({fs:r,gitdir:n,ref:c});case 8:e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(5),e.abrupt("return");case 13:if(c.startsWith("refs/")){e.next=15;break}return e.abrupt("return");case 15:return e.abrupt("return",i?c:Tn(c));case 16:case"end":return e.stop()}},e,null,[[5,10]])}))).apply(this,arguments)}function Hn(e){return e=(e=e.replace(/^git@([^:]+):/,"https://$1/")).replace(/^ssh:\/\//,"https://")}function zn(t){var r=t.username,n=void 0===r?"":r,a=t.password,i=void 0===a?"":a;return"Basic ".concat(e.from("".concat(n,":").concat(i)).toString("base64"))}function Gn(e,t){return Wn.apply(this,arguments)}function Wn(){return(Wn=k(regeneratorRuntime.mark(function e(t,r){var n,a,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=gt(t);case 1:return e.next=4,n.next();case 4:if(a=e.sent,i=a.value,s=a.done,!i){e.next=10;break}return e.next=10,r(i);case 10:if(!s){e.next=12;break}return e.abrupt("break",14);case 12:e.next=1;break;case 14:n.return&&n.return();case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}function qn(e){return Kn.apply(this,arguments)}function Kn(){return(Kn=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=0,n=[],e.next=4,Gn(t,function(e){n.push(e),r+=e.byteLength});case 4:for(a=new Uint8Array(r),i=0,s=0,u=n;s<u.length;s++)c=u[s],a.set(c,i),i+=c.byteLength;return e.abrupt("return",a);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function $n(e){var t=e.match(/^https?:\/\/([^/]+)@/);if(null==t)return{url:e,auth:{}};var r=y((t=t[1]).split(":"),2),n=r[0],a=r[1];return{url:e=e.replace("".concat(t,"@"),""),auth:{username:n,password:a}}}function Ln(e,t){var r=t.toString(16);return"0".repeat(e-r.length)+r}var Vn=function(){function t(){A(this,t)}return I(t,null,[{key:"flush",value:function(){return e.from("0000","utf8")}},{key:"delim",value:function(){return e.from("0001","utf8")}},{key:"encode",value:function(t){"string"==typeof t&&(t=e.from(t));var r=Ln(4,t.length+4);return e.concat([e.from(r,"utf8"),t])}},{key:"streamReader",value:function(e){var t=new vt(e);return function(){var e=k(regeneratorRuntime.mark(function e(){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.read(4);case 3:if(null!=(r=e.sent)){e.next=6;break}return e.abrupt("return",!0);case 6:if(0!==(r=parseInt(r.toString("utf8"),16))){e.next=9;break}return e.abrupt("return",null);case 9:if(1!==r){e.next=11;break}return e.abrupt("return",null);case 11:return e.next=13,t.read(r-4);case 13:if(null!=(n=e.sent)){e.next=16;break}return e.abrupt("return",!0);case 16:return e.abrupt("return",n);case 19:return e.prev=19,e.t0=e.catch(0),console.log("error",e.t0),e.abrupt("return",!0);case 23:case"end":return e.stop()}},e,null,[[0,19]])}));return function(){return e.apply(this,arguments)}}()}}]),t}();function Zn(e){return Yn.apply(this,arguments)}function Yn(){return(Yn=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r={};case 1:return e.next=4,t();case 4:if(!0!==(n=e.sent)){e.next=7;break}return e.abrupt("break",14);case 7:if(null!==n){e.next=9;break}return e.abrupt("continue",1);case 9:n=n.toString("utf8").replace(/\n$/,""),(a=n.indexOf("="))>-1?(i=n.slice(0,a),s=n.slice(a+1),r[i]=s):r[n]=!0,e.next=1;break;case 14:return e.abrupt("return",{protocolVersion:2,capabilities2:r});case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Jn(e,t){return Xn.apply(this,arguments)}function Xn(){return(Xn=k(regeneratorRuntime.mark(function e(t,r){var n,a,i,s,u,c,o,f,p,l,d,h,m,g,v,x,b,k,R,_,E,S,j;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.service,a=new Set,i=new Map,s=new Map,u=Vn.streamReader(t),e.next=7,u();case 7:c=e.sent;case 8:if(null!==c){e.next=14;break}return e.next=11,u();case 11:c=e.sent,e.next=8;break;case 14:if(!0!==c){e.next=16;break}throw new Wt;case 16:if(c.toString("utf8").replace(/\n$/,"")==="# service=".concat(n)){e.next=18;break}throw new Qt("# service=".concat(n,"\\n"),c.toString("utf8"));case 18:return e.next=20,u();case 20:o=e.sent;case 21:if(null!==o){e.next=27;break}return e.next=24,u();case 24:o=e.sent,e.next=21;break;case 27:if(!0!==o){e.next=29;break}return e.abrupt("return",{capabilities:a,refs:i,symrefs:s});case 29:if(!(o=o.toString("utf8")).includes("version 2")){e.next=32;break}return e.abrupt("return",Zn(u));case 32:f=Qn(o,"\0","\\x00"),p=y(f,2),l=p[0],p[1].split(" ").map(function(e){return a.add(e)}),d=Qn(l," "," "),h=y(d,2),m=h[0],g=h[1],i.set(g,m);case 36:return e.next=39,u();case 39:if(!0!==(v=e.sent)){e.next=42;break}return e.abrupt("break",45);case 42:null!==v&&(x=Qn(v.toString("utf8")," "," "),b=y(x,2),k=b[0],R=b[1],i.set(R,k)),e.next=36;break;case 45:_=w(a);try{for(_.s();!(E=_.n()).done;)(S=E.value).startsWith("symref=")&&3===(j=S.match(/symref=([^:]+):(.*)/)).length&&s.set(j[1],j[2])}catch(P){_.e(P)}finally{_.f()}return e.abrupt("return",{protocolVersion:1,capabilities:a,refs:i,symrefs:s});case 48:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Qn(e,t,r){var n=e.trim().split(t);if(2!==n.length)throw new Qt("Two strings separated by '".concat(r,"'"),e.toString("utf8"));return n}var ea=function(e,t){return e.endsWith("?")?"".concat(e).concat(t):"".concat(e,"/").concat(t.replace(/^https?:\/\//,""))},ta=function(e,t){(t.username||t.password)&&(e.Authorization=zn(t)),t.headers&&Object.assign(e,t.headers)},ra=function(){var t=k(regeneratorRuntime.mark(function t(r){var n,a,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.t0=e,t.next=4,qn(r.body);case 4:return t.t1=t.sent,n=t.t0.from.call(t.t0,t.t1),a=n.toString("utf8"),i=a.length<256?a:a.slice(0,256)+"...",t.abrupt("return",{preview:i,response:a,data:n});case 11:return t.prev=11,t.t2=t.catch(0),t.abrupt("return",{});case 14:case"end":return t.stop()}},t,null,[[0,11]])}));return function(e){return t.apply(this,arguments)}}(),na=function(){function e(){A(this,e)}return I(e,null,[{key:"capabilities",value:function(){var e=k(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["discover","connect"]);case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"discover",value:function(){var e=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o,f,p,d,h,m,g,v,x,b,k,w,y,R,_,E,S,j,P;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t.http,n=t.onProgress,a=t.onAuth,i=t.onAuthSuccess,s=t.onAuthFailure,u=t.corsProxy,c=t.service,o=t.url,f=t.headers,p=t.protocolVersion,d=$n(o),h=d.url,m=d.auth,g=u?ea(u,h):h,(m.username||m.password)&&(f.Authorization=zn(m)),2===p&&(f["Git-Protocol"]="version=2"),b=!1;case 6:return e.next=8,r.request({onProgress:n,method:"GET",url:"".concat(g,"/info/refs?service=").concat(c),headers:f});case 8:if(v=e.sent,x=!1,401!==v.statusCode&&203!==v.statusCode){e.next=23;break}if(!(k=b?s:a)){e.next=21;break}return e.next=15,k(h,l(l({},m),{},{headers:l({},f)}));case 15:if(!(m=e.sent)||!m.cancel){e.next=20;break}throw new ir;case 20:m&&(ta(f,m),b=!0,x=!0);case 21:e.next=26;break;case 23:if(200!==v.statusCode||!b||!i){e.next=26;break}return e.next=26,i(h,m);case 26:if(x){e.next=6;break}case 27:if(200===v.statusCode){e.next=33;break}return e.next=30,ra(v);case 30:throw w=e.sent,y=w.response,new $t(v.statusCode,v.statusMessage,y);case 33:if(v.headers["content-type"]!=="application/x-".concat(c,"-advertisement")){e.next=41;break}return e.next=36,Jn(v.body,{service:c});case 36:return(R=e.sent).auth=m,e.abrupt("return",R);case 41:return e.next=43,ra(v);case 43:return _=e.sent,E=_.preview,S=_.response,j=_.data,e.prev=47,e.next=50,Jn([j],{service:c});case 50:return(P=e.sent).auth=m,e.abrupt("return",P);case 55:throw e.prev=55,e.t0=e.catch(47),new rr(E,S);case 58:case"end":return e.stop()}},e,null,[[47,55]])}));return function(t){return e.apply(this,arguments)}}()},{key:"connect",value:function(){var e=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o,f,p,l,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.http,n=t.onProgress,a=t.corsProxy,i=t.service,s=t.url,u=t.auth,c=t.body,o=t.headers,(f=$n(s))&&(s=f.url),a&&(s=ea(a,s)),o["content-type"]="application/x-".concat(i,"-request"),o.accept="application/x-".concat(i,"-result"),ta(o,u),e.next=9,r.request({onProgress:n,method:"POST",url:"".concat(s,"/").concat(i),body:c,headers:o});case 9:if(200===(p=e.sent).statusCode){e.next=13;break}throw l=ra(p),d=l.response,new $t(p.statusCode,p.statusMessage,d);case 13:return e.abrupt("return",p);case 14:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}]),e}();function aa(e){var t=e.url;if(t.startsWith("git@"))return{transport:"ssh",address:t};var r=t.match(/(\w+)(:\/\/|::)(.*)/);return null!==r?"://"===r[2]?{transport:r[1],address:r[0]}:"::"===r[2]?{transport:r[1],address:r[3]}:void 0:void 0}var ia=function(){function e(){A(this,e)}return I(e,null,[{key:"getRemoteHelperFor",value:function(e){var t=e.url,r=new Map;r.set("http",na),r.set("https",na);var n=aa({url:t});if(!n)throw new ar(t);if(r.has(n.transport))return r.get(n.transport);throw new nr(t,n.transport,"ssh"===n.transport?Hn(t):void 0)}}]),e}(),sa=null,ua=function(){function e(){A(this,e)}return I(e,null,[{key:"read",value:function(){var e=k(regeneratorRuntime.mark(function e(r){var n,a,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.fs,a=r.gitdir,null===sa&&(sa=new t.default),i=Ce(a,"shallow"),s=new Set,e.next=6,sa.acquire(i,k(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.read(i,{encoding:"utf8"});case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",s);case 5:if(""!==t.trim()){e.next=7;break}return e.abrupt("return",s);case 7:t.trim().split("\n").map(function(e){return s.add(e)});case 8:case"end":return e.stop()}},e)})));case 6:return e.abrupt("return",s);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"write",value:function(){var e=k(regeneratorRuntime.mark(function e(r){var n,a,i,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.fs,a=r.gitdir,i=r.oids,null===sa&&(sa=new t.default),s=Ce(a,"shallow"),!(i.size>0)){e.next=9;break}return u=m(i).join("\n")+"\n",e.next=7,sa.acquire(s,k(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.write(s,u,{encoding:"utf8"});case 2:case"end":return e.stop()}},e)})));case 7:e.next=11;break;case 9:return e.next=11,sa.acquire(s,k(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.rm(s);case 2:case"end":return e.stop()}},e)})));case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}]),e}();function ca(e){return oa.apply(this,arguments)}function oa(){return(oa=k(regeneratorRuntime.mark(function e(t){var r,n,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.gitdir,a=t.oid,i="objects/".concat(a.slice(0,2),"/").concat(a.slice(2)),e.abrupt("return",r.exists("".concat(n,"/").concat(i)));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function fa(e){return pa.apply(this,arguments)}function pa(){return(pa=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o,f,p,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.cache,a=t.gitdir,i=t.oid,s=t.getExternalRefDelta,e.next=3,r.readdir(Ce(a,"objects/pack"));case 3:u=(u=e.sent).filter(function(e){return e.endsWith(".idx")}),c=w(u),e.prev=6,c.s();case 8:if((o=c.n()).done){e.next=20;break}return f=o.value,p="".concat(a,"/objects/pack/").concat(f),e.next=13,Nt({fs:r,cache:n,filename:p,getExternalRefDelta:s});case 13:if(!(l=e.sent).error){e.next=16;break}throw new W(l.error);case 16:if(!l.offsets.has(i)){e.next=18;break}return e.abrupt("return",!0);case 18:e.next=8;break;case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(6),c.e(e.t0);case 25:return e.prev=25,c.f(),e.finish(25);case 28:return e.abrupt("return",!1);case 29:case"end":return e.stop()}},e,null,[[6,22,25,28]])}))).apply(this,arguments)}function la(e){return da.apply(this,arguments)}function da(){return(da=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.cache,a=t.gitdir,i=t.oid,s=t.format,void 0===s?"content":s,u=function(e){return Tt({fs:r,cache:n,gitdir:a,oid:e})},e.next=4,ca({fs:r,gitdir:a,oid:i});case 4:if(c=e.sent){e.next=9;break}return e.next=8,fa({fs:r,cache:n,gitdir:a,oid:i,getExternalRefDelta:u});case 8:c=e.sent;case 9:return e.abrupt("return",c);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ha(e){return"5041434b0000000200000000"===e.slice(0,12).toString("hex")}function ma(e,t){var r=e.map(function(e){return e.split("=",1)[0]});return t.filter(function(e){var t=e.split("=",1)[0];return r.includes(t)})}var ga={name:"isomorphic-git",version:"1.7.8",agent:"git/isomorphic-git@1.7.8"},va=function(){function e(){A(this,e),this._queue=[]}return I(e,[{key:"write",value:function(e){if(this._ended)throw Error("You cannot write to a FIFO that has already been ended!");if(this._waiting){var t=this._waiting;this._waiting=null,t({value:e})}else this._queue.push(e)}},{key:"end",value:function(){if(this._ended=!0,this._waiting){var e=this._waiting;this._waiting=null,e({done:!0})}}},{key:"destroy",value:function(e){this._ended=!0,this.error=e}},{key:"next",value:function(){var e=k(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this._queue.length>0)){e.next=2;break}return e.abrupt("return",{value:this._queue.shift()});case 2:if(!this._ended){e.next=4;break}return e.abrupt("return",{done:!0});case 4:if(!this._waiting){e.next=6;break}throw Error("You cannot call read until the previous call to read has returned!");case 6:return e.abrupt("return",new Promise(function(e){t._waiting=e}));case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}();function xa(e){var t=e.indexOf("\r"),r=e.indexOf("\n");return-1===t&&-1===r?-1:-1===t?r+1:-1===r?t+1:r===t+1?r+1:Math.min(t,r)+1}function ba(e){var t=new va,r="";return k(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Gn(e,function(e){for(e=e.toString("utf8"),r+=e;;){var n=xa(r);if(-1===n)break;t.write(r.slice(0,n)),r=r.slice(n)}});case 2:r.length>0&&t.write(r),t.end();case 4:case"end":return n.stop()}},n)}))(),t}var ka=function(){function e(){A(this,e)}return I(e,null,[{key:"demux",value:function(e){var t=Vn.streamReader(e),r=new va,n=new va,a=new va,i=function(){var e=k(regeneratorRuntime.mark(function e(){var s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:if(null!==(s=e.sent)){e.next=5;break}return e.abrupt("return",i());case 5:if(!0!==s){e.next=10;break}return r.end(),a.end(),n.end(),e.abrupt("return");case 10:e.t0=s[0],e.next=1===e.t0?13:2===e.t0?15:3===e.t0?17:21;break;case 13:return n.write(s.slice(1)),e.abrupt("break",22);case 15:return a.write(s.slice(1)),e.abrupt("break",22);case 17:return u=s.slice(1),a.write(u),n.destroy(new Error(u.toString("utf8"))),e.abrupt("return");case 21:r.write(s.slice(0));case 22:i();case 23:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return i(),{packetlines:r,packfile:n,progress:a}}}]),e}();function wa(e){return ya.apply(this,arguments)}function ya(){return(ya=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=ka.demux(t),n=r.packetlines,a=r.packfile,i=r.progress,s=[],u=[],c=[],o=!1,f=!1,e.abrupt("return",new Promise(function(e,t){Gn(n,function(r){var n=r.toString("utf8").trim();if(n.startsWith("shallow")){var p=n.slice(-41).trim();40!==p.length&&t(new Se(p)),s.push(p)}else if(n.startsWith("unshallow")){var l=n.slice(-41).trim();40!==l.length&&t(new Se(l)),u.push(l)}else if(n.startsWith("ACK")){var d=y(n.split(" "),3),h=d[1],m=d[2];c.push({oid:h,status:m}),m||(f=!0)}else n.startsWith("NAK")&&(o=!0,f=!0);f&&e({shallows:s,unshallows:u,acks:c,nak:o,packfile:a,progress:i})})}));case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ra(e){var t=e.capabilities,r=void 0===t?[]:t,n=e.wants,a=void 0===n?[]:n,i=e.haves,s=void 0===i?[]:i,u=e.shallows,c=void 0===u?[]:u,o=e.depth,f=void 0===o?null:o,p=e.since,l=void 0===p?null:p,d=e.exclude,h=void 0===d?[]:d,g=[];a=m(new Set(a));var v,x=" ".concat(r.join(" ")),b=w(a);try{for(b.s();!(v=b.n()).done;){var k=v.value;g.push(Vn.encode("want ".concat(k).concat(x,"\n"))),x=""}}catch(I){b.e(I)}finally{b.f()}var y,R=w(c);try{for(R.s();!(y=R.n()).done;){var _=y.value;g.push(Vn.encode("shallow ".concat(_,"\n")))}}catch(I){R.e(I)}finally{R.f()}null!==f&&g.push(Vn.encode("deepen ".concat(f,"\n"))),null!==l&&g.push(Vn.encode("deepen-since ".concat(Math.floor(l.valueOf()/1e3),"\n")));var E,S=w(h);try{for(S.s();!(E=S.n()).done;){var j=E.value;g.push(Vn.encode("deepen-not ".concat(j,"\n")))}}catch(I){S.e(I)}finally{S.f()}g.push(Vn.flush());var P,A=w(s);try{for(A.s();!(P=A.n()).done;){var O=P.value;g.push(Vn.encode("have ".concat(O,"\n")))}}catch(I){A.e(I)}finally{A.f()}return g.push(Vn.encode("done\n")),g}function _a(e){return Ea.apply(this,arguments)}function Ea(){return(Ea=k(regeneratorRuntime.mark(function t(r){var n,a,i,s,u,c,o,f,p,l,d,h,g,v,x,b,R,_,E,S,j,P,A,O,I,B,C,N,D,U,T,M,F,H,z,G,W,q,K,$,L,V,Z,Y,J,X,Q,ee,te,re,ne,ae,ie,se,ue,ce,oe,fe,pe,le,de,he,me,ge,ve,xe,be,ke,we,ye,Re,_e,Ee,Se,je,Pe,Ae,Oe,Ie,Be,Ne,De,Ue,Te,Me,Fe,He,ze,Ge,We,qe,Ke,$e,Le,Ve;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.fs,a=r.cache,i=r.http,s=r.onProgress,u=r.onMessage,c=r.onAuth,o=r.onAuthSuccess,f=r.onAuthFailure,p=r.gitdir,l=r.ref,d=r.remoteRef,h=r.remote,g=r.url,v=r.corsProxy,x=r.depth,b=void 0===x?null:x,R=r.since,_=void 0===R?null:R,E=r.exclude,S=void 0===E?[]:E,j=r.relative,P=void 0!==j&&j,A=r.tags,O=void 0!==A&&A,I=r.singleBranch,B=void 0!==I&&I,C=r.headers,N=void 0===C?{}:C,D=r.prune,U=void 0!==D&&D,T=r.pruneTags,M=void 0!==T&&T,t.t0=l,t.t0){t.next=6;break}return t.next=5,Mn({fs:n,gitdir:p,test:!0});case 5:t.t0=t.sent;case 6:return F=t.t0,t.next=9,Je.get({fs:n,gitdir:p});case 9:if(H=t.sent,t.t2=h,t.t2){t.next=18;break}if(t.t3=F,!t.t3){t.next=17;break}return t.next=16,H.get("branch.".concat(F,".remote"));case 16:t.t3=t.sent;case 17:t.t2=t.t3;case 18:if(t.t1=t.t2,t.t1){t.next=21;break}t.t1="origin";case 21:if(z=t.t1,t.t4=g,t.t4){t.next=27;break}return t.next=26,H.get("remote.".concat(z,".url"));case 26:t.t4=t.sent;case 27:if(void 0!==(G=t.t4)){t.next=30;break}throw new Xt("remote OR url");case 30:if(t.t7=d,t.t7){t.next=38;break}if(t.t8=F,!t.t8){t.next=37;break}return t.next=36,H.get("branch.".concat(F,".merge"));case 36:t.t8=t.sent;case 37:t.t7=t.t8;case 38:if(t.t6=t.t7,t.t6){t.next=41;break}t.t6=l;case 41:if(t.t5=t.t6,t.t5){t.next=44;break}t.t5="HEAD";case 44:if(W=t.t5,void 0!==v){t.next=49;break}return t.next=48,H.get("http.corsProxy");case 48:v=t.sent;case 49:return q=ia.getRemoteHelperFor({url:G}),t.next=52,q.discover({http:i,onAuth:c,onAuthSuccess:o,onAuthFailure:f,corsProxy:v,service:"git-upload-pack",url:G,headers:N,protocolVersion:1});case 52:if(K=t.sent,$=K.auth,0!==(L=K.refs).size){t.next=57;break}return t.abrupt("return",{defaultBranch:null,fetchHead:null,fetchHeadDescription:null});case 57:if(null===b||K.capabilities.has("shallow")){t.next=59;break}throw new tr("shallow","depth");case 59:if(null===_||K.capabilities.has("deepen-since")){t.next=61;break}throw new tr("deepen-since","since");case 61:if(!(S.length>0)||K.capabilities.has("deepen-not")){t.next=63;break}throw new tr("deepen-not","exclude");case 63:if(!0!==P||K.capabilities.has("deepen-relative")){t.next=65;break}throw new tr("deepen-relative","relative");case 65:V=et.resolveAgainstMap({ref:W,map:L}),Z=V.oid,Y=V.fullref,J=w(L.keys()),t.prev=67,J.s();case 69:if((X=J.n()).done){t.next=76;break}if(!((Q=X.value)===Y||"HEAD"===Q||Q.startsWith("refs/heads/")||O&&Q.startsWith("refs/tags/"))){t.next=73;break}return t.abrupt("continue",74);case 73:L.delete(Q);case 74:t.next=69;break;case 76:t.next=81;break;case 78:t.prev=78,t.t9=t.catch(67),J.e(t.t9);case 81:return t.prev=81,J.f(),t.finish(81);case 84:if(ee=ma(m(K.capabilities),["multi_ack_detailed","no-done","side-band-64k","ofs-delta","agent=".concat(ga.agent)]),P&&ee.push("deepen-relative"),te=B?[Z]:L.values(),!B){t.next=91;break}t.t10=[F],t.next=94;break;case 91:return t.next=93,et.listRefs({fs:n,gitdir:p,filepath:"refs"});case 93:t.t10=t.sent;case 94:re=t.t10,ne=[],ae=w(re),t.prev=97,ae.s();case 99:if((ie=ae.n()).done){t.next=118;break}return se=ie.value,t.prev=101,t.next=104,et.expand({fs:n,gitdir:p,ref:se});case 104:return se=t.sent,t.next=107,et.resolve({fs:n,gitdir:p,ref:se});case 107:return ue=t.sent,t.next=110,la({fs:n,cache:a,gitdir:p,oid:ue});case 110:if(!t.sent){t.next=112;break}ne.push(ue);case 112:t.next=116;break;case 114:t.prev=114,t.t11=t.catch(101);case 116:t.next=99;break;case 118:t.next=123;break;case 120:t.prev=120,t.t12=t.catch(97),ae.e(t.t12);case 123:return t.prev=123,ae.f(),t.finish(123);case 126:return ne=m(new Set(ne)),t.next=129,ua.read({fs:n,gitdir:p});case 129:return ce=t.sent,oe=K.capabilities.has("shallow")?m(ce):[],fe=Ra({capabilities:ee,wants:te,haves:ne,shallows:oe,depth:b,since:_,exclude:S}),t.t13=e,t.next=135,qn(fe);case 135:return t.t14=t.sent,pe=t.t13.from.call(t.t13,t.t14),t.next=139,q.connect({http:i,onProgress:s,corsProxy:v,service:"git-upload-pack",url:G,auth:$,body:[pe],headers:N});case 139:return le=t.sent,t.next=142,wa(le.body);case 142:de=t.sent,le.headers&&(de.headers=le.headers),he=w(de.shallows),t.prev=145,he.s();case 147:if((me=he.n()).done){t.next=168;break}if(ge=me.value,ce.has(ge)){t.next=166;break}return t.prev=150,t.next=153,Tt({fs:n,cache:a,gitdir:p,oid:ge});case 153:return ve=t.sent,xe=ve.object,be=new xr(xe),t.next=158,Promise.all(be.headers().parent.map(function(e){return la({fs:n,cache:a,gitdir:p,oid:e})}));case 158:ke=t.sent,0===ke.length||ke.every(function(e){return e})||ce.add(ge),t.next=166;break;case 163:t.prev=163,t.t15=t.catch(150),ce.add(ge);case 166:t.next=147;break;case 168:t.next=173;break;case 170:t.prev=170,t.t16=t.catch(145),he.e(t.t16);case 173:return t.prev=173,he.f(),t.finish(173);case 176:we=w(de.unshallows);try{for(we.s();!(ye=we.n()).done;)Re=ye.value,ce.delete(Re)}catch(Ze){we.e(Ze)}finally{we.f()}return t.next=180,ua.write({fs:n,gitdir:p,oids:ce});case 180:if(!B){t.next=202;break}_e=new Map([[Y,Z]]),Ee=new Map,Se=10,je=Y;case 185:if(!Se--){t.next=193;break}if(void 0!==(Pe=K.symrefs.get(je))){t.next=189;break}return t.abrupt("break",193);case 189:Ee.set(je,Pe),je=Pe,t.next=185;break;case 193:return(Ae=L.get(je))&&_e.set(je,Ae),t.next=197,et.updateRemoteRefs({fs:n,gitdir:p,remote:z,refs:_e,symrefs:Ee,tags:O,prune:U});case 197:Oe=t.sent,Ie=Oe.pruned,U&&(de.pruned=Ie),t.next=207;break;case 202:return t.next=204,et.updateRemoteRefs({fs:n,gitdir:p,remote:z,refs:L,symrefs:K.symrefs,tags:O,prune:U,pruneTags:M});case 204:Be=t.sent,Ne=Be.pruned,U&&(de.pruned=Ne);case 207:if(de.HEAD=K.symrefs.get("HEAD"),void 0!==de.HEAD){t.next=228;break}De=et.resolveAgainstMap({ref:"HEAD",map:L}),Ue=De.oid,Te=w(L.entries()),t.prev=211,Te.s();case 213:if((Me=Te.n()).done){t.next=220;break}if(Fe=y(Me.value,2),He=Fe[0],ze=Fe[1],"HEAD"===He||ze!==Ue){t.next=218;break}return de.HEAD=He,t.abrupt("break",220);case 218:t.next=213;break;case 220:t.next=225;break;case 222:t.prev=222,t.t17=t.catch(211),Te.e(t.t17);case 225:return t.prev=225,Te.f(),t.finish(225);case 228:return Ge=Y.startsWith("refs/tags")?"tag":"branch",de.FETCH_HEAD={oid:Z,description:"".concat(Ge," '").concat(Tn(Y),"' of ").concat(G)},(s||u)&&Gn(ba(de.progress),function(){var e=k(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!u){e.next=3;break}return e.next=3,u(t);case 3:if(!s){e.next=8;break}if(!(r=t.match(/([^:]*).*\((\d+?)\/(\d+?)\)/))){e.next=8;break}return e.next=8,s({phase:r[1].trim(),loaded:parseInt(r[2],10),total:parseInt(r[3],10)});case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),t.t18=e,t.next=234,qn(de.packfile);case 234:if(t.t19=t.sent,We=t.t18.from.call(t.t18,t.t19),qe=We.slice(-20).toString("hex"),Ke={defaultBranch:de.HEAD,fetchHead:de.FETCH_HEAD.oid,fetchHeadDescription:de.FETCH_HEAD.description},de.headers&&(Ke.headers=de.headers),U&&(Ke.pruned=de.pruned),""===qe||ha(We)){t.next=256;break}return Ke.packfile="objects/pack/pack-".concat(qe,".pack"),$e=Ce(p,Ke.packfile),t.next=245,n.write($e,We);case 245:return Le=function(e){return Tt({fs:n,cache:a,gitdir:p,oid:e})},t.next=248,It.fromPack({pack:We,getExternalRefDelta:Le,onProgress:s});case 248:return Ve=t.sent,t.t20=n,t.t21=$e.replace(/\.pack$/,".idx"),t.next=253,Ve.toBuffer();case 253:return t.t22=t.sent,t.next=256,t.t20.write.call(t.t20,t.t21,t.t22);case 256:return t.abrupt("return",Ke);case 257:case"end":return t.stop()}},t,null,[[67,78,81,84],[97,120,123,126],[101,114],[145,170,173,176],[150,163],[211,222,225,228]])}))).apply(this,arguments)}function Sa(e){return ja.apply(this,arguments)}function ja(){return(ja=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o,f,p,l,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.bare,a=void 0!==n&&n,i=t.dir,s=t.gitdir,u=void 0===s?a?i:Ce(i,".git"):s,c=t.defaultBranch,o=void 0===c?"master":c,e.next=3,r.exists(u+"/config");case 3:if(!e.sent){e.next=5;break}return e.abrupt("return");case 5:f=(f=["hooks","info","objects/info","objects/pack","refs/heads","refs/tags"]).map(function(e){return u+"/"+e}),p=w(f),e.prev=8,p.s();case 10:if((l=p.n()).done){e.next=16;break}return d=l.value,e.next=14,r.mkdir(d);case 14:e.next=10;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(8),p.e(e.t0);case 21:return e.prev=21,p.f(),e.finish(21);case 24:return e.next=26,r.write(u+"/config","[core]\n\trepositoryformatversion = 0\n\tfilemode = false\n"+"\tbare = ".concat(a,"\n")+(a?"":"\tlogallrefupdates = true\n")+"\tsymlinks = false\n\tignorecase = true\n");case 26:return e.next=28,r.write(u+"/HEAD","ref: refs/heads/".concat(o,"\n"));case 28:case"end":return e.stop()}},e,null,[[8,18,21,24]])}))).apply(this,arguments)}function Pa(e){return Aa.apply(this,arguments)}function Aa(){return(Aa=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o,f,p,l,d,h,m,g,v,x,b,k,w,y,R,_,E,S;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.cache,a=t.http,i=t.onProgress,s=t.onMessage,u=t.onAuth,c=t.onAuthSuccess,o=t.onAuthFailure,f=t.dir,p=t.gitdir,l=t.url,d=t.corsProxy,h=t.ref,m=t.remote,g=t.depth,v=t.since,x=t.exclude,b=t.relative,k=t.singleBranch,w=t.noCheckout,y=t.noTags,R=t.headers,e.next=3,Sa({fs:r,gitdir:p});case 3:return e.next=5,pn({fs:r,gitdir:p,remote:m,url:l,force:!1});case 5:if(!d){e.next=13;break}return e.next=8,Je.get({fs:r,gitdir:p});case 8:return _=e.sent,e.next=11,_.set("http.corsProxy",d);case 11:return e.next=13,Je.save({fs:r,gitdir:p,config:_});case 13:return e.next=15,_a({fs:r,cache:n,http:a,onProgress:i,onMessage:s,onAuth:u,onAuthSuccess:c,onAuthFailure:o,gitdir:p,ref:h,remote:m,depth:g,since:v,exclude:x,relative:b,singleBranch:k,headers:R,tags:!y});case 15:if(E=e.sent,S=E.defaultBranch,null!==E.fetchHead){e.next=20;break}return e.abrupt("return");case 20:return h=(h=h||S).replace("refs/heads/",""),e.next=24,On({fs:r,cache:n,onProgress:i,dir:f,gitdir:p,ref:h,remote:m,noCheckout:w});case 24:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Oa(e){return Ia.apply(this,arguments)}function Ia(){return(Ia=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o,f,p,l,d,h,m,g,v,x,b,k,w,y,R,_,E,S,j,P,A,O,I,B,C,N;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.http,a=t.onProgress,i=t.onMessage,s=t.onAuth,u=t.onAuthSuccess,c=t.onAuthFailure,o=t.dir,f=t.gitdir,p=void 0===f?Ce(o,".git"):f,l=t.url,d=t.corsProxy,h=void 0===d?void 0:d,m=t.ref,g=void 0===m?void 0:m,v=t.remote,x=void 0===v?"origin":v,b=t.depth,k=void 0===b?void 0:b,w=t.since,y=void 0===w?void 0:w,R=t.exclude,_=void 0===R?[]:R,E=t.relative,S=void 0!==E&&E,j=t.singleBranch,P=void 0!==j&&j,A=t.noCheckout,O=void 0!==A&&A,I=t.noTags,B=void 0!==I&&I,C=t.headers,N=void 0===C?{}:C,e.prev=1,Tr("fs",r),Tr("http",n),Tr("gitdir",p),O||Tr("dir",o),Tr("url",l),e.next=9,Pa({fs:new Sr(r),cache:{},http:n,onProgress:a,onMessage:i,onAuth:s,onAuthSuccess:u,onAuthFailure:c,dir:o,gitdir:p,url:l,corsProxy:h,ref:g,remote:x,depth:k,since:y,exclude:_,relative:S,singleBranch:P,noCheckout:O,noTags:B,headers:N});case 9:return e.abrupt("return",e.sent);case 12:throw e.prev=12,e.t0=e.catch(1),e.t0.caller="git.clone",e.t0;case 16:case"end":return e.stop()}},e,null,[[1,12]])}))).apply(this,arguments)}function Ba(e){return Ca.apply(this,arguments)}function Ca(){return(Ca=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o,f,p,l,d,h,m,g,v,x,b,k,w;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.onSign,a=t.dir,i=t.gitdir,s=void 0===i?Ce(a,".git"):i,u=t.message,c=t.author,o=t.committer,f=t.signingKey,p=t.dryRun,l=void 0!==p&&p,d=t.noUpdateBranch,h=void 0!==d&&d,m=t.ref,g=t.parent,v=t.tree,e.prev=1,Tr("fs",r),Tr("message",u),f&&Tr("onSign",n),x=new Sr(r),b={},e.next=9,an({fs:x,gitdir:s,author:c});case 9:if(k=e.sent){e.next=12;break}throw new Jt("author");case 12:return e.next=14,un({fs:x,gitdir:s,author:k,committer:o});case 14:if(w=e.sent){e.next=17;break}throw new Jt("committer");case 17:return e.next=19,Gr({fs:x,cache:b,onSign:n,gitdir:s,message:u,author:k,committer:w,signingKey:f,dryRun:l,noUpdateBranch:h,ref:m,parent:g,tree:v});case 19:return e.abrupt("return",e.sent);case 22:throw e.prev=22,e.t0=e.catch(1),e.t0.caller="git.commit",e.t0;case 26:case"end":return e.stop()}},e,null,[[1,22]])}))).apply(this,arguments)}function Na(e){return Da.apply(this,arguments)}function Da(){return(Da=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.dir,a=t.gitdir,i=void 0===a?Ce(n,".git"):a,s=t.fullname,u=void 0!==s&&s,c=t.test,o=void 0!==c&&c,e.prev=1,Tr("fs",r),Tr("gitdir",i),e.next=6,Mn({fs:new Sr(r),gitdir:i,fullname:u,test:o});case 6:return e.abrupt("return",e.sent);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0.caller="git.currentBranch",e.t0;case 13:case"end":return e.stop()}},e,null,[[1,9]])}))).apply(this,arguments)}function Ua(e){return Ta.apply(this,arguments)}function Ta(){return(Ta=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.gitdir,a=t.ref,e.next=3,et.exists({fs:r,gitdir:n,ref:a});case 3:if(e.sent){e.next=6;break}throw new _e(a);case 6:return e.next=8,et.expand({fs:r,gitdir:n,ref:a});case 8:return i=e.sent,e.next=11,Mn({fs:r,gitdir:n,fullname:!0});case 11:if(s=e.sent,i!==s){e.next=18;break}return e.next=15,et.resolve({fs:r,gitdir:n,ref:i});case 15:return u=e.sent,e.next=18,et.writeRef({fs:r,gitdir:n,ref:"HEAD",value:u});case 18:return e.next=20,et.deleteRef({fs:r,gitdir:n,ref:i});case 20:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ma(e){return Fa.apply(this,arguments)}function Fa(){return(Fa=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.dir,a=t.gitdir,i=void 0===a?Ce(n,".git"):a,s=t.ref,e.prev=1,Tr("fs",r),Tr("ref",s),e.next=6,Ua({fs:new Sr(r),gitdir:i,ref:s});case 6:return e.abrupt("return",e.sent);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0.caller="git.deleteBranch",e.t0;case 13:case"end":return e.stop()}},e,null,[[1,9]])}))).apply(this,arguments)}function Ha(e){return za.apply(this,arguments)}function za(){return(za=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.dir,a=t.gitdir,i=void 0===a?Ce(n,".git"):a,s=t.ref,e.prev=1,Tr("fs",r),Tr("ref",s),e.next=6,et.deleteRef({fs:new Sr(r),gitdir:i,ref:s});case 6:e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(1),e.t0.caller="git.deleteRef",e.t0;case 12:case"end":return e.stop()}},e,null,[[1,8]])}))).apply(this,arguments)}function Ga(e){return Wa.apply(this,arguments)}function Wa(){return(Wa=k(regeneratorRuntime.mark(function e(t){var r,n,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.gitdir,a=t.remote,e.next=3,Je.get({fs:r,gitdir:n});case 3:return i=e.sent,e.next=6,i.deleteSection("remote",a);case 6:return e.next=8,Je.save({fs:r,gitdir:n,config:i});case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function qa(e){return Ka.apply(this,arguments)}function Ka(){return(Ka=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.dir,a=t.gitdir,i=void 0===a?Ce(n,".git"):a,s=t.remote,e.prev=1,Tr("fs",r),Tr("remote",s),e.next=6,Ga({fs:new Sr(r),gitdir:i,remote:s});case 6:return e.abrupt("return",e.sent);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0.caller="git.deleteRemote",e.t0;case 13:case"end":return e.stop()}},e,null,[[1,9]])}))).apply(this,arguments)}function $a(e){return La.apply(this,arguments)}function La(){return(La=k(regeneratorRuntime.mark(function e(t){var r,n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.gitdir,a=(a=t.ref).startsWith("refs/tags/")?a:"refs/tags/".concat(a),e.next=4,et.deleteRef({fs:r,gitdir:n,ref:a});case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Va(e){return Za.apply(this,arguments)}function Za(){return(Za=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.dir,a=t.gitdir,i=void 0===a?Ce(n,".git"):a,s=t.ref,e.prev=1,Tr("fs",r),Tr("ref",s),e.next=6,$a({fs:new Sr(r),gitdir:i,ref:s});case 6:return e.abrupt("return",e.sent);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0.caller="git.deleteTag",e.t0;case 13:case"end":return e.stop()}},e,null,[[1,9]])}))).apply(this,arguments)}function Ya(e){return Ja.apply(this,arguments)}function Ja(){return(Ja=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.gitdir,a=t.oid,i=a.slice(0,2),e.next=4,r.readdir("".concat(n,"/objects/").concat(i));case 4:return s=e.sent,e.abrupt("return",s.map(function(e){return"".concat(i).concat(e)}).filter(function(e){return e.startsWith(a)}));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Xa(e){return Qa.apply(this,arguments)}function Qa(){return(Qa=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o,f,p,l,d,h,m,g;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.cache,a=t.gitdir,i=t.oid,s=t.getExternalRefDelta,u=[],e.next=4,r.readdir(Ce(a,"objects/pack"));case 4:c=(c=e.sent).filter(function(e){return e.endsWith(".idx")}),o=w(c),e.prev=7,o.s();case 9:if((f=o.n()).done){e.next=21;break}return p=f.value,l="".concat(a,"/objects/pack/").concat(p),e.next=14,Nt({fs:r,cache:n,filename:l,getExternalRefDelta:s});case 14:if(!(d=e.sent).error){e.next=17;break}throw new W(d.error);case 17:h=w(d.offsets.keys());try{for(h.s();!(m=h.n()).done;)(g=m.value).startsWith(i)&&u.push(g)}catch(v){h.e(v)}finally{h.f()}case 19:e.next=9;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(7),o.e(e.t0);case 26:return e.prev=26,o.f(),e.finish(26);case 29:return e.abrupt("return",u);case 30:case"end":return e.stop()}},e,null,[[7,23,26,29]])}))).apply(this,arguments)}function ei(e){return ti.apply(this,arguments)}function ti(){return(ti=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.cache,a=t.gitdir,i=t.oid,s=function(e){return Tt({fs:r,cache:n,gitdir:a,oid:e})},e.next=4,Ya({fs:r,gitdir:a,oid:i});case 4:return u=e.sent,e.next=7,Xa({fs:r,cache:n,gitdir:a,oid:i,getExternalRefDelta:s});case 7:if(c=e.sent,1!==(o=u.concat(c)).length){e.next=11;break}return e.abrupt("return",o[0]);case 11:if(!(o.length>1)){e.next=13;break}throw new Ht("oids",i,o);case 13:throw new _e('an object matching "'.concat(i,'"'));case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ri(e){return ni.apply(this,arguments)}function ni(){return(ni=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.dir,a=t.gitdir,i=void 0===a?Ce(n,".git"):a,s=t.oid,e.prev=1,Tr("fs",r),Tr("gitdir",i),Tr("oid",s),e.next=7,ei({fs:new Sr(r),cache:{},gitdir:i,oid:s});case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(1),e.t0.caller="git.expandOid",e.t0;case 14:case"end":return e.stop()}},e,null,[[1,10]])}))).apply(this,arguments)}function ai(e){return ii.apply(this,arguments)}function ii(){return(ii=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.dir,a=t.gitdir,i=void 0===a?Ce(n,".git"):a,s=t.ref,e.prev=1,Tr("fs",r),Tr("gitdir",i),Tr("ref",s),e.next=7,et.expand({fs:new Sr(r),gitdir:i,ref:s});case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(1),e.t0.caller="git.expandRef",e.t0;case 14:case"end":return e.stop()}},e,null,[[1,10]])}))).apply(this,arguments)}function si(e){return ui.apply(this,arguments)}function ui(){return(ui=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o,f,p,l,d,h,g,v,x,b,k,y,R,_,E,S,j,P,A,O;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t.fs,n=t.cache,a=t.gitdir,i=t.oids,s={},u=i.length,c=i.map(function(e,t){return{index:t,oid:e}});case 4:if(!c.length){e.next=42;break}o=new Set,f=w(c);try{for(f.s();!(p=f.n()).done;)l=p.value,d=l.oid,h=l.index,s[d]||(s[d]=new Set),s[d].add(h),s[d].size===u&&o.add(d)}catch(I){f.e(I)}finally{f.f()}if(!(o.size>0)){e.next=10;break}return e.abrupt("return",m(o));case 10:g=new Map,v=w(c),e.prev=12,v.s();case 14:if((x=v.n()).done){e.next=31;break}return b=x.value,k=b.oid,y=b.index,e.prev=16,e.next=19,Tt({fs:r,cache:n,gitdir:a,oid:k});case 19:R=e.sent,_=R.object,E=xr.from(_),S=E.parseHeaders(),j=S.parent,P=w(j);try{for(P.s();!(A=P.n()).done;)O=A.value,s[O]&&s[O].has(y)||g.set(O+":"+y,{oid:O,index:y})}catch(I){P.e(I)}finally{P.f()}e.next=29;break;case 27:e.prev=27,e.t0=e.catch(16);case 29:e.next=14;break;case 31:e.next=36;break;case 33:e.prev=33,e.t1=e.catch(12),v.e(e.t1);case 36:return e.prev=36,v.f(),e.finish(36);case 39:c=Array.from(g.values()),e.next=4;break;case 42:return e.abrupt("return",[]);case 43:case"end":return e.stop()}},e,null,[[12,33,36,39],[16,27]])}))).apply(this,arguments)}var ci=/^.*(\r?\n|$)/gm;function oi(e){var t,r=e.ourContent,n=e.baseContent,a=e.theirContent,i=e.ourName,s=void 0===i?"ours":i,u=e.baseName,o=void 0===u?"base":u,f=e.theirName,p=void 0===f?"theirs":f,l=e.format,d=void 0===l?"diff":l,h=e.markerSize,m=void 0===h?7:h,g=r.match(ci),v=n.match(ci),x=a.match(ci),b="",k=!0,y=w((0,c.default)(g,v,x));try{for(y.s();!(t=y.n()).done;){var R=t.value;R.ok&&(b+=R.ok.join("")),R.conflict&&(k=!1,b+="".concat("<".repeat(m)," ").concat(s,"\n"),b+=R.conflict.a.join(""),"diff3"===d&&(b+="".concat("|".repeat(m)," ").concat(o,"\n"),b+=R.conflict.o.join("")),b+="".concat("=".repeat(m),"\n"),b+=R.conflict.b.join(""),b+="".concat(">".repeat(m)," ").concat(p,"\n"))}}catch(_){y.e(_)}finally{y.f()}return{cleanMerge:k,mergedText:b}}function fi(e){return pi.apply(this,arguments)}function pi(){return(pi=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o,f,p,l,d,h,m,g,v,x,b,w;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.dir,a=t.gitdir,i=void 0===a?Ce(n,".git"):a,s=t.ourOid,u=t.baseOid,c=t.theirOid,o=t.ourName,f=void 0===o?"ours":o,p=t.baseName,l=void 0===p?"base":p,d=t.theirName,h=void 0===d?"theirs":d,m=t.dryRun,g=void 0!==m&&m,v=yr({ref:s}),x=yr({ref:u}),b=yr({ref:c}),e.next=6,jn({fs:r,dir:n,gitdir:i,trees:[v,x,b],map:function(){var e=k(regeneratorRuntime.mark(function e(t,n){var a,s,u,c,o,p,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=y(n,3),s=a[0],u=a[1],c=a[2],o=ve(t),e.next=4,li(s,u);case 4:return p=e.sent,e.next=7,li(c,u);case 7:d=e.sent,e.t0="".concat(p,"-").concat(d),e.next="false-false"===e.t0?11:"false-true"===e.t0?22:"true-false"===e.t0?38:"true-true"===e.t0?54:75;break;case 11:return e.next=13,u.mode();case 13:return e.t1=e.sent,e.t2=o,e.next=17,u.oid();case 17:return e.t3=e.sent,e.next=20,u.type();case 20:return e.t4=e.sent,e.abrupt("return",{mode:e.t1,path:e.t2,oid:e.t3,type:e.t4});case 22:if(!c){e.next=36;break}return e.next=25,c.mode();case 25:return e.t6=e.sent,e.t7=o,e.next=29,c.oid();case 29:return e.t8=e.sent,e.next=32,c.type();case 32:e.t9=e.sent,e.t5={mode:e.t6,path:e.t7,oid:e.t8,type:e.t9},e.next=37;break;case 36:e.t5=void 0;case 37:return e.abrupt("return",e.t5);case 38:if(!s){e.next=52;break}return e.next=41,s.mode();case 41:return e.t11=e.sent,e.t12=o,e.next=45,s.oid();case 45:return e.t13=e.sent,e.next=48,s.type();case 48:e.t14=e.sent,e.t10={mode:e.t11,path:e.t12,oid:e.t13,type:e.t14},e.next=53;break;case 52:e.t10=void 0;case 53:return e.abrupt("return",e.t10);case 54:if(e.t17=s&&u&&c,!e.t17){e.next=60;break}return e.next=58,s.type();case 58:e.t18=e.sent,e.t17="blob"===e.t18;case 60:if(e.t16=e.t17,!e.t16){e.next=66;break}return e.next=64,u.type();case 64:e.t19=e.sent,e.t16="blob"===e.t19;case 66:if(e.t15=e.t16,!e.t15){e.next=72;break}return e.next=70,c.type();case 70:e.t20=e.sent,e.t15="blob"===e.t20;case 72:if(!e.t15){e.next=74;break}return e.abrupt("return",hi({fs:r,gitdir:i,path:o,ours:s,base:u,theirs:c,ourName:f,baseName:l,theirName:h}));case 74:throw new Yt;case 75:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}(),reduce:function(){var e=k(regeneratorRuntime.mark(function e(t,n){var a,s,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.filter(Boolean),!t||"tree"!==t.type||0!==a.length){e.next=3;break}return e.abrupt("return");case 3:if(!(a.length>0)){e.next=10;break}return s=new ut(a),u=s.toObject(),e.next=8,Dr({fs:r,gitdir:i,type:"tree",object:u,dryRun:g});case 8:c=e.sent,t.oid=c;case 10:return e.abrupt("return",t);case 11:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}()});case 6:return w=e.sent,e.abrupt("return",w.oid);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function li(e,t){return di.apply(this,arguments)}function di(){return(di=k(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t||r){e.next=2;break}return e.abrupt("return",!1);case 2:if(!t||r){e.next=4;break}return e.abrupt("return",!0);case 4:if(t||!r){e.next=6;break}return e.abrupt("return",!0);case 6:return e.next=8,t.type();case 8:if(e.t1=e.sent,e.t0="tree"===e.t1,!e.t0){e.next=15;break}return e.next=13,r.type();case 13:e.t2=e.sent,e.t0="tree"===e.t2;case 15:if(!e.t0){e.next=17;break}return e.abrupt("return",!1);case 17:return e.next=19,t.type();case 19:return e.t5=e.sent,e.next=22,r.type();case 22:if(e.t6=e.sent,e.t4=e.t5===e.t6,!e.t4){e.next=32;break}return e.next=27,t.mode();case 27:return e.t7=e.sent,e.next=30,r.mode();case 30:e.t8=e.sent,e.t4=e.t7===e.t8;case 32:if(e.t3=e.t4,!e.t3){e.next=41;break}return e.next=36,t.oid();case 36:return e.t9=e.sent,e.next=39,r.oid();case 39:e.t10=e.sent,e.t3=e.t9===e.t10;case 41:if(!e.t3){e.next=43;break}return e.abrupt("return",!1);case 43:return e.abrupt("return",!0);case 44:case"end":return e.stop()}},e)}))).apply(this,arguments)}function hi(e){return mi.apply(this,arguments)}function mi(){return(mi=k(regeneratorRuntime.mark(function t(r){var n,a,i,s,u,c,o,f,p,l,d,h,m,g,v,x,b;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.fs,a=r.gitdir,i=r.path,s=r.ours,u=r.base,c=r.theirs,o=r.ourName,f=r.theirName,p=r.baseName,l=r.format,d=r.markerSize,h=r.dryRun,m="blob",t.next=4,u.mode();case 4:return t.t0=t.sent,t.next=7,s.mode();case 7:if(t.t1=t.sent,t.t0!==t.t1){t.next=14;break}return t.next=11,c.mode();case 11:t.t2=t.sent,t.next=17;break;case 14:return t.next=16,s.mode();case 16:t.t2=t.sent;case 17:return g=t.t2,t.next=20,s.oid();case 20:return t.t3=t.sent,t.next=23,c.oid();case 23:if(t.t4=t.sent,t.t3!==t.t4){t.next=32;break}return t.t5=g,t.t6=i,t.next=29,s.oid();case 29:return t.t7=t.sent,t.t8=m,t.abrupt("return",{mode:t.t5,path:t.t6,oid:t.t7,type:t.t8});case 32:return t.next=34,s.oid();case 34:return t.t9=t.sent,t.next=37,u.oid();case 37:if(t.t10=t.sent,t.t9!==t.t10){t.next=46;break}return t.t11=g,t.t12=i,t.next=43,c.oid();case 43:return t.t13=t.sent,t.t14=m,t.abrupt("return",{mode:t.t11,path:t.t12,oid:t.t13,type:t.t14});case 46:return t.next=48,c.oid();case 48:return t.t15=t.sent,t.next=51,u.oid();case 51:if(t.t16=t.sent,t.t15!==t.t16){t.next=60;break}return t.t17=g,t.t18=i,t.next=57,s.oid();case 57:return t.t19=t.sent,t.t20=m,t.abrupt("return",{mode:t.t17,path:t.t18,oid:t.t19,type:t.t20});case 60:return t.t21=oi,t.t22=e,t.next=64,s.content();case 64:return t.t23=t.sent,t.t24=t.t22.from.call(t.t22,t.t23).toString("utf8"),t.t25=e,t.next=69,u.content();case 69:return t.t26=t.sent,t.t27=t.t25.from.call(t.t25,t.t26).toString("utf8"),t.t28=e,t.next=74,c.content();case 74:if(t.t29=t.sent,t.t30=t.t28.from.call(t.t28,t.t29).toString("utf8"),t.t31=o,t.t32=f,t.t33=p,t.t34=l,t.t35=d,t.t36={ourContent:t.t24,baseContent:t.t27,theirContent:t.t30,ourName:t.t31,theirName:t.t32,baseName:t.t33,format:t.t34,markerSize:t.t35},v=(0,t.t21)(t.t36),x=v.mergedText,v.cleanMerge){t.next=87;break}throw new Yt;case 87:return t.next=89,Dr({fs:n,gitdir:a,type:"blob",object:e.from(x,"utf8"),dryRun:h});case 89:return b=t.sent,t.abrupt("return",{mode:g,path:i,oid:b,type:m});case 91:case"end":return t.stop()}},t)}))).apply(this,arguments)}function gi(e){return vi.apply(this,arguments)}function vi(){return(vi=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o,f,p,l,d,h,m,g,v,x,b,k,w,y;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.fs,n=t.cache,a=t.gitdir,i=t.ours,s=t.theirs,u=t.fastForwardOnly,c=void 0!==u&&u,o=t.dryRun,f=void 0!==o&&o,p=t.noUpdateBranch,l=void 0!==p&&p,d=t.message,h=t.author,m=t.committer,g=t.signingKey,void 0!==i){e.next=5;break}return e.next=4,Mn({fs:r,gitdir:a,fullname:!0});case 4:i=e.sent;case 5:return e.next=7,et.expand({fs:r,gitdir:a,ref:i});case 7:return i=e.sent,e.next=10,et.expand({fs:r,gitdir:a,ref:s});case 10:return s=e.sent,e.next=13,et.resolve({fs:r,gitdir:a,ref:i});case 13:return v=e.sent,e.next=16,et.resolve({fs:r,gitdir:a,ref:s});case 16:return x=e.sent,e.next=19,si({fs:r,cache:n,gitdir:a,oids:[v,x]});case 19:if(1===(b=e.sent).length){e.next=22;break}throw new Yt;case 22:if((k=b[0])!==x){e.next=25;break}return e.abrupt("return",{oid:v,alreadyMerged:!0});case 25:if(k!==v){e.next=32;break}if(f||l){e.next=29;break}return e.next=29,et.writeRef({fs:r,gitdir:a,ref:i,value:x});case 29:return e.abrupt("return",{oid:x,fastForward:!0});case 32:if(!c){e.next=34;break}throw new qt;case 34:return e.next=36,fi({fs:r,gitdir:a,ourOid:v,theirOid:x,baseOid:k,ourName:i,baseName:"base",theirName:s,dryRun:f});case 36:return w=e.sent,d||(d="Merge branch '".concat(Tn(s),"' into ").concat(Tn(i))),e.next=40,Gr({fs:r,cache:n,gitdir:a,message:d,ref:i,tree:w,parent:[v,x],author:h,committer:m,signingKey:g,dryRun:f,noUpdateBranch:l});case 40:return y=e.sent,e.abrupt("return",{oid:y,tree:w,mergeCommit:!0});case 42:case"end":return e.stop()}},e)}))).apply(this,arguments)}function xi(e){return bi.apply(this,arguments)}function bi(){return(bi=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o,f,p,l,d,h,m,g,v,x,b,k,w,y,R,_,E,S;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.fs,n=t.cache,a=t.http,i=t.onProgress,s=t.onMessage,u=t.onAuth,c=t.onAuthSuccess,o=t.onAuthFailure,f=t.dir,p=t.gitdir,l=t.ref,d=t.url,h=t.remote,m=t.remoteRef,g=t.fastForwardOnly,v=t.corsProxy,x=t.singleBranch,b=t.headers,k=t.author,w=t.committer,y=t.signingKey,e.prev=1,l){e.next=9;break}return e.next=5,Mn({fs:r,gitdir:p});case 5:if(R=e.sent){e.next=8;break}throw new Xt("ref");case 8:l=R;case 9:return e.next=11,_a({fs:r,cache:n,http:a,onProgress:i,onMessage:s,onAuth:u,onAuthSuccess:c,onAuthFailure:o,gitdir:p,corsProxy:v,ref:l,url:d,remote:h,remoteRef:m,singleBranch:x,headers:b});case 11:return _=e.sent,E=_.fetchHead,S=_.fetchHeadDescription,e.next=16,gi({fs:r,cache:n,gitdir:p,ours:l,theirs:E,fastForwardOnly:g,message:"Merge ".concat(S),author:k,committer:w,signingKey:y,dryRun:!1,noUpdateBranch:!1});case 16:return e.next=18,On({fs:r,cache:n,onProgress:i,dir:f,gitdir:p,ref:l,remote:h,noCheckout:!1});case 18:e.next=24;break;case 20:throw e.prev=20,e.t0=e.catch(1),e.t0.caller="git.pull",e.t0;case 24:case"end":return e.stop()}},e,null,[[1,20]])}))).apply(this,arguments)}function ki(e){return wi.apply(this,arguments)}function wi(){return(wi=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o,f,p,l,d,h,m,g,v,x,b,k;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.http,a=t.onProgress,i=t.onMessage,s=t.onAuth,u=t.onAuthSuccess,c=t.onAuthFailure,o=t.dir,f=t.gitdir,p=void 0===f?Ce(o,".git"):f,l=t.ref,d=t.url,h=t.remote,m=t.remoteRef,g=t.corsProxy,v=t.singleBranch,x=t.headers,b=void 0===x?{}:x,e.prev=1,Tr("fs",r),Tr("http",n),Tr("gitdir",p),k={name:"",email:"",timestamp:Date.now(),timezoneOffset:0},e.next=8,xi({fs:new Sr(r),cache:{},http:n,onProgress:a,onMessage:i,onAuth:s,onAuthSuccess:u,onAuthFailure:c,dir:o,gitdir:p,ref:l,url:d,remote:h,remoteRef:m,fastForwardOnly:!0,corsProxy:g,singleBranch:v,headers:b,author:k,committer:k});case 8:return e.abrupt("return",e.sent);case 11:throw e.prev=11,e.t0=e.catch(1),e.t0.caller="git.fastForward",e.t0;case 15:case"end":return e.stop()}},e,null,[[1,11]])}))).apply(this,arguments)}function yi(e){return Ri.apply(this,arguments)}function Ri(){return(Ri=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o,f,p,l,d,h,m,g,v,x,b,k,w,y,R,_,E,S,j,P,A,O,I,B,C,N;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.http,a=t.onProgress,i=t.onMessage,s=t.onAuth,u=t.onAuthSuccess,c=t.onAuthFailure,o=t.dir,f=t.gitdir,p=void 0===f?Ce(o,".git"):f,l=t.ref,d=t.remote,h=t.remoteRef,m=t.url,g=t.corsProxy,v=t.depth,x=void 0===v?null:v,b=t.since,k=void 0===b?null:b,w=t.exclude,y=void 0===w?[]:w,R=t.relative,_=void 0!==R&&R,E=t.tags,S=void 0!==E&&E,j=t.singleBranch,P=void 0!==j&&j,A=t.headers,O=void 0===A?{}:A,I=t.prune,B=void 0!==I&&I,C=t.pruneTags,N=void 0!==C&&C,e.prev=1,Tr("fs",r),Tr("http",n),Tr("gitdir",p),e.next=7,_a({fs:new Sr(r),cache:{},http:n,onProgress:a,onMessage:i,onAuth:s,onAuthSuccess:u,onAuthFailure:c,gitdir:p,ref:l,remote:d,remoteRef:h,url:m,corsProxy:g,depth:x,since:k,exclude:y,relative:_,tags:S,singleBranch:P,headers:O,prune:B,pruneTags:N});case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(1),e.t0.caller="git.fetch",e.t0;case 14:case"end":return e.stop()}},e,null,[[1,10]])}))).apply(this,arguments)}function _i(e){return Ei.apply(this,arguments)}function Ei(){return(Ei=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.dir,a=t.gitdir,i=void 0===a?Ce(n,".git"):a,s=t.oids,e.prev=1,Tr("fs",r),Tr("gitdir",i),Tr("oids",s),e.next=7,si({fs:new Sr(r),cache:{},gitdir:i,oids:s});case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(1),e.t0.caller="git.findMergeBase",e.t0;case 14:case"end":return e.stop()}},e,null,[[1,10]])}))).apply(this,arguments)}function Si(e){return ji.apply(this,arguments)}function ji(){return(ji=k(regeneratorRuntime.mark(function e(t){var r,n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.filepath,e.next=3,r.exists(Ce(n,".git"));case 3:if(!e.sent){e.next=7;break}return e.abrupt("return",n);case 7:if((a=xe(n))!==n){e.next=10;break}throw new _e("git root for ".concat(n));case 10:return e.abrupt("return",Si({fs:r,filepath:a}));case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Pi(e){return Ai.apply(this,arguments)}function Ai(){return(Ai=k(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.filepath,e.prev=1,Tr("fs",r),Tr("filepath",n),e.next=6,Si({fs:new Sr(r),filepath:n});case 6:return e.abrupt("return",e.sent);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0.caller="git.findRoot",e.t0;case 13:case"end":return e.stop()}},e,null,[[1,9]])}))).apply(this,arguments)}function Oi(e){return Ii.apply(this,arguments)}function Ii(){return(Ii=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.dir,a=t.gitdir,i=void 0===a?Ce(n,".git"):a,s=t.path,e.prev=1,Tr("fs",r),Tr("gitdir",i),Tr("path",s),e.next=7,rn({fs:new Sr(r),gitdir:i,path:s});case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(1),e.t0.caller="git.getConfig",e.t0;case 14:case"end":return e.stop()}},e,null,[[1,10]])}))).apply(this,arguments)}function Bi(e){return Ci.apply(this,arguments)}function Ci(){return(Ci=k(regeneratorRuntime.mark(function e(t){var r,n,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.gitdir,a=t.path,e.next=3,Je.get({fs:r,gitdir:n});case 3:return i=e.sent,e.abrupt("return",i.getall(a));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ni(e){return Di.apply(this,arguments)}function Di(){return(Di=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.dir,a=t.gitdir,i=void 0===a?Ce(n,".git"):a,s=t.path,e.prev=1,Tr("fs",r),Tr("gitdir",i),Tr("path",s),e.next=7,Bi({fs:new Sr(r),gitdir:i,path:s});case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(1),e.t0.caller="git.getConfigAll",e.t0;case 14:case"end":return e.stop()}},e,null,[[1,10]])}))).apply(this,arguments)}function Ui(e){return Ti.apply(this,arguments)}function Ti(){return(Ti=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o,f,p,l,d,h,g,v,x,b,k,R,_,E,S,j,P,A,O,I,B,C,N,D,U,T,M,F;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.http,n=t.onAuth,a=t.onAuthSuccess,i=t.onAuthFailure,s=t.corsProxy,u=t.url,c=t.headers,o=void 0===c?{}:c,f=t.forPush,p=void 0!==f&&f,e.prev=1,Tr("http",r),Tr("url",u),l=ia.getRemoteHelperFor({url:u}),e.next=7,l.discover({http:r,onAuth:n,onAuthSuccess:a,onAuthFailure:i,corsProxy:s,service:p?"git-receive-pack":"git-upload-pack",url:u,headers:o,protocolVersion:1});case 7:d=e.sent,h={capabilities:m(d.capabilities)},g=w(d.refs);try{for(g.s();!(v=g.n()).done;){x=y(v.value,2),b=x[0],k=x[1],R=b.split("/"),_=R.pop(),E=h,S=w(R);try{for(S.s();!(j=S.n()).done;)P=j.value,E[P]=E[P]||{},E=E[P]}catch(H){S.e(H)}finally{S.f()}E[_]=k}}catch(H){g.e(H)}finally{g.f()}A=w(d.symrefs);try{for(A.s();!(O=A.n()).done;){I=y(O.value,2),B=I[0],C=I[1],N=B.split("/"),D=N.pop(),U=h,T=w(N);try{for(T.s();!(M=T.n()).done;)F=M.value,U[F]=U[F]||{},U=U[F]}catch(H){T.e(H)}finally{T.f()}U[D]=C}}catch(H){A.e(H)}finally{A.f()}return e.abrupt("return",h);case 16:throw e.prev=16,e.t0=e.catch(1),e.t0.caller="git.getRemoteInfo",e.t0;case 20:case"end":return e.stop()}},e,null,[[1,16]])}))).apply(this,arguments)}function Mi(e,t,r,n){var a,i=[],s=w(e.refs);try{for(s.s();!(a=s.n()).done;){var u=y(a.value,2),c=u[0],o=u[1];if(!t||c.startsWith(t))if(c.endsWith("^{}"))n&&function(){var e=c.replace("^{}",""),t=i[i.length-1],r=t.ref===e?t:i.find(function(t){return t.ref===e});if(void 0===r)throw new Error("I did not expect this to happen");r.peeled=o}();else{var f={ref:c,oid:o};r&&e.symrefs.has(c)&&(f.target=e.symrefs.get(c)),i.push(f)}}}catch(p){s.e(p)}finally{s.f()}return i}function Fi(e){return Hi.apply(this,arguments)}function Hi(){return(Hi=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o,f,p,l,d,h,m,g,v,x,b,k,R,_,E;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.http,n=t.onAuth,a=t.onAuthSuccess,i=t.onAuthFailure,s=t.corsProxy,u=t.url,c=t.headers,o=void 0===c?{}:c,f=t.forPush,p=void 0!==f&&f,l=t.protocolVersion,d=void 0===l?2:l,e.prev=1,Tr("http",r),Tr("url",u),h=ia.getRemoteHelperFor({url:u}),e.next=7,h.discover({http:r,onAuth:n,onAuthSuccess:a,onAuthFailure:i,corsProxy:s,service:p?"git-receive-pack":"git-upload-pack",url:u,headers:o,protocolVersion:d});case 7:if(2!==(m=e.sent).protocolVersion){e.next=10;break}return e.abrupt("return",{protocolVersion:m.protocolVersion,capabilities:m.capabilities2});case 10:g={},v=w(m.capabilities);try{for(v.s();!(x=v.n()).done;)b=x.value,k=b.split("="),R=y(k,2),_=R[0],E=R[1],g[_]=E||!0}catch(S){v.e(S)}finally{v.f()}return e.abrupt("return",{protocolVersion:1,capabilities:g,refs:Mi(m,void 0,!0,!0)});case 16:throw e.prev=16,e.t0=e.catch(1),e.t0.caller="git.getRemoteInfo2",e.t0;case 20:case"end":return e.stop()}},e,null,[[1,16]])}))).apply(this,arguments)}function zi(e){return Gi.apply(this,arguments)}function Gi(){return(Gi=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.type,n=t.object,a=t.format,i=void 0===a?"content":a,s=t.oid,u=void 0===s?void 0:s,"deflated"===i){e.next=6;break}return"wrapped"!==i&&(n=ct.wrap({type:r,object:n})),e.next=5,Q(n);case 5:u=e.sent;case 6:return e.abrupt("return",{oid:u,object:n});case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Wi(e){return qi.apply(this,arguments)}function qi(){return(qi=k(regeneratorRuntime.mark(function t(r){var n,a,i,s,u;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.object,t.prev=1,Tr("object",n),n="string"==typeof n?e.from(n,"utf8"):e.from(n),a="blob",t.next=7,zi({type:"blob",format:"content",object:n});case 7:return i=t.sent,s=i.oid,u=i.object,t.abrupt("return",{oid:s,type:a,object:new Uint8Array(u),format:"wrapped"});case 13:throw t.prev=13,t.t0=t.catch(1),t.t0.caller="git.hashBlob",t.t0;case 17:case"end":return t.stop()}},t,null,[[1,13]])}))).apply(this,arguments)}function Ki(e){return $i.apply(this,arguments)}function $i(){return($i=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.cache,a=t.onProgress,i=t.dir,s=t.gitdir,u=t.filepath,e.prev=1,u=Ce(i,u),e.next=5,r.read(u);case 5:return c=e.sent,o=function(e){return Tt({fs:r,cache:n,gitdir:s,oid:e})},e.next=9,It.fromPack({pack:c,getExternalRefDelta:o,onProgress:a});case 9:return f=e.sent,e.t0=r,e.t1=u.replace(/\.pack$/,".idx"),e.next=14,f.toBuffer();case 14:return e.t2=e.sent,e.next=17,e.t0.write.call(e.t0,e.t1,e.t2);case 17:return e.abrupt("return",{oids:m(f.hashes)});case 20:throw e.prev=20,e.t3=e.catch(1),e.t3.caller="git.indexPack",e.t3;case 24:case"end":return e.stop()}},e,null,[[1,20]])}))).apply(this,arguments)}function Li(e){return Vi.apply(this,arguments)}function Vi(){return(Vi=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.onProgress,a=t.dir,i=t.gitdir,s=void 0===i?Ce(a,".git"):i,u=t.filepath,e.prev=1,Tr("fs",r),Tr("dir",a),Tr("gitdir",a),Tr("filepath",u),e.next=8,Ki({fs:new Sr(r),cache:{},onProgress:n,dir:a,gitdir:s,filepath:u});case 8:return e.abrupt("return",e.sent);case 11:throw e.prev=11,e.t0=e.catch(1),e.t0.caller="git.indexPack",e.t0;case 15:case"end":return e.stop()}},e,null,[[1,11]])}))).apply(this,arguments)}function Zi(e){return Yi.apply(this,arguments)}function Yi(){return(Yi=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.bare,a=void 0!==n&&n,i=t.dir,s=t.gitdir,u=void 0===s?a?i:Ce(i,".git"):s,c=t.defaultBranch,o=void 0===c?"master":c,e.prev=1,Tr("fs",r),Tr("gitdir",u),a||Tr("dir",i),e.next=7,Sa({fs:new Sr(r),bare:a,dir:i,gitdir:u,defaultBranch:o});case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(1),e.t0.caller="git.init",e.t0;case 14:case"end":return e.stop()}},e,null,[[1,10]])}))).apply(this,arguments)}function Ji(e){return Xi.apply(this,arguments)}function Xi(){return(Xi=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o,f,p,l,d,h,m,g,v,x,b,k,y;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.cache,a=t.gitdir,i=t.oid,s=t.ancestor,u=t.depth,e.next=3,ua.read({fs:r,gitdir:a});case 3:if(c=e.sent,i){e.next=6;break}throw new Xt("oid");case 6:if(s){e.next=8;break}throw new Xt("ancestor");case 8:if(i!==s){e.next=10;break}return e.abrupt("return",!1);case 10:o=[i],f=new Set,p=0;case 13:if(!o.length){e.next=45;break}if(p++!==u){e.next=16;break}throw new Zt(u);case 16:return l=o.shift(),e.next=19,Tt({fs:r,cache:n,gitdir:a,oid:l});case 19:if(d=e.sent,h=d.type,m=d.object,"commit"===h){e.next=24;break}throw new Ee(l,h,"commit");case 24:g=xr.from(m).parse(),v=w(g.parent),e.prev=26,v.s();case 28:if((x=v.n()).done){e.next=34;break}if(x.value!==s){e.next=32;break}return e.abrupt("return",!0);case 32:e.next=28;break;case 34:e.next=39;break;case 36:e.prev=36,e.t0=e.catch(26),v.e(e.t0);case 39:return e.prev=39,v.f(),e.finish(39);case 42:if(!c.has(l)){b=w(g.parent);try{for(b.s();!(k=b.n()).done;)y=k.value,f.has(y)||(o.push(y),f.add(y))}catch(R){b.e(R)}finally{b.f()}}e.next=13;break;case 45:return e.abrupt("return",!1);case 46:case"end":return e.stop()}},e,null,[[26,36,39,42]])}))).apply(this,arguments)}function Qi(e){return es.apply(this,arguments)}function es(){return(es=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.dir,a=t.gitdir,i=void 0===a?Ce(n,".git"):a,s=t.oid,u=t.ancestor,c=t.depth,o=void 0===c?-1:c,e.prev=1,Tr("fs",r),Tr("gitdir",i),Tr("oid",s),Tr("ancestor",u),e.next=8,Ji({fs:new Sr(r),cache:{},gitdir:i,oid:s,ancestor:u,depth:o});case 8:return e.abrupt("return",e.sent);case 11:throw e.prev=11,e.t0=e.catch(1),e.t0.caller="git.isDescendent",e.t0;case 15:case"end":return e.stop()}},e,null,[[1,11]])}))).apply(this,arguments)}function ts(e){return rs.apply(this,arguments)}function rs(){return(rs=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.dir,a=t.gitdir,i=void 0===a?Ce(n,".git"):a,s=t.remote,e.prev=1,Tr("fs",r),Tr("gitdir",i),e.abrupt("return",et.listBranches({fs:new Sr(r),gitdir:i,remote:s}));case 7:throw e.prev=7,e.t0=e.catch(1),e.t0.caller="git.listBranches",e.t0;case 11:case"end":return e.stop()}},e,null,[[1,7]])}))).apply(this,arguments)}function ns(e){return as.apply(this,arguments)}function as(){return(as=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.fs,n=t.gitdir,a=t.ref,i=t.cache,!a){e.next=11;break}return e.next=4,et.resolve({gitdir:n,fs:r,ref:a});case 4:return s=e.sent,u=[],e.next=8,is({fs:r,cache:i,gitdir:n,oid:s,filenames:u,prefix:""});case 8:return e.abrupt("return",u);case 11:return e.abrupt("return",ge.acquire({fs:r,gitdir:n,cache:i},function(){var e=k(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.entries.map(function(e){return e.path}));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function is(e){return ss.apply(this,arguments)}function ss(){return(ss=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o,f,p,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.cache,a=t.gitdir,i=t.oid,s=t.filenames,u=t.prefix,e.next=3,Yr({fs:r,cache:n,gitdir:a,oid:i});case 3:c=e.sent,o=c.tree,f=w(o),e.prev=6,f.s();case 8:if((p=f.n()).done){e.next=18;break}if("tree"!==(l=p.value).type){e.next=15;break}return e.next=13,is({fs:r,cache:n,gitdir:a,oid:l.oid,filenames:s,prefix:Ce(u,l.path)});case 13:e.next=16;break;case 15:s.push(Ce(u,l.path));case 16:e.next=8;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(6),f.e(e.t0);case 23:return e.prev=23,f.f(),e.finish(23);case 26:case"end":return e.stop()}},e,null,[[6,20,23,26]])}))).apply(this,arguments)}function us(e){return cs.apply(this,arguments)}function cs(){return(cs=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.dir,a=t.gitdir,i=void 0===a?Ce(n,".git"):a,s=t.ref,e.prev=1,Tr("fs",r),Tr("gitdir",i),e.next=6,ns({fs:new Sr(r),cache:{},gitdir:i,ref:s});case 6:return e.abrupt("return",e.sent);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0.caller="git.listFiles",e.t0;case 13:case"end":return e.stop()}},e,null,[[1,9]])}))).apply(this,arguments)}function os(e){return fs.apply(this,arguments)}function fs(){return(fs=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.cache,a=t.gitdir,i=t.ref,e.prev=1,e.next=4,et.resolve({gitdir:a,fs:r,ref:i});case 4:s=e.sent,e.next=11;break;case 7:if(e.prev=7,e.t0=e.catch(1),!(e.t0 instanceof _e)){e.next=11;break}return e.abrupt("return",[]);case 11:return e.next=13,Yr({fs:r,cache:n,gitdir:a,oid:s});case 13:return u=e.sent,c=u.tree.map(function(e){return{target:e.path,note:e.oid}}),e.abrupt("return",c);case 16:case"end":return e.stop()}},e,null,[[1,7]])}))).apply(this,arguments)}function ps(e){return ls.apply(this,arguments)}function ls(){return(ls=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.dir,a=t.gitdir,i=void 0===a?Ce(n,".git"):a,s=t.ref,u=void 0===s?"refs/notes/commits":s,e.prev=1,Tr("fs",r),Tr("gitdir",i),Tr("ref",u),e.next=7,os({fs:new Sr(r),cache:{},gitdir:i,ref:u});case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(1),e.t0.caller="git.listNotes",e.t0;case 14:case"end":return e.stop()}},e,null,[[1,10]])}))).apply(this,arguments)}function ds(e){return hs.apply(this,arguments)}function hs(){return(hs=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.gitdir,e.next=3,Je.get({fs:r,gitdir:n});case 3:return a=e.sent,e.next=6,a.getSubsections("remote");case 6:return i=e.sent,s=Promise.all(i.map(function(){var e=k(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.get("remote.".concat(t,".url"));case 2:return r=e.sent,e.abrupt("return",{remote:t,url:r});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())),e.abrupt("return",s);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ms(e){return gs.apply(this,arguments)}function gs(){return(gs=k(regeneratorRuntime.mark(function e(t){var r,n,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.dir,a=t.gitdir,i=void 0===a?Ce(n,".git"):a,e.prev=1,Tr("fs",r),Tr("gitdir",i),e.next=6,ds({fs:new Sr(r),gitdir:i});case 6:return e.abrupt("return",e.sent);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0.caller="git.listRemotes",e.t0;case 13:case"end":return e.stop()}},e,null,[[1,9]])}))).apply(this,arguments)}function vs(e){return xs.apply(this,arguments)}function xs(){return(xs=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o,p,l,d,h,m,g,v,x;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=Vn.streamReader(t),n=[];case 2:return e.next=5,r();case 5:if(!0!==(a=e.sent)){e.next=8;break}return e.abrupt("break",18);case 8:if(null!==a){e.next=10;break}return e.abrupt("continue",2);case 10:a=a.toString("utf8").replace(/\n$/,""),i=a.split(" "),s=f(i),u=s[0],c=s[1],o=s.slice(2),p={ref:c,oid:u},l=w(o);try{for(l.s();!(d=l.n()).done;)h=d.value,m=h.split(":"),g=y(m,2),v=g[0],x=g[1],"symref-target"===v?p.target=x:"peeled"===v&&(p.peeled=x)}catch(b){l.e(b)}finally{l.f()}n.push(p),e.next=2;break;case 18:return e.abrupt("return",n);case 19:case"end":return e.stop()}},e)}))).apply(this,arguments)}function bs(e){return ks.apply(this,arguments)}function ks(){return(ks=k(regeneratorRuntime.mark(function e(t){var r,n,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.prefix,n=t.symrefs,a=t.peelTags,(i=[]).push(Vn.encode("command=ls-refs\n")),i.push(Vn.encode("agent=".concat(ga.agent,"\n"))),(a||n||r)&&i.push(Vn.delim()),a&&i.push(Vn.encode("peel")),n&&i.push(Vn.encode("symrefs")),r&&i.push(Vn.encode("ref-prefix ".concat(r))),i.push(Vn.flush()),e.abrupt("return",i);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ws(e){return ys.apply(this,arguments)}function ys(){return(ys=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o,f,p,l,d,h,m,g,v,x,b;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.http,n=t.onAuth,a=t.onAuthSuccess,i=t.onAuthFailure,s=t.corsProxy,u=t.url,c=t.headers,o=void 0===c?{}:c,f=t.forPush,p=void 0!==f&&f,l=t.protocolVersion,d=void 0===l?2:l,h=t.prefix,m=t.symrefs,g=t.peelTags,e.prev=1,Tr("http",r),Tr("url",u),e.next=6,na.discover({http:r,onAuth:n,onAuthSuccess:a,onAuthFailure:i,corsProxy:s,service:p?"git-receive-pack":"git-upload-pack",url:u,headers:o,protocolVersion:d});case 6:if(1!==(v=e.sent).protocolVersion){e.next=9;break}return e.abrupt("return",Mi(v,h,m,g));case 9:return e.next=11,bs({prefix:h,symrefs:m,peelTags:g});case 11:return x=e.sent,e.next=14,na.connect({http:r,auth:v.auth,headers:o,corsProxy:s,service:p?"git-receive-pack":"git-upload-pack",url:u,body:x});case 14:return b=e.sent,e.abrupt("return",vs(b.body));case 18:throw e.prev=18,e.t0=e.catch(1),e.t0.caller="git.listServerRefs",e.t0;case 22:case"end":return e.stop()}},e,null,[[1,18]])}))).apply(this,arguments)}function Rs(e){return _s.apply(this,arguments)}function _s(){return(_s=k(regeneratorRuntime.mark(function e(t){var r,n,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.dir,a=t.gitdir,i=void 0===a?Ce(n,".git"):a,e.prev=1,Tr("fs",r),Tr("gitdir",i),e.abrupt("return",et.listTags({fs:new Sr(r),gitdir:i}));case 7:throw e.prev=7,e.t0=e.catch(1),e.t0.caller="git.listTags",e.t0;case 11:case"end":return e.stop()}},e,null,[[1,7]])}))).apply(this,arguments)}function Es(e){return Ss.apply(this,arguments)}function Ss(){return(Ss=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.cache,a=t.gitdir,i=t.oid,e.next=3,Tt({fs:r,cache:n,gitdir:a,oid:i});case 3:if(s=e.sent,u=s.type,c=s.object,"tag"!==u){e.next=9;break}return i=mr.from(c).parse().object,e.abrupt("return",Es({fs:r,cache:n,gitdir:a,oid:i}));case 9:if("commit"===u){e.next=11;break}throw new Ee(i,u,"commit");case 11:return e.abrupt("return",{commit:xr.from(c),oid:i});case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function js(e){return Ps.apply(this,arguments)}function Ps(){return(Ps=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.cache,a=t.gitdir,i=t.oid,e.next=3,Es({fs:r,cache:n,gitdir:a,oid:i});case 3:return s=e.sent,u=s.commit,c=s.oid,o={oid:c,commit:u.parse(),payload:u.withoutSignature()},e.abrupt("return",o);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function As(e,t){return e.committer.timestamp-t.committer.timestamp}function Os(e){return Is.apply(this,arguments)}function Is(){return(Is=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o,f,p,l,d,h,m,g,v;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.cache,a=t.gitdir,i=t.ref,s=t.depth,u=t.since,c=void 0===u?void 0:Math.floor(u.valueOf()/1e3),o=[],e.next=5,ua.read({fs:r,gitdir:a});case 5:return f=e.sent,e.next=8,et.resolve({fs:r,gitdir:a,ref:i});case 8:return p=e.sent,e.next=11,js({fs:r,cache:n,gitdir:a,oid:p});case 11:e.t0=e.sent,l=[e.t0];case 13:if(d=l.pop(),!(void 0!==c&&d.commit.committer.timestamp<=c)){e.next=17;break}return e.abrupt("break",45);case 17:if(o.push(d),void 0===s||o.length!==s){e.next=20;break}return e.abrupt("break",45);case 20:if(f.has(d.oid)){e.next=40;break}h=w(d.commit.parent),e.prev=22,h.s();case 24:if((m=h.n()).done){e.next=32;break}return g=m.value,e.next=28,js({fs:r,cache:n,gitdir:a,oid:g});case 28:v=e.sent,l.map(function(e){return e.oid}).includes(v.oid)||l.push(v);case 30:e.next=24;break;case 32:e.next=37;break;case 34:e.prev=34,e.t1=e.catch(22),h.e(e.t1);case 37:return e.prev=37,h.f(),e.finish(37);case 40:if(0!==l.length){e.next=42;break}return e.abrupt("break",45);case 42:l.sort(function(e,t){return As(e.commit,t.commit)}),e.next=13;break;case 45:return e.abrupt("return",o);case 46:case"end":return e.stop()}},e,null,[[22,34,37,40]])}))).apply(this,arguments)}function Bs(e){return Cs.apply(this,arguments)}function Cs(){return(Cs=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.dir,a=t.gitdir,i=void 0===a?Ce(n,".git"):a,s=t.ref,u=void 0===s?"HEAD":s,c=t.depth,o=t.since,e.prev=1,Tr("fs",r),Tr("gitdir",i),Tr("ref",u),e.next=7,Os({fs:new Sr(r),cache:{},gitdir:i,ref:u,depth:c,since:o});case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(1),e.t0.caller="git.log",e.t0;case 14:case"end":return e.stop()}},e,null,[[1,10]])}))).apply(this,arguments)}function Ns(e){return Ds.apply(this,arguments)}function Ds(){return(Ds=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o,f,p,l,d,h,m,g,v,x,b,k,w,y;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.onSign,a=t.dir,i=t.gitdir,s=void 0===i?Ce(a,".git"):i,u=t.ours,c=t.theirs,o=t.fastForwardOnly,f=void 0!==o&&o,p=t.dryRun,l=void 0!==p&&p,d=t.noUpdateBranch,h=void 0!==d&&d,m=t.message,g=t.author,v=t.committer,x=t.signingKey,e.prev=1,Tr("fs",r),x&&Tr("onSign",n),b=new Sr(r),k={},e.next=8,an({fs:b,gitdir:s,author:g});case 8:if((w=e.sent)||f){e.next=11;break}throw new Jt("author");case 11:return e.next=13,un({fs:b,gitdir:s,author:w,committer:v});case 13:if((y=e.sent)||f){e.next=16;break}throw new Jt("committer");case 16:return e.next=18,gi({fs:b,cache:k,gitdir:s,ours:u,theirs:c,fastForwardOnly:f,dryRun:l,noUpdateBranch:h,message:m,author:w,committer:y,signingKey:x});case 18:return e.abrupt("return",e.sent);case 21:throw e.prev=21,e.t0=e.catch(1),e.t0.caller="git.merge",e.t0;case 25:case"end":return e.stop()}},e,null,[[1,21]])}))).apply(this,arguments)}var Us={commit:16,tree:32,blob:48,tag:64,ofs_delta:96,ref_delta:112};function Ts(e){return Ms.apply(this,arguments)}function Ms(){return(Ms=k(regeneratorRuntime.mark(function t(n){var a,i,s,u,c,o,f,p,l,d,h,m,g,v,x,b,y,R;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:h=function(){return(h=k(regeneratorRuntime.mark(function t(r){var n,a,i,s,u,c,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(n=r.stype,a=r.object,i=Us[n],s=a.length,u=s>15?128:0,c=15&s,s>>>=4,o=(u|i|c).toString(16),l(o,"hex");u;)l(Ln(2,o=(u=s>127?128:0)|127&s),"hex"),s>>>=7;return t.t0=l,t.t1=e,t.next=13,Or(a);case 13:t.t2=t.sent,t.t3=t.t1.from.call(t.t1,t.t2),(0,t.t0)(t.t3);case 16:case"end":return t.stop()}},t)}))).apply(this,arguments)},d=function(e){return h.apply(this,arguments)},l=function(t,r){var n=e.from(t,r);p.push(n),f.update(n)},a=n.fs,i=n.cache,s=n.dir,u=n.gitdir,c=void 0===u?Ce(s,".git"):u,o=n.oids,f=new r.default,p=[],l("PACK"),l("00000002","hex"),l(Ln(8,o.length),"hex"),m=w(o),t.prev=10,m.s();case 12:if((g=m.n()).done){t.next=23;break}return v=g.value,t.next=16,Tt({fs:a,cache:i,gitdir:c,oid:v});case 16:return x=t.sent,b=x.type,y=x.object,t.next=21,d({write:l,object:y,stype:b});case 21:t.next=12;break;case 23:t.next=28;break;case 25:t.prev=25,t.t0=t.catch(10),m.e(t.t0);case 28:return t.prev=28,m.f(),t.finish(28);case 31:return R=f.digest(),p.push(R),t.abrupt("return",p);case 34:case"end":return t.stop()}},t,null,[[10,25,28,31]])}))).apply(this,arguments)}function Fs(e){return Hs.apply(this,arguments)}function Hs(){return(Hs=k(regeneratorRuntime.mark(function t(r){var n,a,i,s,u,c,o,f,p;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.fs,a=r.cache,i=r.gitdir,s=r.oids,u=r.write,t.next=3,Ts({fs:n,cache:a,gitdir:i,oids:s});case 3:return c=t.sent,t.t0=e,t.next=7,qn(c);case 7:if(t.t1=t.sent,o=t.t0.from.call(t.t0,t.t1),f=o.slice(-20).toString("hex"),p="pack-".concat(f,".pack"),!u){t.next=15;break}return t.next=14,n.write(Ce(i,"objects/pack/".concat(p)),o);case 14:return t.abrupt("return",{filename:p});case 15:return t.abrupt("return",{filename:p,packfile:new Uint8Array(o)});case 16:case"end":return t.stop()}},t)}))).apply(this,arguments)}function zs(e){return Gs.apply(this,arguments)}function Gs(){return(Gs=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.dir,a=t.gitdir,i=void 0===a?Ce(n,".git"):a,s=t.oids,u=t.write,c=void 0!==u&&u,e.prev=1,Tr("fs",r),Tr("gitdir",i),Tr("oids",s),e.next=7,Fs({fs:new Sr(r),cache:{},gitdir:i,oids:s,write:c});case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(1),e.t0.caller="git.packObjects",e.t0;case 14:case"end":return e.stop()}},e,null,[[1,10]])}))).apply(this,arguments)}function Ws(e){return qs.apply(this,arguments)}function qs(){return(qs=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o,f,p,l,d,h,m,g,v,x,b,k,w,y,R,_,E,S,j;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.http,a=t.onProgress,i=t.onMessage,s=t.onAuth,u=t.onAuthSuccess,c=t.onAuthFailure,o=t.dir,f=t.gitdir,p=void 0===f?Ce(o,".git"):f,l=t.ref,d=t.url,h=t.remote,m=t.remoteRef,g=t.fastForwardOnly,v=void 0!==g&&g,x=t.corsProxy,b=t.singleBranch,k=t.headers,w=void 0===k?{}:k,y=t.author,R=t.committer,_=t.signingKey,e.prev=1,Tr("fs",r),Tr("gitdir",p),E=new Sr(r),e.next=7,an({fs:E,gitdir:p,author:y});case 7:if(S=e.sent){e.next=10;break}throw new Jt("author");case 10:return e.next=12,un({fs:E,gitdir:p,author:S,committer:R});case 12:if(j=e.sent){e.next=15;break}throw new Jt("committer");case 15:return e.next=17,xi({fs:E,cache:{},http:n,onProgress:a,onMessage:i,onAuth:s,onAuthSuccess:u,onAuthFailure:c,dir:o,gitdir:p,ref:l,url:d,remote:h,remoteRef:m,fastForwardOnly:v,corsProxy:x,singleBranch:b,headers:w,author:S,committer:j,signingKey:_});case 17:return e.abrupt("return",e.sent);case 20:throw e.prev=20,e.t0=e.catch(1),e.t0.caller="git.pull",e.t0;case 24:case"end":return e.stop()}},e,null,[[1,20]])}))).apply(this,arguments)}function Ks(e){return $s.apply(this,arguments)}function $s(){return($s=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o,f,p,l,d,h,m,g,v,x,b,y,R,_,E,S;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return R=function(){return(R=k(regeneratorRuntime.mark(function e(t){var a,i,u,c,f,l,d,h,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return b.add(t),e.next=3,Tt({fs:r,cache:n,gitdir:s,oid:t});case 3:if(a=e.sent,i=a.type,u=a.object,"tag"!==i){e.next=10;break}return c=mr.from(u),f=c.headers().object,e.abrupt("return",y(f));case 10:if("commit"===i){e.next=12;break}throw new Ee(t,i,"commit");case 12:if(o.has(t)){e.next=33;break}l=xr.from(u),d=l.headers().parent,h=w(d),e.prev=16,h.s();case 18:if((m=h.n()).done){e.next=25;break}if(t=m.value,p.has(t)||b.has(t)){e.next=23;break}return e.next=23,y(t);case 23:e.next=18;break;case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(16),h.e(e.t0);case 30:return e.prev=30,h.f(),e.finish(30);case 33:case"end":return e.stop()}},e,null,[[16,27,30,33]])}))).apply(this,arguments)},y=function(e){return R.apply(this,arguments)},r=t.fs,n=t.cache,a=t.dir,i=t.gitdir,s=void 0===i?Ce(a,".git"):i,u=t.start,c=t.finish,e.next=5,ua.read({fs:r,gitdir:s});case 5:o=e.sent,f=new Set,p=new Set,l=w(u),e.prev=9,l.s();case 11:if((d=l.n()).done){e.next=20;break}return h=d.value,e.t0=f,e.next=16,et.resolve({fs:r,gitdir:s,ref:h});case 16:e.t1=e.sent,e.t0.add.call(e.t0,e.t1);case 18:e.next=11;break;case 20:e.next=25;break;case 22:e.prev=22,e.t2=e.catch(9),l.e(e.t2);case 25:return e.prev=25,l.f(),e.finish(25);case 28:m=w(c),e.prev=29,m.s();case 31:if((g=m.n()).done){e.next=44;break}return v=g.value,e.prev=33,e.next=36,et.resolve({fs:r,gitdir:s,ref:v});case 36:x=e.sent,p.add(x),e.next=42;break;case 40:e.prev=40,e.t3=e.catch(33);case 42:e.next=31;break;case 44:e.next=49;break;case 46:e.prev=46,e.t4=e.catch(29),m.e(e.t4);case 49:return e.prev=49,m.f(),e.finish(49);case 52:b=new Set,_=w(f),e.prev=54,_.s();case 56:if((E=_.n()).done){e.next=62;break}return S=E.value,e.next=60,y(S);case 60:e.next=56;break;case 62:e.next=67;break;case 64:e.prev=64,e.t5=e.catch(54),_.e(e.t5);case 67:return e.prev=67,_.f(),e.finish(67);case 70:return e.abrupt("return",b);case 71:case"end":return e.stop()}},e,null,[[9,22,25,28],[29,46,49,52],[33,40],[54,64,67,70]])}))).apply(this,arguments)}function Ls(e){return Vs.apply(this,arguments)}function Vs(){return(Vs=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o,f,p,l,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:f=function(){return(f=k(regeneratorRuntime.mark(function e(t){var a,i,u,f,p,l,d,h,m,g,v;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!c.has(t)){e.next=2;break}return e.abrupt("return");case 2:return c.add(t),e.next=5,Tt({fs:r,cache:n,gitdir:s,oid:t});case 5:if(a=e.sent,i=a.type,u=a.object,"tag"!==i){e.next=15;break}return f=mr.from(u),p=f.headers().object,e.next=13,o(p);case 13:e.next=43;break;case 15:if("commit"!==i){e.next=22;break}return l=xr.from(u),d=l.headers().tree,e.next=20,o(d);case 20:e.next=43;break;case 22:if("tree"!==i){e.next=43;break}h=ut.from(u),m=w(h),e.prev=25,m.s();case 27:if((g=m.n()).done){e.next=35;break}if("blob"===(v=g.value).type&&c.add(v.oid),"tree"!==v.type){e.next=33;break}return e.next=33,o(v.oid);case 33:e.next=27;break;case 35:e.next=40;break;case 37:e.prev=37,e.t0=e.catch(25),m.e(e.t0);case 40:return e.prev=40,m.f(),e.finish(40);case 43:case"end":return e.stop()}},e,null,[[25,37,40,43]])}))).apply(this,arguments)},o=function(e){return f.apply(this,arguments)},r=t.fs,n=t.cache,a=t.dir,i=t.gitdir,s=void 0===i?Ce(a,".git"):i,u=t.oids,c=new Set,p=w(u),e.prev=5,p.s();case 7:if((l=p.n()).done){e.next=13;break}return d=l.value,e.next=11,o(d);case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),p.e(e.t0);case 18:return e.prev=18,p.f(),e.finish(18);case 21:return e.abrupt("return",c);case 22:case"end":return e.stop()}},e,null,[[5,15,18,21]])}))).apply(this,arguments)}function Zs(e){return Ys.apply(this,arguments)}function Ys(){return(Ys=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o,f,p,l,d,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={},n="",a=Vn.streamReader(t),e.next=5,a();case 5:i=e.sent;case 6:if(!0===i){e.next=13;break}return null!==i&&(n+=i.toString("utf8")+"\n"),e.next=10,a();case 10:i=e.sent,e.next=6;break;case 13:if(s=n.toString("utf8").split("\n"),(i=s.shift()).startsWith("unpack ")){e.next=17;break}throw new Qt('unpack ok" or "unpack [error message]',i);case 17:r.ok="unpack ok"===i,r.ok||(r.error=i.slice("unpack ".length)),r.refs={},u=w(s),e.prev=21,u.s();case 23:if((c=u.n()).done){e.next=36;break}if(""!==(o=c.value).trim()){e.next=27;break}return e.abrupt("continue",34);case 27:f=o.slice(0,2),p=o.slice(3),-1===(l=p.indexOf(" "))&&(l=p.length),d=p.slice(0,l),h=p.slice(l+1),r.refs[d]={ok:"ok"===f,error:h};case 34:e.next=23;break;case 36:e.next=41;break;case 38:e.prev=38,e.t0=e.catch(21),u.e(e.t0);case 41:return e.prev=41,u.f(),e.finish(41);case 44:return e.abrupt("return",r);case 45:case"end":return e.stop()}},e,null,[[21,38,41,44]])}))).apply(this,arguments)}function Js(e){return Xs.apply(this,arguments)}function Xs(){return(Xs=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t.capabilities,n=void 0===r?[]:r,a=t.triplets,i=void 0===a?[]:a,s=[],u="\0 ".concat(n.join(" ")),c=w(i);try{for(c.s();!(o=c.n()).done;)f=o.value,s.push(Vn.encode("".concat(f.oldoid," ").concat(f.oid," ").concat(f.fullRef).concat(u,"\n"))),u=""}catch(p){c.e(p)}finally{c.f()}return s.push(Vn.flush()),e.abrupt("return",s);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Qs(e){return eu.apply(this,arguments)}function eu(){return(eu=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o,f,p,l,d,h,g,v,x,b,R,_,E,S,j,P,A,O,I,B,C,N,D,U,T,M,F,H,z,G,W,q,K,$,L,V,Z,Y,J,X,Q,ee,te,re,ne,ae,ie,se,ue,ce,oe,fe,pe;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.fs,n=t.cache,a=t.http,i=t.onProgress,s=t.onMessage,u=t.onAuth,c=t.onAuthSuccess,o=t.onAuthFailure,f=t.gitdir,p=t.ref,l=t.remoteRef,d=t.remote,h=t.url,g=t.force,v=void 0!==g&&g,x=t.delete,b=void 0!==x&&x,R=t.corsProxy,_=t.headers,E=void 0===_?{}:_,e.t0=p,e.t0){e.next=6;break}return e.next=5,Mn({fs:r,gitdir:f});case 5:e.t0=e.sent;case 6:if(void 0!==(S=e.t0)){e.next=9;break}throw new Xt("ref");case 9:return e.next=11,Je.get({fs:r,gitdir:f});case 11:if(j=e.sent,e.t4=d,e.t4){e.next=17;break}return e.next=16,j.get("branch.".concat(S,".pushRemote"));case 16:e.t4=e.sent;case 17:if(e.t3=e.t4,e.t3){e.next=22;break}return e.next=21,j.get("remote.pushDefault");case 21:e.t3=e.sent;case 22:if(e.t2=e.t3,e.t2){e.next=27;break}return e.next=26,j.get("branch.".concat(S,".remote"));case 26:e.t2=e.sent;case 27:if(e.t1=e.t2,e.t1){e.next=30;break}e.t1="origin";case 30:if(d=e.t1,e.t6=h,e.t6){e.next=36;break}return e.next=35,j.get("remote.".concat(d,".pushurl"));case 35:e.t6=e.sent;case 36:if(e.t5=e.t6,e.t5){e.next=41;break}return e.next=40,j.get("remote.".concat(d,".url"));case 40:e.t5=e.sent;case 41:if(void 0!==(P=e.t5)){e.next=44;break}throw new Xt("remote OR url");case 44:if(e.t7=l,e.t7){e.next=49;break}return e.next=48,j.get("branch.".concat(S,".merge"));case 48:e.t7=e.sent;case 49:if(A=e.t7,void 0!==P){e.next=52;break}throw new Xt("remoteRef");case 52:if(void 0!==R){e.next=56;break}return e.next=55,j.get("http.corsProxy");case 55:R=e.sent;case 56:return e.next=58,et.expand({fs:r,gitdir:f,ref:S});case 58:if(O=e.sent,!b){e.next=63;break}e.t8="0000000000000000000000000000000000000000",e.next=66;break;case 63:return e.next=65,et.resolve({fs:r,gitdir:f,ref:O});case 65:e.t8=e.sent;case 66:return I=e.t8,B=ia.getRemoteHelperFor({url:P}),e.next=70,B.discover({http:a,onAuth:u,onAuthSuccess:c,onAuthFailure:o,corsProxy:R,service:"git-receive-pack",url:P,headers:E,protocolVersion:1});case 70:if(C=e.sent,N=C.auth,A){e.next=76;break}D=O,e.next=89;break;case 76:return e.prev=76,e.next=79,et.expandAgainstMap({ref:A,map:C.refs});case 79:D=e.sent,e.next=89;break;case 82:if(e.prev=82,e.t9=e.catch(76),!(e.t9 instanceof _e)){e.next=88;break}D=A.startsWith("refs/")?A:"refs/heads/".concat(A),e.next=89;break;case 88:throw e.t9;case 89:if(U=C.refs.get(D)||"0000000000000000000000000000000000000000",T=!C.capabilities.has("no-thin"),M=new Set,b){e.next=144;break}if(F=m(C.refs.values()),H=new Set,"0000000000000000000000000000000000000000"===U){e.next=105;break}return e.next=98,si({fs:r,cache:n,gitdir:f,oids:[I,U]});case 98:z=e.sent,G=w(z);try{for(G.s();!(W=G.n()).done;)q=W.value,F.push(q)}catch(le){G.e(le)}finally{G.f()}if(!T){e.next=105;break}return e.next=104,Ls({fs:r,cache:n,gitdir:f,oids:z});case 104:H=e.sent;case 105:if(F.includes(I)){e.next=112;break}return e.next=108,Ks({fs:r,cache:n,gitdir:f,start:[I],finish:F});case 108:return K=e.sent,e.next=111,Ls({fs:r,cache:n,gitdir:f,oids:K});case 111:M=e.sent;case 112:if(!T){e.next=134;break}return e.prev=113,e.next=116,et.resolve({fs:r,gitdir:f,ref:"refs/remotes/".concat(d,"/HEAD"),depth:2});case 116:return $=e.sent,e.next=119,et.resolveAgainstMap({ref:$.replace("refs/remotes/".concat(d,"/"),""),fullref:$,map:C.refs});case 119:return L=e.sent,V=L.oid,Z=[V],e.t10=w,e.next=125,Ls({fs:r,cache:n,gitdir:f,oids:Z});case 125:e.t11=e.sent,Y=(0,e.t10)(e.t11);try{for(Y.s();!(J=Y.n()).done;)X=J.value,H.add(X)}catch(le){Y.e(le)}finally{Y.f()}e.next=132;break;case 130:e.prev=130,e.t12=e.catch(113);case 132:Q=w(H);try{for(Q.s();!(ee=Q.n()).done;)te=ee.value,M.delete(te)}catch(le){Q.e(le)}finally{Q.f()}case 134:if(v){e.next=144;break}if(!O.startsWith("refs/tags")||"0000000000000000000000000000000000000000"===U){e.next=137;break}throw new er("tag-exists");case 137:if(e.t13="0000000000000000000000000000000000000000"!==I&&"0000000000000000000000000000000000000000"!==U,!e.t13){e.next=142;break}return e.next=141,Ji({fs:r,cache:n,gitdir:f,oid:I,ancestor:U,depth:-1});case 141:e.t13=!e.sent;case 142:if(!e.t13){e.next=144;break}throw new er("not-fast-forward");case 144:return re=ma(m(C.capabilities),["report-status","side-band-64k","agent=".concat(ga.agent)]),e.next=147,Js({capabilities:re,triplets:[{oldoid:U,oid:I,fullRef:D}]});case 147:if(ne=e.sent,!b){e.next=152;break}e.t14=[],e.next=155;break;case 152:return e.next=154,Ts({fs:r,cache:n,gitdir:f,oids:m(M)});case 154:e.t14=e.sent;case 155:return ae=e.t14,e.next=158,B.connect({http:a,onProgress:i,corsProxy:R,service:"git-receive-pack",url:P,auth:N,headers:E,body:[].concat(m(ne),m(ae))});case 158:return ie=e.sent,e.next=161,ka.demux(ie.body);case 161:return se=e.sent,ue=se.packfile,ce=se.progress,s&&Gn(ba(ce),function(){var e=k(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(t);case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),e.next=167,Zs(ue);case 167:if(oe=e.sent,ie.headers&&(oe.headers=ie.headers),!(d&&oe.ok&&oe.refs[D].ok)){e.next=178;break}if(fe="refs/remotes/".concat(d,"/").concat(D.replace("refs/heads","")),!b){e.next=176;break}return e.next=174,et.deleteRef({fs:r,gitdir:f,ref:fe});case 174:e.next=178;break;case 176:return e.next=178,et.writeRef({fs:r,gitdir:f,ref:fe,value:I});case 178:if(!oe.ok||!Object.values(oe.refs).every(function(e){return e.ok})){e.next=182;break}return e.abrupt("return",oe);case 182:throw pe=Object.entries(oe.refs).filter(function(e){var t=y(e,2);t[0];return!t[1].ok}).map(function(e){var t=y(e,2),r=t[0],n=t[1];return"\n  - ".concat(r,": ").concat(n.error)}).join(""),new Kt(pe,oe);case 184:case"end":return e.stop()}},e,null,[[76,82],[113,130]])}))).apply(this,arguments)}function tu(e){return ru.apply(this,arguments)}function ru(){return(ru=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o,f,p,l,d,h,m,g,v,x,b,k,w,y,R;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.http,a=t.onProgress,i=t.onMessage,s=t.onAuth,u=t.onAuthSuccess,c=t.onAuthFailure,o=t.dir,f=t.gitdir,p=void 0===f?Ce(o,".git"):f,l=t.ref,d=t.remoteRef,h=t.remote,m=void 0===h?"origin":h,g=t.url,v=t.force,x=void 0!==v&&v,b=t.delete,k=void 0!==b&&b,w=t.corsProxy,y=t.headers,R=void 0===y?{}:y,e.prev=1,Tr("fs",r),Tr("http",n),Tr("gitdir",p),e.next=7,Qs({fs:new Sr(r),cache:{},http:n,onProgress:a,onMessage:i,onAuth:s,onAuthSuccess:u,onAuthFailure:c,gitdir:p,ref:l,remoteRef:d,remote:m,url:g,force:x,delete:k,corsProxy:w,headers:R});case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(1),e.t0.caller="git.push",e.t0;case 14:case"end":return e.stop()}},e,null,[[1,10]])}))).apply(this,arguments)}function nu(e){return au.apply(this,arguments)}function au(){return(au=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.cache,a=t.gitdir,i=t.oid,e.next=3,Tt({fs:r,cache:n,gitdir:a,oid:i});case 3:if(s=e.sent,u=s.type,c=s.object,"tag"!==u){e.next=9;break}return i=mr.from(c).parse().object,e.abrupt("return",nu({fs:r,cache:n,gitdir:a,oid:i}));case 9:if("blob"===u){e.next=11;break}throw new Ee(i,u,"blob");case 11:return e.abrupt("return",{oid:i,blob:new Uint8Array(c)});case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function iu(e){return su.apply(this,arguments)}function su(){return(su=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.fs,n=t.cache,a=t.gitdir,i=t.oid,s=t.filepath,void 0===(u=void 0===s?void 0:s)){e.next=5;break}return e.next=4,$r({fs:r,cache:n,gitdir:a,oid:i,filepath:u});case 4:i=e.sent;case 5:return e.next=7,nu({fs:r,cache:n,gitdir:a,oid:i});case 7:return c=e.sent,e.abrupt("return",c);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function uu(e){return cu.apply(this,arguments)}function cu(){return(cu=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.dir,a=t.gitdir,i=void 0===a?Ce(n,".git"):a,s=t.oid,u=t.filepath,e.prev=1,Tr("fs",r),Tr("gitdir",i),Tr("oid",s),e.next=7,iu({fs:new Sr(r),cache:{},gitdir:i,oid:s,filepath:u});case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(1),e.t0.caller="git.readBlob",e.t0;case 14:case"end":return e.stop()}},e,null,[[1,10]])}))).apply(this,arguments)}function ou(e){return fu.apply(this,arguments)}function fu(){return(fu=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.dir,a=t.gitdir,i=void 0===a?Ce(n,".git"):a,s=t.oid,e.prev=1,Tr("fs",r),Tr("gitdir",i),Tr("oid",s),e.next=7,js({fs:new Sr(r),cache:{},gitdir:i,oid:s});case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(1),e.t0.caller="git.readCommit",e.t0;case 14:case"end":return e.stop()}},e,null,[[1,10]])}))).apply(this,arguments)}function pu(e){return lu.apply(this,arguments)}function lu(){return(lu=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.cache,a=t.gitdir,i=t.ref,s=void 0===i?"refs/notes/commits":i,u=t.oid,e.next=3,et.resolve({gitdir:a,fs:r,ref:s});case 3:return c=e.sent,e.next=6,iu({fs:r,cache:n,gitdir:a,oid:c,filepath:u});case 6:return o=e.sent,f=o.blob,e.abrupt("return",f);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function du(e){return hu.apply(this,arguments)}function hu(){return(hu=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.dir,a=t.gitdir,i=void 0===a?Ce(n,".git"):a,s=t.ref,u=void 0===s?"refs/notes/commits":s,c=t.oid,e.prev=1,Tr("fs",r),Tr("gitdir",i),Tr("ref",u),Tr("oid",c),e.next=8,pu({fs:new Sr(r),cache:{},gitdir:i,ref:u,oid:c});case 8:return e.abrupt("return",e.sent);case 11:throw e.prev=11,e.t0=e.catch(1),e.t0.caller="git.readNote",e.t0;case 15:case"end":return e.stop()}},e,null,[[1,11]])}))).apply(this,arguments)}function mu(e){return gu.apply(this,arguments)}function gu(){return(gu=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o,f,p,l,d,h,m,g;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.fs,n=t.dir,a=t.gitdir,i=void 0===a?Ce(n,".git"):a,s=t.oid,u=t.format,c=void 0===u?"parsed":u,o=t.filepath,f=void 0===o?void 0:o,p=t.encoding,l=void 0===p?void 0:p,e.prev=1,Tr("fs",r),Tr("gitdir",i),Tr("oid",s),d={},h=new Sr(r),void 0===f){e.next=11;break}return e.next=10,$r({fs:h,cache:d,gitdir:i,oid:s,filepath:f});case 10:s=e.sent;case 11:return m="parsed"===c?"content":c,e.next=14,Tt({fs:h,cache:d,gitdir:i,oid:s,format:m});case 14:if((g=e.sent).oid=s,"parsed"!==c){e.next=32;break}g.format="parsed",e.t0=g.type,e.next="commit"===e.t0?21:"tree"===e.t0?23:"blob"===e.t0?25:"tag"===e.t0?27:29;break;case 21:return g.object=xr.from(g.object).parse(),e.abrupt("break",30);case 23:return g.object=ut.from(g.object).entries(),e.abrupt("break",30);case 25:return l?g.object=g.object.toString(l):(g.object=new Uint8Array(g.object),g.format="content"),e.abrupt("break",30);case 27:return g.object=mr.from(g.object).parse(),e.abrupt("break",30);case 29:throw new Ee(g.oid,g.type,"blob|commit|tag|tree");case 30:e.next=33;break;case 32:"deflated"!==g.format&&"wrapped"!==g.format||(g.type=g.format);case 33:return e.abrupt("return",g);case 36:throw e.prev=36,e.t1=e.catch(1),e.t1.caller="git.readObject",e.t1;case 40:case"end":return e.stop()}},e,null,[[1,36]])}))).apply(this,arguments)}function vu(e){return xu.apply(this,arguments)}function xu(){return(xu=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.cache,a=t.gitdir,i=t.oid,e.next=3,Tt({fs:r,cache:n,gitdir:a,oid:i,format:"content"});case 3:if(s=e.sent,u=s.type,c=s.object,"tag"===u){e.next=8;break}throw new Ee(i,u,"tag");case 8:return o=mr.from(c),f={oid:i,tag:o.parse(),payload:o.payload()},e.abrupt("return",f);case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}function bu(e){return ku.apply(this,arguments)}function ku(){return(ku=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.dir,a=t.gitdir,i=void 0===a?Ce(n,".git"):a,s=t.oid,e.prev=1,Tr("fs",r),Tr("gitdir",i),Tr("oid",s),e.next=7,vu({fs:new Sr(r),cache:{},gitdir:i,oid:s});case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(1),e.t0.caller="git.readTag",e.t0;case 14:case"end":return e.stop()}},e,null,[[1,10]])}))).apply(this,arguments)}function wu(e){return yu.apply(this,arguments)}function yu(){return(yu=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.dir,a=t.gitdir,i=void 0===a?Ce(n,".git"):a,s=t.oid,u=t.filepath,c=void 0===u?void 0:u,e.prev=1,Tr("fs",r),Tr("gitdir",i),Tr("oid",s),e.next=7,Yr({fs:new Sr(r),cache:{},gitdir:i,oid:s,filepath:c});case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(1),e.t0.caller="git.readTree",e.t0;case 14:case"end":return e.stop()}},e,null,[[1,10]])}))).apply(this,arguments)}function Ru(e){return _u.apply(this,arguments)}function _u(){return(_u=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.dir,a=t.gitdir,i=void 0===a?Ce(n,".git"):a,s=t.filepath,e.prev=1,Tr("fs",r),Tr("gitdir",i),Tr("filepath",s),u={},e.next=8,ge.acquire({fs:new Sr(r),gitdir:i,cache:u},function(){var e=k(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.delete({filepath:s});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 8:e.next=14;break;case 10:throw e.prev=10,e.t0=e.catch(1),e.t0.caller="git.remove",e.t0;case 14:case"end":return e.stop()}},e,null,[[1,10]])}))).apply(this,arguments)}function Eu(e){return Su.apply(this,arguments)}function Su(){return(Su=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o,f,p,l,d,h,m,g;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.cache,a=t.onSign,i=t.gitdir,s=t.ref,u=void 0===s?"refs/notes/commits":s,c=t.oid,o=t.author,f=t.committer,p=t.signingKey,e.prev=1,e.next=4,et.resolve({gitdir:i,fs:r,ref:u});case 4:l=e.sent,e.next=11;break;case 7:if(e.prev=7,e.t0=e.catch(1),e.t0 instanceof _e){e.next=11;break}throw e.t0;case 11:return e.next=13,Yr({fs:r,gitdir:i,oid:l||"4b825dc642cb6eb9a060e54bf8d69288fbee4904"});case 13:return d=e.sent,h=(h=d.tree).filter(function(e){return e.path!==c}),e.next=18,Xr({fs:r,gitdir:i,tree:h});case 18:return m=e.sent,e.next=21,Gr({fs:r,cache:n,onSign:a,gitdir:i,ref:u,tree:m,parent:l&&[l],message:"Note removed by 'isomorphic-git removeNote'\n",author:o,committer:f,signingKey:p});case 21:return g=e.sent,e.abrupt("return",g);case 23:case"end":return e.stop()}},e,null,[[1,7]])}))).apply(this,arguments)}function ju(e){return Pu.apply(this,arguments)}function Pu(){return(Pu=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o,f,p,l,d,h,m,g;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.onSign,a=t.dir,i=t.gitdir,s=void 0===i?Ce(a,".git"):i,u=t.ref,c=void 0===u?"refs/notes/commits":u,o=t.oid,f=t.author,p=t.committer,l=t.signingKey,e.prev=1,Tr("fs",r),Tr("gitdir",s),Tr("oid",o),d=new Sr(r),h={},e.next=9,an({fs:d,gitdir:s,author:f});case 9:if(m=e.sent){e.next=12;break}throw new Jt("author");case 12:return e.next=14,un({fs:d,gitdir:s,author:m,committer:p});case 14:if(g=e.sent){e.next=17;break}throw new Jt("committer");case 17:return e.next=19,Eu({fs:d,cache:h,onSign:n,gitdir:s,ref:c,oid:o,author:m,committer:g,signingKey:l});case 19:return e.abrupt("return",e.sent);case 22:throw e.prev=22,e.t0=e.catch(1),e.t0.caller="git.removeNote",e.t0;case 26:case"end":return e.stop()}},e,null,[[1,22]])}))).apply(this,arguments)}function Au(e){return Ou.apply(this,arguments)}function Ou(){return(Ou=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,c,o,f,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.fs,n=t.gitdir,a=t.oldref,i=t.ref,s=t.checkout,c=void 0!==s&&s,i===u.default.clean(i)){e.next=3;break}throw new Vt(i,u.default.clean(i));case 3:if(a===u.default.clean(a)){e.next=5;break}throw new Vt(a,u.default.clean(a));case 5:return o="refs/heads/".concat(a),f="refs/heads/".concat(i),e.next=9,et.exists({fs:r,gitdir:n,ref:f});case 9:if(!e.sent){e.next=12;break}throw new Ft("branch",i,!1);case 12:return e.next=14,et.resolve({fs:r,gitdir:n,ref:o,depth:1});case 14:return p=e.sent,e.next=17,et.writeRef({fs:r,gitdir:n,ref:f,value:p});case 17:return e.next=19,et.deleteRef({fs:r,gitdir:n,ref:o});case 19:if(!c){e.next=22;break}return e.next=22,et.writeSymbolicRef({fs:r,gitdir:n,ref:"HEAD",value:f});case 22:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Iu(e){return Bu.apply(this,arguments)}function Bu(){return(Bu=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.dir,a=t.gitdir,i=void 0===a?Ce(n,".git"):a,s=t.ref,u=t.oldref,c=t.checkout,o=void 0!==c&&c,e.prev=1,Tr("fs",r),Tr("gitdir",i),Tr("ref",s),Tr("oldref",u),e.next=8,Au({fs:new Sr(r),gitdir:i,ref:s,oldref:u,checkout:o});case 8:return e.abrupt("return",e.sent);case 11:throw e.prev=11,e.t0=e.catch(1),e.t0.caller="git.renameBranch",e.t0;case 15:case"end":return e.stop()}},e,null,[[1,11]])}))).apply(this,arguments)}function Cu(e){return Nu.apply(this,arguments)}function Nu(){return(Nu=k(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.gitdir,r=t.type,n=t.object,e.abrupt("return",Q(ct.wrap({type:r,object:n})));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Du(e){return Uu.apply(this,arguments)}function Uu(){return(Uu=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o,f,p,l,d,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.dir,a=t.gitdir,i=void 0===a?Ce(n,".git"):a,s=t.filepath,u=t.ref,c=void 0===u?"HEAD":u,e.prev=1,Tr("fs",r),Tr("gitdir",i),Tr("filepath",s),Tr("ref",c),o=new Sr(r),f={},e.next=10,et.resolve({fs:o,gitdir:i,ref:c});case 10:return p=e.sent,e.prev=11,e.next=14,$r({fs:o,cache:f,gitdir:i,oid:p,filepath:s});case 14:p=e.sent,e.next=20;break;case 17:e.prev=17,e.t0=e.catch(11),p=null;case 20:if(d={ctime:new Date(0),mtime:new Date(0),dev:0,ino:0,mode:0,uid:0,gid:0,size:0},e.t1=n,!e.t1){e.next=26;break}return e.next=25,o.read(Ce(n,s));case 25:e.t1=e.sent;case 26:if(!(h=e.t1)){e.next=35;break}return e.next=30,Cu({gitdir:i,type:"blob",object:h});case 30:if(l=e.sent,p!==l){e.next=35;break}return e.next=34,o.lstat(Ce(n,s));case 34:d=e.sent;case 35:return e.next=37,ge.acquire({fs:o,gitdir:i,cache:f},function(){var e=k(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.delete({filepath:s}),p&&t.insert({filepath:s,stats:d,oid:p});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 37:e.next=43;break;case 39:throw e.prev=39,e.t2=e.catch(1),e.t2.caller="git.reset",e.t2;case 43:case"end":return e.stop()}},e,null,[[1,39],[11,17]])}))).apply(this,arguments)}function Tu(e){return Mu.apply(this,arguments)}function Mu(){return(Mu=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.dir,a=t.gitdir,i=void 0===a?Ce(n,".git"):a,s=t.ref,u=t.depth,e.prev=1,Tr("fs",r),Tr("gitdir",i),Tr("ref",s),e.next=7,et.resolve({fs:new Sr(r),gitdir:i,ref:s,depth:u});case 7:return c=e.sent,e.abrupt("return",c);case 11:throw e.prev=11,e.t0=e.catch(1),e.t0.caller="git.resolveRef",e.t0;case 15:case"end":return e.stop()}},e,null,[[1,11]])}))).apply(this,arguments)}function Fu(e){return Hu.apply(this,arguments)}function Hu(){return(Hu=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o,f,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.dir,a=t.gitdir,i=void 0===a?Ce(n,".git"):a,s=t.path,u=t.value,c=t.append,o=void 0!==c&&c,e.prev=1,Tr("fs",r),Tr("gitdir",i),Tr("path",s),f=new Sr(r),e.next=8,Je.get({fs:f,gitdir:i});case 8:if(p=e.sent,!o){e.next=14;break}return e.next=12,p.append(s,u);case 12:e.next=16;break;case 14:return e.next=16,p.set(s,u);case 16:return e.next=18,Je.save({fs:f,gitdir:i,config:p});case 18:e.next=24;break;case 20:throw e.prev=20,e.t0=e.catch(1),e.t0.caller="git.setConfig",e.t0;case 24:case"end":return e.stop()}},e,null,[[1,20]])}))).apply(this,arguments)}function zu(e){return Gu.apply(this,arguments)}function Gu(){return(Gu=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o,f,p,l,d,h,m,g,v,x,b;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.dir,a=t.gitdir,i=void 0===a?Ce(n,".git"):a,s=t.filepath,e.prev=1,Tr("fs",r),Tr("gitdir",i),Tr("filepath",s),u=new Sr(r),c={},e.next=9,Er.isIgnored({fs:u,gitdir:i,dir:n,filepath:s});case 9:if(!e.sent){e.next=12;break}return e.abrupt("return","ignored");case 12:return e.next=14,Ku({fs:u,cache:c,gitdir:i});case 14:return o=e.sent,e.next=17,Wu({fs:u,cache:c,gitdir:i,tree:o,path:s});case 17:return f=e.sent,e.next=20,ge.acquire({fs:u,gitdir:i,cache:c},function(){var e=k(regeneratorRuntime.mark(function e(t){var r,n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=w(t),e.prev=1,r.s();case 3:if((n=r.n()).done){e.next=9;break}if((a=n.value).path!==s){e.next=7;break}return e.abrupt("return",a);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),r.e(e.t0);case 14:return e.prev=14,r.f(),e.finish(14);case 17:return e.abrupt("return",null);case 18:case"end":return e.stop()}},e,null,[[1,11,14,17]])}));return function(t){return e.apply(this,arguments)}}());case 20:return p=e.sent,e.next=23,u.lstat(Ce(n,s));case 23:if(l=e.sent,d=null!==f,h=null!==p,m=null!==l,g=function(){var e=k(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!h||oe(p,l)){e.next=4;break}return e.abrupt("return",p.oid);case 4:return e.next=6,u.read(Ce(n,s));case 6:return t=e.sent,e.next=9,Cu({gitdir:i,type:"blob",object:t});case 9:return r=e.sent,h&&p.oid===r&&-1!==l.size&&ge.acquire({fs:u,gitdir:i,cache:c},function(){var e=k(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.insert({filepath:s,stats:l,oid:r});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",r);case 12:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),d||m||h){e.next=30;break}return e.abrupt("return","absent");case 30:if(d||m||!h){e.next=32;break}return e.abrupt("return","*absent");case 32:if(d||!m||h){e.next=34;break}return e.abrupt("return","*added");case 34:if(d||!m||!h){e.next=39;break}return e.next=37,g();case 37:return v=e.sent,e.abrupt("return",v===p.oid?"added":"*added");case 39:if(!d||m||h){e.next=41;break}return e.abrupt("return","deleted");case 41:if(!d||m||!h){e.next=43;break}return e.abrupt("return",(p.oid,"*deleted"));case 43:if(!d||!m||h){e.next=48;break}return e.next=46,g();case 46:return x=e.sent,e.abrupt("return",x===f?"*undeleted":"*undeletemodified");case 48:if(!(d&&m&&h)){e.next=57;break}return e.next=51,g();case 51:if((b=e.sent)!==f){e.next=56;break}return e.abrupt("return",b===p.oid?"unmodified":"*unmodified");case 56:return e.abrupt("return",b===p.oid?"modified":"*modified");case 57:e.next=63;break;case 59:throw e.prev=59,e.t0=e.catch(1),e.t0.caller="git.status",e.t0;case 63:case"end":return e.stop()}},e,null,[[1,59]])}))).apply(this,arguments)}function Wu(e){return qu.apply(this,arguments)}function qu(){return(qu=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o,f,p,l,d,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t.fs,n=t.cache,a=t.gitdir,i=t.tree,"string"==typeof(s=t.path)&&(s=s.split("/")),u=s.shift(),c=w(i),e.prev=4,c.s();case 6:if((o=c.n()).done){e.next=23;break}if((f=o.value).path!==u){e.next=21;break}if(0!==s.length){e.next=11;break}return e.abrupt("return",f.oid);case 11:return e.next=13,Tt({fs:r,cache:n,gitdir:a,oid:f.oid});case 13:if(p=e.sent,l=p.type,d=p.object,"tree"!==l){e.next=19;break}return h=ut.from(d),e.abrupt("return",Wu({fs:r,cache:n,gitdir:a,tree:h,path:s}));case 19:if("blob"!==l){e.next=21;break}throw new Ee(f.oid,l,"blob",s.join("/"));case 21:e.next=6;break;case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(4),c.e(e.t0);case 28:return e.prev=28,c.f(),e.finish(28);case 31:return e.abrupt("return",null);case 32:case"end":return e.stop()}},e,null,[[4,25,28,31]])}))).apply(this,arguments)}function Ku(e){return $u.apply(this,arguments)}function $u(){return($u=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.cache,a=t.gitdir,e.prev=1,e.next=4,et.resolve({fs:r,gitdir:a,ref:"HEAD"});case 4:i=e.sent,e.next=11;break;case 7:if(e.prev=7,e.t0=e.catch(1),!(e.t0 instanceof _e)){e.next=11;break}return e.abrupt("return",[]);case 11:return e.next=13,Yr({fs:r,cache:n,gitdir:a,oid:i});case 13:return s=e.sent,u=s.tree,e.abrupt("return",u);case 16:case"end":return e.stop()}},e,null,[[1,7]])}))).apply(this,arguments)}function Lu(e){return Vu.apply(this,arguments)}function Vu(){return(Vu=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o,f,p,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.dir,a=t.gitdir,i=void 0===a?Ce(n,".git"):a,s=t.ref,u=void 0===s?"HEAD":s,c=t.filepaths,o=void 0===c?["."]:c,f=t.filter,e.prev=1,Tr("fs",r),Tr("gitdir",i),Tr("ref",u),p=new Sr(r),l={},e.next=9,jn({fs:p,cache:l,dir:n,gitdir:i,trees:[yr({ref:u}),_r(),Re()],map:function(){var e=k(regeneratorRuntime.mark(function e(t,r){var a,i,s,u,c,l,d,h,g,v,x,b;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=y(r,3),i=a[0],s=a[1],u=a[2],i||u||!s){e.next=6;break}return e.next=4,Er.isIgnored({fs:p,dir:n,filepath:t});case 4:if(!e.sent){e.next=6;break}return e.abrupt("return",null);case 6:if(o.some(function(e){return An(t,e)})){e.next=8;break}return e.abrupt("return",null);case 8:if(!f){e.next=11;break}if(f(t)){e.next=11;break}return e.abrupt("return");case 11:if(e.t0=i,!e.t0){e.next=16;break}return e.next=15,i.type();case 15:e.t0=e.sent;case 16:if("tree"!==(c=e.t0)&&"special"!==c){e.next=19;break}return e.abrupt("return");case 19:if("commit"!==c){e.next=21;break}return e.abrupt("return",null);case 21:if(e.t1=s,!e.t1){e.next=26;break}return e.next=25,s.type();case 25:e.t1=e.sent;case 26:if("tree"!==(l=e.t1)&&"special"!==l){e.next=29;break}return e.abrupt("return");case 29:if(e.t2=u,!e.t2){e.next=34;break}return e.next=33,u.type();case 33:e.t2=e.sent;case 34:if("commit"!==(d=e.t2)){e.next=37;break}return e.abrupt("return",null);case 37:if("tree"!==d&&"special"!==d){e.next=39;break}return e.abrupt("return");case 39:if(!i){e.next=45;break}return e.next=42,i.oid();case 42:e.t3=e.sent,e.next=46;break;case 45:e.t3=void 0;case 46:if(h=e.t3,!u){e.next=53;break}return e.next=50,u.oid();case 50:e.t4=e.sent,e.next=54;break;case 53:e.t4=void 0;case 54:if(g=e.t4,i||!s||u){e.next=59;break}v="42",e.next=63;break;case 59:if(!s){e.next=63;break}return e.next=62,s.oid();case 62:v=e.sent;case 63:return(b=(x=[void 0,h,v,g]).map(function(e){return x.indexOf(e)})).shift(),e.abrupt("return",[t].concat(m(b)));case 67:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}()});case 9:return e.abrupt("return",e.sent);case 12:throw e.prev=12,e.t0=e.catch(1),e.t0.caller="git.statusMatrix",e.t0;case 16:case"end":return e.stop()}},e,null,[[1,12]])}))).apply(this,arguments)}function Zu(e){return Yu.apply(this,arguments)}function Yu(){return(Yu=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o,f,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.fs,n=t.dir,a=t.gitdir,i=void 0===a?Ce(n,".git"):a,s=t.ref,u=t.object,c=t.force,o=void 0!==c&&c,e.prev=1,Tr("fs",r),Tr("gitdir",i),Tr("ref",s),f=new Sr(r),void 0!==s){e.next=8;break}throw new Xt("ref");case 8:return s=s.startsWith("refs/tags/")?s:"refs/tags/".concat(s),e.next=11,et.resolve({fs:f,gitdir:i,ref:u||"HEAD"});case 11:if(p=e.sent,e.t0=!o,!e.t0){e.next=17;break}return e.next=16,et.exists({fs:f,gitdir:i,ref:s});case 16:e.t0=e.sent;case 17:if(!e.t0){e.next=19;break}throw new Ft("tag",s);case 19:return e.next=21,et.writeRef({fs:f,gitdir:i,ref:s,value:p});case 21:e.next=27;break;case 23:throw e.prev=23,e.t1=e.catch(1),e.t1.caller="git.tag",e.t1;case 27:case"end":return e.stop()}},e,null,[[1,23]])}))).apply(this,arguments)}function Ju(){try{return ga.version}catch(e){throw e.caller="git.version",e}}function Xu(e){return Qu.apply(this,arguments)}function Qu(){return(Qu=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,c,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.dir,a=t.gitdir,i=void 0===a?Ce(n,".git"):a,s=t.trees,u=t.map,c=t.reduce,o=t.iterate,e.prev=1,Tr("fs",r),Tr("gitdir",i),Tr("trees",s),e.next=7,jn({fs:new Sr(r),cache:{},dir:n,gitdir:i,trees:s,map:u,reduce:c,iterate:o});case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(1),e.t0.caller="git.walk",e.t0;case 14:case"end":return e.stop()}},e,null,[[1,10]])}))).apply(this,arguments)}function ec(e){return tc.apply(this,arguments)}function tc(){return(tc=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.dir,a=t.gitdir,i=void 0===a?Ce(n,".git"):a,s=t.blob,e.prev=1,Tr("fs",r),Tr("gitdir",i),Tr("blob",s),e.next=7,Dr({fs:new Sr(r),gitdir:i,type:"blob",object:s,format:"content"});case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(1),e.t0.caller="git.writeBlob",e.t0;case 14:case"end":return e.stop()}},e,null,[[1,10]])}))).apply(this,arguments)}function rc(e){return nc.apply(this,arguments)}function nc(){return(nc=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.gitdir,a=t.commit,i=xr.from(a).toObject(),e.next=4,Dr({fs:r,gitdir:n,type:"commit",object:i,format:"content"});case 4:return s=e.sent,e.abrupt("return",s);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ac(e){return ic.apply(this,arguments)}function ic(){return(ic=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.dir,a=t.gitdir,i=void 0===a?Ce(n,".git"):a,s=t.commit,e.prev=1,Tr("fs",r),Tr("gitdir",i),Tr("commit",s),e.next=7,rc({fs:new Sr(r),gitdir:i,commit:s});case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(1),e.t0.caller="git.writeCommit",e.t0;case 14:case"end":return e.stop()}},e,null,[[1,10]])}))).apply(this,arguments)}function sc(e){return uc.apply(this,arguments)}function uc(){return(uc=k(regeneratorRuntime.mark(function t(r){var n,a,i,s,u,c,o,f,p,l,d,h;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.fs,a=r.dir,i=r.gitdir,s=void 0===i?Ce(a,".git"):i,u=r.type,c=r.object,o=r.format,f=void 0===o?"parsed":o,p=r.oid,l=r.encoding,d=void 0===l?void 0:l,t.prev=1,h=new Sr(n),"parsed"!==f){t.next=17;break}t.t0=u,t.next="commit"===t.t0?7:"tree"===t.t0?9:"blob"===t.t0?11:"tag"===t.t0?13:15;break;case 7:return c=xr.from(c).toObject(),t.abrupt("break",16);case 9:return c=ut.from(c).toObject(),t.abrupt("break",16);case 11:return c=e.from(c,d),t.abrupt("break",16);case 13:return c=mr.from(c).toObject(),t.abrupt("break",16);case 15:throw new Ee(p||"",u,"blob|commit|tag|tree");case 16:f="content";case 17:return t.next=19,Dr({fs:h,gitdir:s,type:u,object:c,oid:p,format:f});case 19:return p=t.sent,t.abrupt("return",p);case 23:throw t.prev=23,t.t1=t.catch(1),t.t1.caller="git.writeObject",t.t1;case 27:case"end":return t.stop()}},t,null,[[1,23]])}))).apply(this,arguments)}function cc(e){return oc.apply(this,arguments)}function oc(){return(oc=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,c,o,f,p,l,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.fs,n=t.dir,a=t.gitdir,i=void 0===a?Ce(n,".git"):a,s=t.ref,c=t.value,o=t.force,f=void 0!==o&&o,p=t.symbolic,l=void 0!==p&&p,e.prev=1,Tr("fs",r),Tr("gitdir",i),Tr("ref",s),Tr("value",c),d=new Sr(r),s===u.default.clean(s)){e.next=9;break}throw new Vt(s,u.default.clean(s));case 9:if(e.t0=!f,!e.t0){e.next=14;break}return e.next=13,et.exists({fs:d,gitdir:i,ref:s});case 13:e.t0=e.sent;case 14:if(!e.t0){e.next=16;break}throw new Ft("ref",s);case 16:if(!l){e.next=21;break}return e.next=19,et.writeSymbolicRef({fs:d,gitdir:i,ref:s,value:c});case 19:e.next=26;break;case 21:return e.next=23,et.resolve({fs:d,gitdir:i,ref:c});case 23:return c=e.sent,e.next=26,et.writeRef({fs:d,gitdir:i,ref:s,value:c});case 26:e.next=32;break;case 28:throw e.prev=28,e.t1=e.catch(1),e.t1.caller="git.writeRef",e.t1;case 32:case"end":return e.stop()}},e,null,[[1,28]])}))).apply(this,arguments)}function fc(e){return pc.apply(this,arguments)}function pc(){return(pc=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.gitdir,a=t.tag,i=mr.from(a).toObject(),e.next=4,Dr({fs:r,gitdir:n,type:"tag",object:i,format:"content"});case 4:return s=e.sent,e.abrupt("return",s);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function lc(e){return dc.apply(this,arguments)}function dc(){return(dc=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.dir,a=t.gitdir,i=void 0===a?Ce(n,".git"):a,s=t.tag,e.prev=1,Tr("fs",r),Tr("gitdir",i),Tr("tag",s),e.next=7,fc({fs:new Sr(r),gitdir:i,tag:s});case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(1),e.t0.caller="git.writeTag",e.t0;case 14:case"end":return e.stop()}},e,null,[[1,10]])}))).apply(this,arguments)}function hc(e){return mc.apply(this,arguments)}function mc(){return(mc=k(regeneratorRuntime.mark(function e(t){var r,n,a,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.dir,a=t.gitdir,i=void 0===a?Ce(n,".git"):a,s=t.tree,e.prev=1,Tr("fs",r),Tr("gitdir",i),Tr("tree",s),e.next=7,Xr({fs:new Sr(r),gitdir:i,tree:s});case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(1),e.t0.caller="git.writeTree",e.t0;case 14:case"end":return e.stop()}},e,null,[[1,10]])}))).apply(this,arguments)}var gc={Errors:sr,STAGE:Re,TREE:yr,WORKDIR:_r,add:Mr,addNote:on,addRemote:dn,annotatedTag:vn,branch:wn,checkout:Nn,clone:Oa,commit:Ba,getConfig:Oi,getConfigAll:Ni,setConfig:Fu,currentBranch:Na,deleteBranch:Ma,deleteRef:Ha,deleteRemote:qa,deleteTag:Va,expandOid:ri,expandRef:ai,fastForward:ki,fetch:yi,findMergeBase:_i,findRoot:Pi,getRemoteInfo:Ui,getRemoteInfo2:Fi,hashBlob:Wi,indexPack:Li,init:Zi,isDescendent:Qi,listBranches:ts,listFiles:us,listNotes:ps,listRemotes:ms,listServerRefs:ws,listTags:Rs,log:Bs,merge:Ns,packObjects:zs,pull:Ws,push:tu,readBlob:uu,readCommit:ou,readNote:du,readObject:mu,readTag:bu,readTree:wu,remove:Ru,removeNote:ju,renameBranch:Iu,resetIndex:Du,resolveRef:Tu,status:zu,statusMatrix:Lu,tag:Zu,version:Ju,walk:Xu,writeBlob:ec,writeCommit:ac,writeObject:sc,writeRef:cc,writeTag:lc,writeTree:hc},vc=gc;exports.default=vc;
},{"async-lock":"WflA","sha.js/sha1.js":"iGWE","crc-32":"fZgm","pako":"VwsR","ignore":"uWrb","pify":"WsXn","clean-git-ref":"HFzr","diff3":"P8MV","buffer":"aMB2"}],"niio":[function(require,module,exports) {
var define;
var e;((t,a)=>{"undefined"!=typeof module?module.exports=a():"function"==typeof e&&"object"==typeof e.amd?e(a):this.streamSaver=a()})(0,()=>{"use strict";let e=null,t=!1;const a=window.WebStreamsPolyfill||{},n=window.isSecureContext;let r=/constructor/i.test(window.HTMLElement)||!!window.safari||!!window.WebKitPoint;const o=n||"MozAppearance"in document.documentElement.style?"iframe":"navigate",s={createWriteStream:function(a,l,d){let m={size:null,pathname:null,writableStrategy:void 0,readableStrategy:void 0},c=0,p=null,w=null,u=null;Number.isFinite(l)?([d,l]=[l,d],console.warn("[StreamSaver] Depricated pass an object as 2nd argument when creating a write stream"),m.size=d,m.writableStrategy=l):l&&l.highWaterMark?(console.warn("[StreamSaver] Depricated pass an object as 2nd argument when creating a write stream"),m.size=d,m.writableStrategy=l):m=l||{};if(!r){e||(e=n?i(s.mitm):function(e){const t=document.createDocumentFragment(),a={frame:window.open(e,"popup","width=200,height=100"),loaded:!1,isIframe:!1,isPopup:!0,remove(){a.frame.close()},addEventListener(...e){t.addEventListener(...e)},dispatchEvent(...e){t.dispatchEvent(...e)},removeEventListener(...e){t.removeEventListener(...e)},postMessage(...e){a.frame.postMessage(...e)}},n=e=>{e.source===a.frame&&(a.loaded=!0,window.removeEventListener("message",n),a.dispatchEvent(new Event("load")))};return window.addEventListener("message",n),a}(s.mitm)),w=new MessageChannel,a=encodeURIComponent(a.replace(/\//g,":")).replace(/['()]/g,escape).replace(/\*/g,"%2A");const r={transferringReadable:t,pathname:m.pathname||Math.random().toString().slice(-6)+"/"+a,headers:{"Content-Type":"application/octet-stream; charset=utf-8","Content-Disposition":"attachment; filename*=UTF-8''"+a}};m.size&&(r.headers["Content-Length"]=m.size);const l=[r,"*",[w.port2]];if(t){const e="iframe"===o?void 0:{transform(e,t){c+=e.length,t.enqueue(e),p&&(location.href=p,p=null)},flush(){p&&(location.href=p)}},t=(u=new s.TransformStream(e,m.writableStrategy,m.readableStrategy)).readable;w.port1.postMessage({readableStream:t},[t])}w.port1.onmessage=(t=>{t.data.download&&("navigate"===o?(e.remove(),e=null,c?location.href=t.data.download:p=t.data.download):(e.isPopup&&(e.remove(),"iframe"===o&&i(s.mitm)),i(t.data.download)))}),e.loaded?e.postMessage(...l):e.addEventListener("load",()=>{e.postMessage(...l)},{once:!0})}let g=[];return!r&&u&&u.writable||new s.WritableStream({write(e){r?g.push(e):(w.port1.postMessage(e),c+=e.length,p&&(location.href=p,p=null))},close(){if(r){const e=new Blob(g,{type:"application/octet-stream; charset=utf-8"}),t=document.createElement("a");t.href=URL.createObjectURL(e),t.download=a,t.click()}else w.port1.postMessage("end")},abort(){g=[],w.port1.postMessage("abort"),w.port1.onmessage=null,w.port1.close(),w.port2.close(),w=null}},m.writableStrategy)},WritableStream:window.WritableStream||a.WritableStream,supported:!0,version:{full:"2.0.0",major:2,minor:0,dot:0},mitm:"https://jimmywarting.github.io/StreamSaver.js/mitm.html?version=2.0.0"};function i(e){if(!e)throw new Error("meh");const t=document.createElement("iframe");return t.hidden=!0,t.src=e,t.loaded=!1,t.name="iframe",t.isIframe=!0,t.postMessage=((...e)=>t.contentWindow.postMessage(...e)),t.addEventListener("load",()=>{t.loaded=!0},{once:!0}),document.body.appendChild(t),t}try{new Response(new ReadableStream),!n||"serviceWorker"in navigator||(r=!0)}catch(l){r=!0}return(e=>{try{e()}catch(t){}})(()=>{const{readable:e}=new TransformStream,a=new MessageChannel;a.port1.postMessage(e,[e]),a.port1.close(),a.port2.close(),t=!0,Object.defineProperty(s,"TransformStream",{configurable:!1,writable:!1,value:TransformStream})}),s});
},{}],"afbP":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createZipWriter=o;var n=function(){function t(){e(this,t),this.crc=-1}return r(t,[{key:"append",value:function(e){for(var t=0|this.crc,r=this.table,n=0,i=0|e.length;n<i;n++)t=t>>>8^r[255&(t^e[n])];this.crc=t}},{key:"get",value:function(){return~this.crc}}]),t}();n.prototype.table=function(){var e,t,r,n=[];for(e=0;e<256;e++){for(r=e,t=0;t<8;t++)r=1&r?r>>>1^3988292384:r>>>1;n[e]=r}return n}();var i=function(e){var t=new Uint8Array(e);return{array:t,view:new DataView(t.buffer)}},a=function(e){return e.reader.read().then(function(t){if(t.done)return e.writeFooter();var r=t.value;e.crc.append(r),e.uncompressedLength+=r.length,e.compressedLength+=r.length,e.ctrl.enqueue(r)})};function o(e){var t,r,o,s=Object.create(null),c=[],u=new TextEncoder,l=0,d=0;function f(){(r=s[c[++d]])?w():o&&h()}var v={enqueue:function(e){if(o)throw new TypeError("Cannot enqueue a chunk into a readable stream that is closed or has been requested to be closed");var n=e.name.trim(),a=new Date(void 0===e.lastModified?Date.now():e.lastModified);if(e.directory&&!n.endsWith("/")&&(n+="/"),s[n])throw new Error("File already exists.");var d=u.encode(n);c.push(n);var v=s[n]={level:0,ctrl:t,directory:!!e.directory,nameBuf:d,comment:u.encode(e.comment||""),compressedLength:0,uncompressedLength:0,writeHeader:function(){var e=i(26),r=i(30+d.length);v.offset=l,v.header=e,0===v.level||v.directory||e.view.setUint16(4,2048),e.view.setUint32(0,335546376),e.view.setUint16(6,(a.getHours()<<6|a.getMinutes())<<5|a.getSeconds()/2,!0),e.view.setUint16(8,(a.getFullYear()-1980<<4|a.getMonth()+1)<<5|a.getDate(),!0),e.view.setUint16(22,d.length,!0),r.view.setUint32(0,1347093252),r.array.set(e.array,4),r.array.set(d,30),l+=r.array.length,t.enqueue(r.array)},writeFooter:function(){var e=i(16);e.view.setUint32(0,1347094280),v.crc&&(v.header.view.setUint32(10,v.crc.get(),!0),v.header.view.setUint32(14,v.compressedLength,!0),v.header.view.setUint32(18,v.uncompressedLength,!0),e.view.setUint32(4,v.crc.get(),!0),e.view.setUint32(8,v.compressedLength,!0),e.view.setUint32(12,v.uncompressedLength,!0)),t.enqueue(e.array),l+=v.compressedLength+16,f()},fileLike:e};r||(r=v,w())},close:function(){if(o)throw new TypeError("Cannot close a readable stream that has already been requested to be closed");r||h(),o=!0}};function h(){var e,r,n=0,a=0;for(e=0;e<c.length;e++)n+=46+(r=s[c[e]]).nameBuf.length+r.comment.length;var o=i(n+22);for(e=0;e<c.length;e++)r=s[c[e]],o.view.setUint32(a,1347092738),o.view.setUint16(a+4,5120),console.log(r),o.array.set(r.header.array,a+6),o.view.setUint16(a+32,r.comment.length,!0),r.directory&&o.view.setUint8(a+38,16),o.view.setUint32(a+42,r.offset,!0),o.array.set(r.nameBuf,a+46),o.array.set(r.comment,a+46+r.nameBuf.length),a+=46+r.nameBuf.length+r.comment.length;o.view.setUint32(a,1347093766),o.view.setUint16(a+8,c.length,!0),o.view.setUint16(a+10,c.length,!0),o.view.setUint32(a+12,n,!0),o.view.setUint32(a+16,l,!0),t.enqueue(o.array),t.close()}function w(){if(r)return r.directory?r.writeFooter(r.writeHeader()):r.reader?a(r):void(r.fileLike.stream?(r.crc=new n,r.reader=r.fileLike.stream().getReader(),r.writeHeader()):f())}return new ReadableStream({start:function(r){t=r,e.start&&Promise.resolve(e.start(v))},pull:function(){return w()||e.pull&&Promise.resolve(e.pull(v))}})}
},{}],"QCba":[function(require,module,exports) {
"use strict";var e=this&&this.__assign||function(){return(e=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},t=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{u(r.next(e))}catch(t){i(t)}}function c(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,c)}u((r=r.apply(e,t||[])).next())})},n=this&&this.__generator||function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(c){i=[6,c],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),require("regenerator-runtime/runtime");var a=r(require("@jkearl/lightning-fs")),i=r(require("isomorphic-git")),o=r(require("streamsaver")),c=require("./vendor/createZipWriter");document.addEventListener("DOMContentLoaded",function(){if("interactive"===document.readyState||"complete"===document.readyState)return D()});var u=[[],[],[],[],[],[],[]],s=(new Date).getDay(),l=[s<0?49:50,s<1?49:50,s<2?49:50,s<3?49:50,s<4?49:50,s<5?49:50,s<7?49:50],d={size:12,itemPadding:2,maxDepth:4},f=function(e){l.forEach(function(t,n){for(var r=0;r<t;r++)u[n][r]=e})},m=function(e){switch(e){case 0:return"#C4C4C4";case 1:return"#9CE9A8";case 2:return"#42C463";case 3:return"#31A14E";case 4:return"#226E39"}},v=function(e){var t=e.canvas,n=e.data,r=t.getContext("2d");n.forEach(function(e,t){e.forEach(function(e,n){var a=n*d.size+((n-1)*d.itemPadding+d.itemPadding),i=t*d.size+((t-1)*d.itemPadding+d.itemPadding);r.fillStyle=m(e),r.fillRect(a,i,d.size,d.size)})})},h=function(r){document.getElementById("make-git-repo").onclick=function(){return t(void 0,void 0,void 0,function(){var u,s,d,f,m,v,h,p,g,b,y,w,E,x,P,k,D,B,C,I,_,L,M,z,S;return n(this,function(q){switch(q.label){case 0:return(u=document.getElementById("make-git-repo")).disabled=!0,u.textContent="Generating...",r.canvas.style.opacity="0.6",s=document.getElementById("email"),d=s.value,f=new a.default("git-fs",{wipe:!0}),[4,(m=f.promises).writeFile("/README.md","### Readme")];case 1:return q.sent(),v={fs:f,gitdir:"/.git",dir:"/"},[4,i.default.init(e({defaultBranch:"main"},v))];case 2:q.sent(),h=-1,p=0,g=l.reduce(function(e,t){return e+t},0),b=0,(y=document.getElementById("progress-bar")).style.opacity="1",(w=document.getElementById("progress-text")).textContent="Creating commits",E=function(){var e=Math.round(b/g*100);y.style.width=e+"%"},x=50,q.label=3;case 3:if(!(x>=0))return[3,8];E(),P=function(t){var a,o,c;return n(this,function(n){switch(n.label){case 0:if(b++,void 0===(a=r.data[t][x]))return[2,"continue"];if(h++,0===a)return[3,21];switch(864e5,o=new Date(Date.now()-864e5*h),p++,c=function(){return p++,i.default.commit(e({message:"Commit "+p+" - "+h+" days ago",author:{email:d,name:d.split("@")[0],timestamp:Math.floor(o.valueOf()/1e3)}},v))},a){case 4:return[3,1];case 3:return[3,8];case 2:return[3,15];case 1:return[3,19]}return[3,21];case 1:return[4,c()];case 2:case 3:case 4:case 5:case 6:return n.sent(),[4,c()];case 7:n.sent(),n.label=8;case 8:return[4,c()];case 9:case 10:case 11:case 12:case 13:return n.sent(),[4,c()];case 14:n.sent(),n.label=15;case 15:return[4,c()];case 16:case 17:return n.sent(),[4,c()];case 18:n.sent(),n.label=19;case 19:return[4,c()];case 20:n.sent(),n.label=21;case 21:return[2]}})},k=6,q.label=4;case 4:return k>=0?[5,P(k)]:[3,7];case 5:q.sent(),q.label=6;case 6:return k--,[3,4];case 7:return x--,[3,3];case 8:return D=[],B=[],[4,m.readdir("/")];case 9:return C=q.sent(),I=function(e,r){return t(void 0,void 0,void 0,function(){var t,a,i,o;return n(this,function(c){switch(c.label){case 0:t=function(t){var r,a,i;return n(this,function(n){switch(n.label){case 0:return r=e+t,[4,m.stat(r)];case 1:return n.sent().isDirectory()?(B.push("git-activity"+r+"/"),[4,m.readdir(r)]):[3,4];case 2:return a=n.sent(),[4,I(r+"/",a)];case 3:return n.sent(),[3,6];case 4:return[4,m.readFile(r)];case 5:i=n.sent(),D.push({name:"git-activity/"+r,stream:function(){return new Blob([i]).stream()}}),n.label=6;case 6:return[2]}})},a=0,i=r,c.label=1;case 1:return a<i.length?(o=i[a],[5,t(o)]):[3,4];case 2:c.sent(),c.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},w.textContent="Zipping",[4,I("/",C)];case 10:return q.sent(),_=o.default.createWriteStream("archive.zip"),L=c.createZipWriter({start:function(e){for(var t=0,n=B;t<n.length;t++){var r=n[t];e.enqueue({name:r,directory:!0})}for(var a=0,i=D;a<i.length;a++){var o=i[a];e.enqueue(o)}e.close()},pull:function(e){return t(this,void 0,void 0,function(){return n(this,function(t){return e.close(),[2]})})}}),M=_.getWriter(),z=L.getReader(),(S=function(){return z.read().then(function(e){return e.done?M.close():M.write(e.value).then(S)})})(),u.disabled=!1,u.textContent="Create new repo",r.canvas.style.opacity="1",y.style.opacity="0",w.textContent=" ",[2]}})})}},p=function(e){document.getElementById("random").onclick=function(){return t(void 0,void 0,void 0,function(){var t,r,a,i;return n(this,function(n){for(t=Math.floor(3*Math.random())<2,r=50;r>=0;r--)for(a=6;a>=0;a--)void 0!==e.data[a][r]&&(i=Math.floor(4*Math.random()),e.data[a][r]=!t||0!==a&&6!==a?i:0);return w(e),v(e),[2]})})}},g=function(e){document.getElementById("erase").onclick=function(){return t(void 0,void 0,void 0,function(){return n(this,function(t){return f(0),w(e),v(e),[2]})})}},b=function(e){var t=e.canvas,n=e.data,r=!1;function a(e){r=void 0===e.buttons?1===e.which:1===e.buttons}document.body.onmousedown=function(e){a(e),document.onmousemove(e)},document.body.onmousemove=a,document.body.onmouseup=a,document.onmousemove=function(a){if(r){var i=t.parentElement.offsetLeft+t.parentElement.clientLeft+t.offsetLeft+t.clientLeft,o=t.parentElement.offsetTop+t.offsetTop+t.parentElement.clientTop+t.clientTop,c=a.pageX-i,u=a.pageY-o,s=!1;n.forEach(function(t,n){s||t.forEach(function(t,r){if(!s){var a=r*d.size+((r-1)*d.itemPadding+d.itemPadding),i=n*d.size+((n-1)*d.itemPadding+d.itemPadding);a<c&&a+d.size>c&&i<u&&i+d.size>u&&(s=!0,y(e,r,n))}})})}}},y=function(e,t,n){var r=e.data,a=r[n][t];if(-1===e.color){var i=a+1;i>d.maxDepth&&(i=0),r[n][t]=i}else r[n][t]=e.color;w(e),v(e)},w=function(e){var t=e.data,n="map=";t.forEach(function(e){e.forEach(function(e){n+=e+","})}),document.location.hash=n},E=function(){var e=new URLSearchParams(document.location.hash.replace("#",""));if(e.has("map")){var t=e.get("map").split(","),n=0;l.forEach(function(e,r){for(var a=0;a<e;a++)u[r][a]=Number(t[n]),n++})}},x=function(){var e=document.getElementById("email");e.onkeydown=function(){e.value&&e.value.includes(".")&&e.value.includes("@")&&(document.getElementById("make-git-repo").disabled=!1,document.getElementById("email-note").style.display="none")}},P=function(e){var t=["Digit1","Digit2","Digit3","Digit4","Digit5","Digit6"];document.onkeyup=function(n){if(t.includes(n.code)){var r=t.indexOf(n.code),a=document.querySelectorAll("#colors button");a.forEach(function(e){return e.classList.remove("selected")});var i=a[r];i.classList.add("selected"),e.color=Number(i.getAttribute("data-index"))}}},k=function(e){var t=document.querySelectorAll("#colors button");t.forEach(function(n){n.onclick=function(){t.forEach(function(e){return e.classList.remove("selected")}),n.classList.add("selected"),e.color=Number(n.getAttribute("data-index"))}})},D=function(){var e=navigator.userAgent;(/\b(BlackBerry|webOS|iPhone|IEMobile)\b/i.test(e)||/\b(Android|Windows Phone|iPad|iPod)\b/i.test(e))&&alert("This website is not built for mobile devices, it needs a file-system to be useful, come back on a computer."),f(0);var t={canvas:document.getElementById("renderer"),data:u,color:-1};h(t),b(t),x(),p(t),g(t),k(t),P(t),E(),v(t)};
},{"regenerator-runtime/runtime":"KA2S","@jkearl/lightning-fs":"RXOh","isomorphic-git":"oKjG","streamsaver":"niio","./vendor/createZipWriter":"afbP"}]},{},["QCba"], null)
//# sourceMappingURL=/github-activity-writer.702debdf.js.map